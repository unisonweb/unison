<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>System.IO.Unsafe.Compat</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">base-compat-0.13.1: A compatibility layer for base</span><ul class="links" id="page-menu"><li><a href="src/System.IO.Unsafe.Compat.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.IO.Unsafe.Compat</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="../base-4.18.2.1/System-IO-Unsafe.html">System.IO.Unsafe</a></li><li class="src short"><a href="#v:unsafeFixIO">unsafeFixIO</a> :: (a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:unsafeDupablePerformIO">unsafeDupablePerformIO</a> :: <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="../base-4.18.2.1/System-IO-Unsafe.html">System.IO.Unsafe</a></p></div><div class="top"><p class="src"><a id="v:unsafeFixIO" class="def">unsafeFixIO</a> :: (a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="#v:unsafeFixIO" class="selflink">#</a></p><div class="doc"><p>A slightly faster version of <code><a href="../base-4.18.2.1/System-IO.html#v:fixIO" title="System.IO">fixIO</a></code> that may not be
 safe to use with multiple threads.  The unsafety arises when used
 like this:</p><pre> unsafeFixIO $ \r -&gt; do
    forkIO (print r)
    return (...)</pre><p>In this case, the child thread will receive a <code>NonTermination</code>
 exception instead of waiting for the value of <code>r</code> to be computed.</p><p><em>Since: base-4.5.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:unsafeDupablePerformIO" class="def">unsafeDupablePerformIO</a> :: <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; a <a href="#v:unsafeDupablePerformIO" class="selflink">#</a></p><div class="doc"><p>This version of <code><a href="../base-4.18.2.1/System-IO-Unsafe.html#v:unsafePerformIO" title="System.IO.Unsafe">unsafePerformIO</a></code> is more efficient
because it omits the check that the IO is only being performed by a
single thread.  Hence, when you use <code><a href="System-IO-Unsafe-Compat.html#v:unsafeDupablePerformIO" title="System.IO.Unsafe.Compat">unsafeDupablePerformIO</a></code>,
there is a possibility that the IO action may be performed multiple
times (on a multiprocessor), and you should therefore ensure that
it gives the same results each time. It may even happen that one
of the duplicated IO actions is only run partially, and then interrupted
in the middle without an exception being raised. Therefore, functions
like <code><a href="../base-4.18.2.1/Control-Exception.html#v:bracket" title="Control.Exception">bracket</a></code> cannot be used safely within
<code><a href="System-IO-Unsafe-Compat.html#v:unsafeDupablePerformIO" title="System.IO.Unsafe.Compat">unsafeDupablePerformIO</a></code>.</p><p><em>Since: base-4.4.0.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>