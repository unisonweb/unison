<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Monad.Extra</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">extra-1.7.16: Extra functions I use.</span><ul class="links" id="page-menu"><li><a href="src/Control.Monad.Extra.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Monad.Extra</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Loops</a></li><li><a href="#g:2">Lists</a></li><li><a href="#g:3">Booleans</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Extra functions for <a href="../base-4.18.2.1/Control-Monad.html">Control.Monad</a>.
   These functions provide looping, list operations and booleans.
   If you need a wider selection of monad loops and list generalisations,
   see <a href="https://hackage.haskell.org/package/monad-loops">monad-loops</a>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="../base-4.18.2.1/Control-Monad.html">Control.Monad</a></li><li class="src short"><a href="#v:whenJust">whenJust</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a -&gt; (a -&gt; m ()) -&gt; m ()</li><li class="src short"><a href="#v:whenJustM">whenJustM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; (a -&gt; m ()) -&gt; m ()</li><li class="src short"><a href="#v:pureIf">pureIf</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> m =&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; a -&gt; m a</li><li class="src short"><a href="#v:whenMaybe">whenMaybe</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:whenMaybeM">whenMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:unit">unit</a> :: m () -&gt; m ()</li><li class="src short"><a href="#v:maybeM">maybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m b -&gt; (a -&gt; m b) -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m b</li><li class="src short"><a href="#v:fromMaybeM">fromMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a</li><li class="src short"><a href="#v:eitherM">eitherM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m c) -&gt; (b -&gt; m c) -&gt; m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b) -&gt; m c</li><li class="src short"><a href="#v:loop">loop</a> :: (a -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b) -&gt; a -&gt; b</li><li class="src short"><a href="#v:loopM">loopM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b)) -&gt; a -&gt; m b</li><li class="src short"><a href="#v:whileM">whileM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m ()</li><li class="src short"><a href="#v:whileJustM">whileJustM</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a) =&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a</li><li class="src short"><a href="#v:untilJustM">untilJustM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a</li><li class="src short"><a href="#v:partitionM">partitionM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m ([a], [a])</li><li class="src short"><a href="#v:concatMapM">concatMapM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m [b]) -&gt; [a] -&gt; m [b]</li><li class="src short"><a href="#v:concatForM">concatForM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [a] -&gt; (a -&gt; m [b]) -&gt; m [b]</li><li class="src short"><a href="#v:mconcatMapM">mconcatMapM</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b) =&gt; (a -&gt; m b) -&gt; [a] -&gt; m b</li><li class="src short"><a href="#v:mapMaybeM">mapMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; [a] -&gt; m [b]</li><li class="src short"><a href="#v:findM">findM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:firstJustM">firstJustM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; [a] -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:fold1M">fold1M</a> :: (<a href="Control-Exception-Extra.html#t:Partial" title="Control.Exception.Extra">Partial</a>, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; m a) -&gt; [a] -&gt; m a</li><li class="src short"><a href="#v:fold1M_">fold1M_</a> :: (<a href="Control-Exception-Extra.html#t:Partial" title="Control.Exception.Extra">Partial</a>, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; m a) -&gt; [a] -&gt; m ()</li><li class="src short"><a href="#v:whenM">whenM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m () -&gt; m ()</li><li class="src short"><a href="#v:unlessM">unlessM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m () -&gt; m ()</li><li class="src short"><a href="#v:ifM">ifM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m a -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:notM">notM</a> :: <a href="../base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:-124--124--94-">(||^)</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:-38--38--94-">(&amp;&amp;^)</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:orM">orM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:andM">andM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:anyM">anyM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:allM">allM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="../base-4.18.2.1/Control-Monad.html">Control.Monad</a></p></div><div class="top"><p class="src"><a id="v:whenJust" class="def">whenJust</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a -&gt; (a -&gt; m ()) -&gt; m () <a href="src/Control.Monad.Extra.html#whenJust" class="link">Source</a> <a href="#v:whenJust" class="selflink">#</a></p><div class="doc"><p>Perform some operation on <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code>, given the field inside the <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code>.
   This is a specialized <code><a href="../base-4.18.2.1/Data-Foldable.html#v:for_" title="Data.Foldable">for_</a></code>.</p><pre>whenJust Nothing  print == pure ()
whenJust (Just 1) print == print 1</pre></div></div><div class="top"><p class="src"><a id="v:whenJustM" class="def">whenJustM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; (a -&gt; m ()) -&gt; m () <a href="src/Control.Monad.Extra.html#whenJustM" class="link">Source</a> <a href="#v:whenJustM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Monad-Extra.html#v:whenJust" title="Control.Monad.Extra">whenJust</a></code>, but where the test can be monadic.</p></div></div><div class="top"><p class="src"><a id="v:pureIf" class="def">pureIf</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> m =&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; a -&gt; m a <a href="src/Control.Monad.Extra.html#pureIf" class="link">Source</a> <a href="#v:pureIf" class="selflink">#</a></p><div class="doc"><p>Return either a <code><a href="../base-4.18.2.1/Control-Applicative.html#v:pure" title="Control.Applicative">pure</a></code> value if a condition is <code><a href="../base-4.18.2.1/Data-Bool.html#v:True" title="Data.Bool">True</a></code>, otherwise <code><a href="../base-4.18.2.1/Control-Applicative.html#v:empty" title="Control.Applicative">empty</a></code>.</p><pre>pureIf @Maybe True  5 == Just 5
pureIf @Maybe False 5 == Nothing
pureIf @[]    True  5 == [5]
pureIf @[]    False 5 == []</pre></div></div><div class="top"><p class="src"><a id="v:whenMaybe" class="def">whenMaybe</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/Control.Monad.Extra.html#whenMaybe" class="link">Source</a> <a href="#v:whenMaybe" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../base-4.18.2.1/Control-Monad.html#v:when" title="Control.Monad">when</a></code>, but return either <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the predicate was <code><a href="../base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a></code>,
   or <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> with the result of the computation.</p><pre>whenMaybe True  (print 1) == fmap Just (print 1)
whenMaybe False (print 1) == pure Nothing</pre></div></div><div class="top"><p class="src"><a id="v:whenMaybeM" class="def">whenMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/Control.Monad.Extra.html#whenMaybeM" class="link">Source</a> <a href="#v:whenMaybeM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Monad-Extra.html#v:whenMaybe" title="Control.Monad.Extra">whenMaybe</a></code>, but where the test can be monadic.</p></div></div><div class="top"><p class="src"><a id="v:unit" class="def">unit</a> :: m () -&gt; m () <a href="src/Control.Monad.Extra.html#unit" class="link">Source</a> <a href="#v:unit" class="selflink">#</a></p><div class="doc"><p>The identity function which requires the inner argument to be <code>()</code>. Useful for functions
   with overloaded return types.</p><pre>\(x :: Maybe ()) -&gt; unit x == x</pre></div></div><div class="top"><p class="src"><a id="v:maybeM" class="def">maybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m b -&gt; (a -&gt; m b) -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m b <a href="src/Control.Monad.Extra.html#maybeM" class="link">Source</a> <a href="#v:maybeM" class="selflink">#</a></p><div class="doc"><p>Monadic generalisation of <code><a href="../base-4.18.2.1/Data-Maybe.html#v:maybe" title="Data.Maybe">maybe</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:fromMaybeM" class="def">fromMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a <a href="src/Control.Monad.Extra.html#fromMaybeM" class="link">Source</a> <a href="#v:fromMaybeM" class="selflink">#</a></p><div class="doc"><p>Monadic generalisation of <code><a href="../base-4.18.2.1/Data-Maybe.html#v:fromMaybe" title="Data.Maybe">fromMaybe</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:eitherM" class="def">eitherM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m c) -&gt; (b -&gt; m c) -&gt; m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b) -&gt; m c <a href="src/Control.Monad.Extra.html#eitherM" class="link">Source</a> <a href="#v:eitherM" class="selflink">#</a></p><div class="doc"><p>Monadic generalisation of <code><a href="../base-4.18.2.1/Data-Either.html#v:either" title="Data.Either">either</a></code>.</p></div></div><a href="#g:1" id="g:1"><h1>Loops</h1></a><div class="top"><p class="src"><a id="v:loop" class="def">loop</a> :: (a -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b) -&gt; a -&gt; b <a href="src/Control.Monad.Extra.html#loop" class="link">Source</a> <a href="#v:loop" class="selflink">#</a></p><div class="doc"><p>A looping operation, where the predicate returns <code><a href="../base-4.18.2.1/Data-Either.html#v:Left" title="Data.Either">Left</a></code> as a seed for the next loop
   or <code><a href="../base-4.18.2.1/Data-Either.html#v:Right" title="Data.Either">Right</a></code> to abort the loop.</p><pre>loop (\x -&gt; if x &lt; 10 then Left $ x * 2 else Right $ show x) 1 == &quot;16&quot;</pre></div></div><div class="top"><p class="src"><a id="v:loopM" class="def">loopM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b)) -&gt; a -&gt; m b <a href="src/Control.Monad.Extra.html#loopM" class="link">Source</a> <a href="#v:loopM" class="selflink">#</a></p><div class="doc"><p>A monadic version of <code><a href="Control-Monad-Extra.html#v:loop" title="Control.Monad.Extra">loop</a></code>, where the predicate returns <code><a href="../base-4.18.2.1/Data-Either.html#v:Left" title="Data.Either">Left</a></code> as a seed for the next loop
   or <code><a href="../base-4.18.2.1/Data-Either.html#v:Right" title="Data.Either">Right</a></code> to abort the loop.</p></div></div><div class="top"><p class="src"><a id="v:whileM" class="def">whileM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m () <a href="src/Control.Monad.Extra.html#whileM" class="link">Source</a> <a href="#v:whileM" class="selflink">#</a></p><div class="doc"><p>Keep running an operation until it becomes <code><a href="../base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a></code>. As an example:</p><pre>whileM $ do sleep 0.1; notM $ doesFileExist &quot;foo.txt&quot;
readFile &quot;foo.txt&quot;
</pre><p>If you need some state persisted between each test, use <code><a href="Control-Monad-Extra.html#v:loopM" title="Control.Monad.Extra">loopM</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:whileJustM" class="def">whileJustM</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a) =&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a <a href="src/Control.Monad.Extra.html#whileJustM" class="link">Source</a> <a href="#v:whileJustM" class="selflink">#</a></p><div class="doc"><p>Keep running an operation until it becomes a <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>, accumulating the
   monoid results inside the <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code>s as the result of the overall loop.</p></div></div><div class="top"><p class="src"><a id="v:untilJustM" class="def">untilJustM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a <a href="src/Control.Monad.Extra.html#untilJustM" class="link">Source</a> <a href="#v:untilJustM" class="selflink">#</a></p><div class="doc"><p>Keep running an operation until it becomes a <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code>, then return the value
   inside the <code><a href="../base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> as the result of the overall loop.</p></div></div><a href="#g:2" id="g:2"><h1>Lists</h1></a><div class="top"><p class="src"><a id="v:partitionM" class="def">partitionM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m ([a], [a]) <a href="src/Control.Monad.Extra.html#partitionM" class="link">Source</a> <a href="#v:partitionM" class="selflink">#</a></p><div class="doc"><p>A version of <code>partition</code> that works with a monadic predicate.</p><pre>partitionM (Just . even) [1,2,3] == Just ([2], [1,3])
partitionM (const Nothing) [1,2,3] == Nothing</pre></div></div><div class="top"><p class="src"><a id="v:concatMapM" class="def">concatMapM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m [b]) -&gt; [a] -&gt; m [b] <a href="src/Control.Monad.Extra.html#concatMapM" class="link">Source</a> <a href="#v:concatMapM" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/Data-Foldable.html#v:concatMap" title="Data.Foldable">concatMap</a></code> that works with a monadic predicate.</p></div></div><div class="top"><p class="src"><a id="v:concatForM" class="def">concatForM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [a] -&gt; (a -&gt; m [b]) -&gt; m [b] <a href="src/Control.Monad.Extra.html#concatForM" class="link">Source</a> <a href="#v:concatForM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Monad-Extra.html#v:concatMapM" title="Control.Monad.Extra">concatMapM</a></code>, but has its arguments flipped, so can be used
   instead of the common <code>fmap concat $ forM</code> pattern.</p></div></div><div class="top"><p class="src"><a id="v:mconcatMapM" class="def">mconcatMapM</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b) =&gt; (a -&gt; m b) -&gt; [a] -&gt; m b <a href="src/Control.Monad.Extra.html#mconcatMapM" class="link">Source</a> <a href="#v:mconcatMapM" class="selflink">#</a></p><div class="doc"><p>A version of <code>mconcatMap</code> that works with a monadic predicate.</p></div></div><div class="top"><p class="src"><a id="v:mapMaybeM" class="def">mapMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; [a] -&gt; m [b] <a href="src/Control.Monad.Extra.html#mapMaybeM" class="link">Source</a> <a href="#v:mapMaybeM" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/Data-Maybe.html#v:mapMaybe" title="Data.Maybe">mapMaybe</a></code> that works with a monadic predicate.</p></div></div><div class="top"><p class="src"><a id="v:findM" class="def">findM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/Control.Monad.Extra.html#findM" class="link">Source</a> <a href="#v:findM" class="selflink">#</a></p><div class="doc"><p>Like <code>find</code>, but where the test can be monadic.</p><pre>findM (Just . isUpper) &quot;teST&quot;             == Just (Just 'S')
findM (Just . isUpper) &quot;test&quot;             == Just Nothing
findM (Just . const True) [&quot;x&quot;,undefined] == Just (Just &quot;x&quot;)</pre></div></div><div class="top"><p class="src"><a id="v:firstJustM" class="def">firstJustM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; [a] -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b) <a href="src/Control.Monad.Extra.html#firstJustM" class="link">Source</a> <a href="#v:firstJustM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Monad-Extra.html#v:findM" title="Control.Monad.Extra">findM</a></code>, but also allows you to compute some additional information in the predicate.</p></div></div><div class="top"><p class="src"><a id="v:fold1M" class="def">fold1M</a> :: (<a href="Control-Exception-Extra.html#t:Partial" title="Control.Exception.Extra">Partial</a>, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; m a) -&gt; [a] -&gt; m a <a href="src/Control.Monad.Extra.html#fold1M" class="link">Source</a> <a href="#v:fold1M" class="selflink">#</a></p><div class="doc"><p>A variant of <code><a href="../base-4.18.2.1/Control-Monad.html#v:foldM" title="Control.Monad">foldM</a></code> that has no base case, and thus may only be applied to non-empty lists.</p><pre>fold1M (\x y -&gt; Just x) [] == undefined
fold1M (\x y -&gt; Just $ x + y) [1, 2, 3] == Just 6</pre></div></div><div class="top"><p class="src"><a id="v:fold1M_" class="def">fold1M_</a> :: (<a href="Control-Exception-Extra.html#t:Partial" title="Control.Exception.Extra">Partial</a>, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; m a) -&gt; [a] -&gt; m () <a href="src/Control.Monad.Extra.html#fold1M_" class="link">Source</a> <a href="#v:fold1M_" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Monad-Extra.html#v:fold1M" title="Control.Monad.Extra">fold1M</a></code> but discards the result.</p></div></div><a href="#g:3" id="g:3"><h1>Booleans</h1></a><div class="top"><p class="src"><a id="v:whenM" class="def">whenM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m () -&gt; m () <a href="src/Control.Monad.Extra.html#whenM" class="link">Source</a> <a href="#v:whenM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../base-4.18.2.1/Control-Monad.html#v:when" title="Control.Monad">when</a></code>, but where the test can be monadic.</p></div></div><div class="top"><p class="src"><a id="v:unlessM" class="def">unlessM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m () -&gt; m () <a href="src/Control.Monad.Extra.html#unlessM" class="link">Source</a> <a href="#v:unlessM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../base-4.18.2.1/Control-Monad.html#v:unless" title="Control.Monad">unless</a></code>, but where the test can be monadic.</p></div></div><div class="top"><p class="src"><a id="v:ifM" class="def">ifM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m a -&gt; m a -&gt; m a <a href="src/Control.Monad.Extra.html#ifM" class="link">Source</a> <a href="#v:ifM" class="selflink">#</a></p><div class="doc"><p>Like <code>if</code>, but where the test can be monadic.</p></div></div><div class="top"><p class="src"><a id="v:notM" class="def">notM</a> :: <a href="../base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#notM" class="link">Source</a> <a href="#v:notM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../base-4.18.2.1/Data-Bool.html#v:not" title="Data.Bool">not</a></code>, but where the test can be monadic.</p></div></div><div class="top"><p class="src"><a id="v:-124--124--94-" class="def">(||^)</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#%7C%7C%5E" class="link">Source</a> <a href="#v:-124--124--94-" class="selflink">#</a></p><div class="doc"><p>The lazy <code><a href="../base-4.18.2.1/Data-Bool.html#v:-124--124-" title="Data.Bool">||</a></code> operator lifted to a monad. If the first
   argument evaluates to <code><a href="../base-4.18.2.1/Data-Bool.html#v:True" title="Data.Bool">True</a></code> the second argument will not
   be evaluated.</p><pre>Just True  ||^ undefined  == Just True
Just False ||^ Just True  == Just True
Just False ||^ Just False == Just False</pre></div></div><div class="top"><p class="src"><a id="v:-38--38--94-" class="def">(&amp;&amp;^)</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#%26%26%5E" class="link">Source</a> <a href="#v:-38--38--94-" class="selflink">#</a></p><div class="doc"><p>The lazy <code><a href="../base-4.18.2.1/Data-Bool.html#v:-38--38-" title="Data.Bool">&amp;&amp;</a></code> operator lifted to a monad. If the first
   argument evaluates to <code><a href="../base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a></code> the second argument will not
   be evaluated.</p><pre>Just False &amp;&amp;^ undefined  == Just False
Just True  &amp;&amp;^ Just True  == Just True
Just True  &amp;&amp;^ Just False == Just False</pre></div></div><div class="top"><p class="src"><a id="v:orM" class="def">orM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#orM" class="link">Source</a> <a href="#v:orM" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/Data-Foldable.html#v:or" title="Data.Foldable">or</a></code> lifted to a monad. Retains the short-circuiting behaviour.</p><pre>orM [Just False,Just True ,undefined] == Just True
orM [Just False,Just False,undefined] == undefined
\xs -&gt; Just (or xs) == orM (map Just xs)</pre></div></div><div class="top"><p class="src"><a id="v:andM" class="def">andM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#andM" class="link">Source</a> <a href="#v:andM" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/Data-Foldable.html#v:and" title="Data.Foldable">and</a></code> lifted to a monad. Retains the short-circuiting behaviour.</p><pre>andM [Just True,Just False,undefined] == Just False
andM [Just True,Just True ,undefined] == undefined
\xs -&gt; Just (and xs) == andM (map Just xs)</pre></div></div><div class="top"><p class="src"><a id="v:anyM" class="def">anyM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#anyM" class="link">Source</a> <a href="#v:anyM" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/Data-Foldable.html#v:any" title="Data.Foldable">any</a></code> lifted to a monad. Retains the short-circuiting behaviour.</p><pre>anyM Just [False,True ,undefined] == Just True
anyM Just [False,False,undefined] == undefined
\(f :: Int -&gt; Maybe Bool) xs -&gt; anyM f xs == orM (map f xs)</pre></div></div><div class="top"><p class="src"><a id="v:allM" class="def">allM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; [a] -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Extra.html#allM" class="link">Source</a> <a href="#v:allM" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/Data-Foldable.html#v:all" title="Data.Foldable">all</a></code> lifted to a monad. Retains the short-circuiting behaviour.</p><pre>allM Just [True,False,undefined] == Just False
allM Just [True,True ,undefined] == undefined
\(f :: Int -&gt; Maybe Bool) xs -&gt; anyM f xs == orM (map f xs)</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>