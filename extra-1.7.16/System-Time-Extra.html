<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>System.Time.Extra</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">extra-1.7.16: Extra functions I use.</span><ul class="links" id="page-menu"><li><a href="src/System.Time.Extra.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.Time.Extra</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Extra functions for working with times. Unlike the other modules in this package, there is no
   corresponding <code>System.Time</code> module. This module enhances the functionality
   from <a href="../time-1.12.2/Data-Time-Clock.html">Data.Time.Clock</a>, but in quite different ways.</p><p>Throughout, time is measured in <code><a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a></code>, which is a type alias for <code><a href="../base-4.18.2.1/Prelude.html#t:Double" title="Prelude">Double</a></code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Seconds">Seconds</a> = <a href="../base-4.18.2.1/Prelude.html#t:Double" title="Prelude">Double</a></li><li class="src short"><a href="#v:sleep">sleep</a> :: <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:timeout">timeout</a> :: <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:showDuration">showDuration</a> :: <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:offsetTime">offsetTime</a> :: <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a>)</li><li class="src short"><a href="#v:offsetTimeIncrease">offsetTimeIncrease</a> :: <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a>)</li><li class="src short"><a href="#v:duration">duration</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; m a -&gt; m (<a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a>, a)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Seconds" class="def">Seconds</a> = <a href="../base-4.18.2.1/Prelude.html#t:Double" title="Prelude">Double</a> <a href="src/System.Time.Extra.html#Seconds" class="link">Source</a> <a href="#t:Seconds" class="selflink">#</a></p><div class="doc"><p>A type alias for seconds, which are stored as <code><a href="../base-4.18.2.1/Prelude.html#t:Double" title="Prelude">Double</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:sleep" class="def">sleep</a> :: <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.Time.Extra.html#sleep" class="link">Source</a> <a href="#v:sleep" class="selflink">#</a></p><div class="doc"><p>Sleep for a number of seconds.</p><pre>fmap (round . fst) (duration $ sleep 1) == pure 1</pre></div></div><div class="top"><p class="src"><a id="v:timeout" class="def">timeout</a> :: <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/System.Time.Extra.html#timeout" class="link">Source</a> <a href="#v:timeout" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.18.2.1/System-Timeout.html#v:timeout" title="System.Timeout">timeout</a></code> that takes <code><a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a></code> and never
   overflows the bounds of an <code><a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></code>. In addition, the bug that negative
   timeouts run for ever has been fixed.</p><pre>timeout (-3) (print 1) == pure Nothing
timeout 0.1  (print 1) == fmap Just (print 1)
do (t, _) &lt;- duration $ timeout 0.1 $ sleep 1000; print t; pure $ t &lt; 1
timeout 0.1  (sleep 2 &gt;&gt; print 1) == pure Nothing</pre></div></div><div class="top"><p class="src"><a id="v:showDuration" class="def">showDuration</a> :: <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/System.Time.Extra.html#showDuration" class="link">Source</a> <a href="#v:showDuration" class="selflink">#</a></p><div class="doc"><p>Show a number of seconds, typically a duration, in a suitable manner with
   reasonable precision for a human.</p><pre>showDuration 3.435   == &quot;3.44s&quot;
showDuration 623.8   == &quot;10m24s&quot;
showDuration 62003.8 == &quot;17h13m&quot;
showDuration 1e8     == &quot;27777h47m&quot;</pre></div></div><div class="top"><p class="src"><a id="v:offsetTime" class="def">offsetTime</a> :: <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a>) <a href="src/System.Time.Extra.html#offsetTime" class="link">Source</a> <a href="#v:offsetTime" class="selflink">#</a></p><div class="doc"><p>Call once to start, then call repeatedly to get the elapsed time since the first call.
   The time is guaranteed to be monotonic. This function is robust to system time changes.</p><pre>do f &lt;- offsetTime; xs &lt;- replicateM 10 f; pure $ xs == sort xs</pre></div></div><div class="top"><p class="src"><a id="v:offsetTimeIncrease" class="def">offsetTimeIncrease</a> :: <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a>) <a href="src/System.Time.Extra.html#offsetTimeIncrease" class="link">Source</a> <a href="#v:offsetTimeIncrease" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="System-Time-Extra.html#v:offsetTime" title="System.Time.Extra">offsetTime</a></code> instead, which is guaranteed to always increase.</p></div><p>A synonym for <code><a href="System-Time-Extra.html#v:offsetTime" title="System.Time.Extra">offsetTime</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:duration" class="def">duration</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; m a -&gt; m (<a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a>, a) <a href="src/System.Time.Extra.html#duration" class="link">Source</a> <a href="#v:duration" class="selflink">#</a></p><div class="doc"><p>Record how long a computation takes in <code><a href="System-Time-Extra.html#t:Seconds" title="System.Time.Extra">Seconds</a></code>.</p><pre>do (a,_) &lt;- duration $ sleep 1; pure $ a &gt;= 1 &amp;&amp; a &lt;= 1.5</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>