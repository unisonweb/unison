<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP               #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK not-home #-}</span><span class="hs-cpp">

#include &quot;version-compatibility-macros.h&quot;
</span><span>
</span><span id="line-8"></span><span class="annot"><span class="hs-comment">-- | __Warning:__ Internal module. May change arbitrarily between versions.</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Prettyprinter.Render.Terminal.Internal</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Styling</span></span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier">AnsiStyle</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier">Color</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Font color</span></span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#color"><span class="hs-identifier">color</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#colorDull"><span class="hs-identifier">colorDull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Background color</span></span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#bgColor"><span class="hs-identifier">bgColor</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#bgColorDull"><span class="hs-identifier">bgColorDull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Font style</span></span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#bold"><span class="hs-identifier">bold</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#italicized"><span class="hs-identifier">italicized</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#underlined"><span class="hs-identifier">underlined</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Internal markers</span></span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Intensity"><span class="hs-identifier">Intensity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Bold"><span class="hs-identifier">Bold</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Underlined"><span class="hs-identifier">Underlined</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Italicized"><span class="hs-identifier">Italicized</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Conversion to ANSI-infused 'Text'</span></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#renderLazy"><span class="hs-identifier">renderLazy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#renderStrict"><span class="hs-identifier">renderStrict</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Render directly to 'stdout'</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#renderIO"><span class="hs-identifier">renderIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Convenience functions</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#putDoc"><span class="hs-identifier">putDoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#hPutDoc"><span class="hs-identifier">hPutDoc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>              </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.IO</span></span><span>           </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Lazy</span></span><span>         </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Lazy.Builder</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TLB</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">System.Console.ANSI</span></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ANSI</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Handle</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hPutChar</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">stdout</span></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter.Render.Util.Panic</span></span><span class="hs-cpp">

#if !(SEMIGROUP_MONOID_SUPERCLASS)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Semigroup</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if !(MIN_VERSION_base(4,6,0))
</span><span class="hs-identifier">modifyIORef'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-identifier">modifyIORef'</span><span> </span><span class="hs-identifier">ref</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">readIORef</span><span> </span><span class="hs-identifier">ref</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">x'</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-identifier">x'</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">seq</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">writeIORef</span><span> </span><span class="hs-identifier">ref</span><span> </span><span class="hs-identifier">x'</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-68"></span><span class="hs-comment">--</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- (Definitions for the doctests)</span><span>
</span><span id="line-70"></span><span class="hs-comment">--</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XOverloadedStrings</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.Text.Lazy.IO as TL</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.Text.Lazy as TL</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- &gt;&gt;&gt; import Prettyprinter.Render.Terminal</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="annot"><span class="hs-comment">-- | The 8 ANSI terminal colors.</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">data</span><span> </span><span id="Color"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-var">Color</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Black"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Black"><span class="hs-identifier hs-var">Black</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Red"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Red"><span class="hs-identifier hs-var">Red</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Green"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Green"><span class="hs-identifier hs-var">Green</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Yellow"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Yellow"><span class="hs-identifier hs-var">Yellow</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Blue"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Blue"><span class="hs-identifier hs-var">Blue</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Magenta"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Magenta"><span class="hs-identifier hs-var">Magenta</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Cyan"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Cyan"><span class="hs-identifier hs-var">Cyan</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="White"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#White"><span class="hs-identifier hs-var">White</span></a></span></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039003"><span id="local-6989586621679039005"><span class="annot"><span class="annottext">Color -&gt; Color -&gt; Bool
(Color -&gt; Color -&gt; Bool) -&gt; (Color -&gt; Color -&gt; Bool) -&gt; Eq Color
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Color -&gt; Color -&gt; Bool
== :: Color -&gt; Color -&gt; Bool
$c/= :: Color -&gt; Color -&gt; Bool
/= :: Color -&gt; Color -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039012"><span id="local-6989586621679039014"><span id="local-6989586621679039016"><span id="local-6989586621679039020"><span id="local-6989586621679039023"><span id="local-6989586621679039026"><span id="local-6989586621679039029"><span class="annot"><span class="annottext">Eq Color
Eq Color =&gt;
(Color -&gt; Color -&gt; Ordering)
-&gt; (Color -&gt; Color -&gt; Bool)
-&gt; (Color -&gt; Color -&gt; Bool)
-&gt; (Color -&gt; Color -&gt; Bool)
-&gt; (Color -&gt; Color -&gt; Bool)
-&gt; (Color -&gt; Color -&gt; Color)
-&gt; (Color -&gt; Color -&gt; Color)
-&gt; Ord Color
Color -&gt; Color -&gt; Bool
Color -&gt; Color -&gt; Ordering
Color -&gt; Color -&gt; Color
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Color -&gt; Color -&gt; Ordering
compare :: Color -&gt; Color -&gt; Ordering
$c&lt; :: Color -&gt; Color -&gt; Bool
&lt; :: Color -&gt; Color -&gt; Bool
$c&lt;= :: Color -&gt; Color -&gt; Bool
&lt;= :: Color -&gt; Color -&gt; Bool
$c&gt; :: Color -&gt; Color -&gt; Bool
&gt; :: Color -&gt; Color -&gt; Bool
$c&gt;= :: Color -&gt; Color -&gt; Bool
&gt;= :: Color -&gt; Color -&gt; Bool
$cmax :: Color -&gt; Color -&gt; Color
max :: Color -&gt; Color -&gt; Color
$cmin :: Color -&gt; Color -&gt; Color
min :: Color -&gt; Color -&gt; Color
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039033"><span id="local-6989586621679039035"><span id="local-6989586621679039039"><span class="annot"><span class="annottext">Int -&gt; Color -&gt; ShowS
[Color] -&gt; ShowS
Color -&gt; String
(Int -&gt; Color -&gt; ShowS)
-&gt; (Color -&gt; String) -&gt; ([Color] -&gt; ShowS) -&gt; Show Color
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Color -&gt; ShowS
showsPrec :: Int -&gt; Color -&gt; ShowS
$cshow :: Color -&gt; String
show :: Color -&gt; String
$cshowList :: [Color] -&gt; ShowS
showList :: [Color] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="annot"><span class="hs-comment">-- | Dull or vivid coloring, as supported by ANSI terminals.</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">data</span><span> </span><span id="Intensity"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Intensity"><span class="hs-identifier hs-var">Intensity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Vivid"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Vivid"><span class="hs-identifier hs-var">Vivid</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Dull"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Dull"><span class="hs-identifier hs-var">Dull</span></a></span></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039045"><span id="local-6989586621679039047"><span class="annot"><span class="annottext">Intensity -&gt; Intensity -&gt; Bool
(Intensity -&gt; Intensity -&gt; Bool)
-&gt; (Intensity -&gt; Intensity -&gt; Bool) -&gt; Eq Intensity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Intensity -&gt; Intensity -&gt; Bool
== :: Intensity -&gt; Intensity -&gt; Bool
$c/= :: Intensity -&gt; Intensity -&gt; Bool
/= :: Intensity -&gt; Intensity -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039053"><span id="local-6989586621679039055"><span id="local-6989586621679039057"><span id="local-6989586621679039061"><span id="local-6989586621679039064"><span id="local-6989586621679039067"><span id="local-6989586621679039070"><span class="annot"><span class="annottext">Eq Intensity
Eq Intensity =&gt;
(Intensity -&gt; Intensity -&gt; Ordering)
-&gt; (Intensity -&gt; Intensity -&gt; Bool)
-&gt; (Intensity -&gt; Intensity -&gt; Bool)
-&gt; (Intensity -&gt; Intensity -&gt; Bool)
-&gt; (Intensity -&gt; Intensity -&gt; Bool)
-&gt; (Intensity -&gt; Intensity -&gt; Intensity)
-&gt; (Intensity -&gt; Intensity -&gt; Intensity)
-&gt; Ord Intensity
Intensity -&gt; Intensity -&gt; Bool
Intensity -&gt; Intensity -&gt; Ordering
Intensity -&gt; Intensity -&gt; Intensity
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Intensity -&gt; Intensity -&gt; Ordering
compare :: Intensity -&gt; Intensity -&gt; Ordering
$c&lt; :: Intensity -&gt; Intensity -&gt; Bool
&lt; :: Intensity -&gt; Intensity -&gt; Bool
$c&lt;= :: Intensity -&gt; Intensity -&gt; Bool
&lt;= :: Intensity -&gt; Intensity -&gt; Bool
$c&gt; :: Intensity -&gt; Intensity -&gt; Bool
&gt; :: Intensity -&gt; Intensity -&gt; Bool
$c&gt;= :: Intensity -&gt; Intensity -&gt; Bool
&gt;= :: Intensity -&gt; Intensity -&gt; Bool
$cmax :: Intensity -&gt; Intensity -&gt; Intensity
max :: Intensity -&gt; Intensity -&gt; Intensity
$cmin :: Intensity -&gt; Intensity -&gt; Intensity
min :: Intensity -&gt; Intensity -&gt; Intensity
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039073"><span id="local-6989586621679039075"><span id="local-6989586621679039079"><span class="annot"><span class="annottext">Int -&gt; Intensity -&gt; ShowS
[Intensity] -&gt; ShowS
Intensity -&gt; String
(Int -&gt; Intensity -&gt; ShowS)
-&gt; (Intensity -&gt; String)
-&gt; ([Intensity] -&gt; ShowS)
-&gt; Show Intensity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Intensity -&gt; ShowS
showsPrec :: Int -&gt; Intensity -&gt; ShowS
$cshow :: Intensity -&gt; String
show :: Intensity -&gt; String
$cshowList :: [Intensity] -&gt; ShowS
showList :: [Intensity] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="annot"><span class="hs-comment">-- | Foreground (text) or background (paper) color</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">data</span><span> </span><span id="Layer"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Layer"><span class="hs-identifier hs-var">Layer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Foreground"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Foreground"><span class="hs-identifier hs-var">Foreground</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Background"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Background"><span class="hs-identifier hs-var">Background</span></a></span></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039084"><span id="local-6989586621679039086"><span class="annot"><span class="annottext">Layer -&gt; Layer -&gt; Bool
(Layer -&gt; Layer -&gt; Bool) -&gt; (Layer -&gt; Layer -&gt; Bool) -&gt; Eq Layer
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Layer -&gt; Layer -&gt; Bool
== :: Layer -&gt; Layer -&gt; Bool
$c/= :: Layer -&gt; Layer -&gt; Bool
/= :: Layer -&gt; Layer -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039092"><span id="local-6989586621679039094"><span id="local-6989586621679039096"><span id="local-6989586621679039100"><span id="local-6989586621679039103"><span id="local-6989586621679039106"><span id="local-6989586621679039109"><span class="annot"><span class="annottext">Eq Layer
Eq Layer =&gt;
(Layer -&gt; Layer -&gt; Ordering)
-&gt; (Layer -&gt; Layer -&gt; Bool)
-&gt; (Layer -&gt; Layer -&gt; Bool)
-&gt; (Layer -&gt; Layer -&gt; Bool)
-&gt; (Layer -&gt; Layer -&gt; Bool)
-&gt; (Layer -&gt; Layer -&gt; Layer)
-&gt; (Layer -&gt; Layer -&gt; Layer)
-&gt; Ord Layer
Layer -&gt; Layer -&gt; Bool
Layer -&gt; Layer -&gt; Ordering
Layer -&gt; Layer -&gt; Layer
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Layer -&gt; Layer -&gt; Ordering
compare :: Layer -&gt; Layer -&gt; Ordering
$c&lt; :: Layer -&gt; Layer -&gt; Bool
&lt; :: Layer -&gt; Layer -&gt; Bool
$c&lt;= :: Layer -&gt; Layer -&gt; Bool
&lt;= :: Layer -&gt; Layer -&gt; Bool
$c&gt; :: Layer -&gt; Layer -&gt; Bool
&gt; :: Layer -&gt; Layer -&gt; Bool
$c&gt;= :: Layer -&gt; Layer -&gt; Bool
&gt;= :: Layer -&gt; Layer -&gt; Bool
$cmax :: Layer -&gt; Layer -&gt; Layer
max :: Layer -&gt; Layer -&gt; Layer
$cmin :: Layer -&gt; Layer -&gt; Layer
min :: Layer -&gt; Layer -&gt; Layer
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039112"><span id="local-6989586621679039114"><span id="local-6989586621679039118"><span class="annot"><span class="annottext">Int -&gt; Layer -&gt; ShowS
[Layer] -&gt; ShowS
Layer -&gt; String
(Int -&gt; Layer -&gt; ShowS)
-&gt; (Layer -&gt; String) -&gt; ([Layer] -&gt; ShowS) -&gt; Show Layer
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Layer -&gt; ShowS
showsPrec :: Int -&gt; Layer -&gt; ShowS
$cshow :: Layer -&gt; String
show :: Layer -&gt; String
$cshowList :: [Layer] -&gt; ShowS
showList :: [Layer] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">data</span><span> </span><span id="Bold"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Bold"><span class="hs-identifier hs-var">Bold</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span id="Bold"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Bold"><span class="hs-identifier hs-var">Bold</span></a></span></span><span>       </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039122"><span id="local-6989586621679039124"><span class="annot"><span class="annottext">Bold -&gt; Bold -&gt; Bool
(Bold -&gt; Bold -&gt; Bool) -&gt; (Bold -&gt; Bold -&gt; Bool) -&gt; Eq Bold
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Bold -&gt; Bold -&gt; Bool
== :: Bold -&gt; Bold -&gt; Bool
$c/= :: Bold -&gt; Bold -&gt; Bool
/= :: Bold -&gt; Bold -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039130"><span id="local-6989586621679039132"><span id="local-6989586621679039134"><span id="local-6989586621679039138"><span id="local-6989586621679039141"><span id="local-6989586621679039144"><span id="local-6989586621679039147"><span class="annot"><span class="annottext">Eq Bold
Eq Bold =&gt;
(Bold -&gt; Bold -&gt; Ordering)
-&gt; (Bold -&gt; Bold -&gt; Bool)
-&gt; (Bold -&gt; Bold -&gt; Bool)
-&gt; (Bold -&gt; Bold -&gt; Bool)
-&gt; (Bold -&gt; Bold -&gt; Bool)
-&gt; (Bold -&gt; Bold -&gt; Bold)
-&gt; (Bold -&gt; Bold -&gt; Bold)
-&gt; Ord Bold
Bold -&gt; Bold -&gt; Bool
Bold -&gt; Bold -&gt; Ordering
Bold -&gt; Bold -&gt; Bold
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Bold -&gt; Bold -&gt; Ordering
compare :: Bold -&gt; Bold -&gt; Ordering
$c&lt; :: Bold -&gt; Bold -&gt; Bool
&lt; :: Bold -&gt; Bold -&gt; Bool
$c&lt;= :: Bold -&gt; Bold -&gt; Bool
&lt;= :: Bold -&gt; Bold -&gt; Bool
$c&gt; :: Bold -&gt; Bold -&gt; Bool
&gt; :: Bold -&gt; Bold -&gt; Bool
$c&gt;= :: Bold -&gt; Bold -&gt; Bool
&gt;= :: Bold -&gt; Bold -&gt; Bool
$cmax :: Bold -&gt; Bold -&gt; Bold
max :: Bold -&gt; Bold -&gt; Bold
$cmin :: Bold -&gt; Bold -&gt; Bold
min :: Bold -&gt; Bold -&gt; Bold
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039150"><span id="local-6989586621679039152"><span id="local-6989586621679039156"><span class="annot"><span class="annottext">Int -&gt; Bold -&gt; ShowS
[Bold] -&gt; ShowS
Bold -&gt; String
(Int -&gt; Bold -&gt; ShowS)
-&gt; (Bold -&gt; String) -&gt; ([Bold] -&gt; ShowS) -&gt; Show Bold
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Bold -&gt; ShowS
showsPrec :: Int -&gt; Bold -&gt; ShowS
$cshow :: Bold -&gt; String
show :: Bold -&gt; String
$cshowList :: [Bold] -&gt; ShowS
showList :: [Bold] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">data</span><span> </span><span id="Underlined"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Underlined"><span class="hs-identifier hs-var">Underlined</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Underlined"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Underlined"><span class="hs-identifier hs-var">Underlined</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039160"><span id="local-6989586621679039162"><span class="annot"><span class="annottext">Underlined -&gt; Underlined -&gt; Bool
(Underlined -&gt; Underlined -&gt; Bool)
-&gt; (Underlined -&gt; Underlined -&gt; Bool) -&gt; Eq Underlined
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Underlined -&gt; Underlined -&gt; Bool
== :: Underlined -&gt; Underlined -&gt; Bool
$c/= :: Underlined -&gt; Underlined -&gt; Bool
/= :: Underlined -&gt; Underlined -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039168"><span id="local-6989586621679039170"><span id="local-6989586621679039172"><span id="local-6989586621679039176"><span id="local-6989586621679039179"><span id="local-6989586621679039182"><span id="local-6989586621679039185"><span class="annot"><span class="annottext">Eq Underlined
Eq Underlined =&gt;
(Underlined -&gt; Underlined -&gt; Ordering)
-&gt; (Underlined -&gt; Underlined -&gt; Bool)
-&gt; (Underlined -&gt; Underlined -&gt; Bool)
-&gt; (Underlined -&gt; Underlined -&gt; Bool)
-&gt; (Underlined -&gt; Underlined -&gt; Bool)
-&gt; (Underlined -&gt; Underlined -&gt; Underlined)
-&gt; (Underlined -&gt; Underlined -&gt; Underlined)
-&gt; Ord Underlined
Underlined -&gt; Underlined -&gt; Bool
Underlined -&gt; Underlined -&gt; Ordering
Underlined -&gt; Underlined -&gt; Underlined
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Underlined -&gt; Underlined -&gt; Ordering
compare :: Underlined -&gt; Underlined -&gt; Ordering
$c&lt; :: Underlined -&gt; Underlined -&gt; Bool
&lt; :: Underlined -&gt; Underlined -&gt; Bool
$c&lt;= :: Underlined -&gt; Underlined -&gt; Bool
&lt;= :: Underlined -&gt; Underlined -&gt; Bool
$c&gt; :: Underlined -&gt; Underlined -&gt; Bool
&gt; :: Underlined -&gt; Underlined -&gt; Bool
$c&gt;= :: Underlined -&gt; Underlined -&gt; Bool
&gt;= :: Underlined -&gt; Underlined -&gt; Bool
$cmax :: Underlined -&gt; Underlined -&gt; Underlined
max :: Underlined -&gt; Underlined -&gt; Underlined
$cmin :: Underlined -&gt; Underlined -&gt; Underlined
min :: Underlined -&gt; Underlined -&gt; Underlined
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039188"><span id="local-6989586621679039190"><span id="local-6989586621679039194"><span class="annot"><span class="annottext">Int -&gt; Underlined -&gt; ShowS
[Underlined] -&gt; ShowS
Underlined -&gt; String
(Int -&gt; Underlined -&gt; ShowS)
-&gt; (Underlined -&gt; String)
-&gt; ([Underlined] -&gt; ShowS)
-&gt; Show Underlined
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Underlined -&gt; ShowS
showsPrec :: Int -&gt; Underlined -&gt; ShowS
$cshow :: Underlined -&gt; String
show :: Underlined -&gt; String
$cshowList :: [Underlined] -&gt; ShowS
showList :: [Underlined] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">data</span><span> </span><span id="Italicized"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Italicized"><span class="hs-identifier hs-var">Italicized</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Italicized"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Italicized"><span class="hs-identifier hs-var">Italicized</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039198"><span id="local-6989586621679039200"><span class="annot"><span class="annottext">Italicized -&gt; Italicized -&gt; Bool
(Italicized -&gt; Italicized -&gt; Bool)
-&gt; (Italicized -&gt; Italicized -&gt; Bool) -&gt; Eq Italicized
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Italicized -&gt; Italicized -&gt; Bool
== :: Italicized -&gt; Italicized -&gt; Bool
$c/= :: Italicized -&gt; Italicized -&gt; Bool
/= :: Italicized -&gt; Italicized -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039206"><span id="local-6989586621679039208"><span id="local-6989586621679039210"><span id="local-6989586621679039214"><span id="local-6989586621679039217"><span id="local-6989586621679039220"><span id="local-6989586621679039223"><span class="annot"><span class="annottext">Eq Italicized
Eq Italicized =&gt;
(Italicized -&gt; Italicized -&gt; Ordering)
-&gt; (Italicized -&gt; Italicized -&gt; Bool)
-&gt; (Italicized -&gt; Italicized -&gt; Bool)
-&gt; (Italicized -&gt; Italicized -&gt; Bool)
-&gt; (Italicized -&gt; Italicized -&gt; Bool)
-&gt; (Italicized -&gt; Italicized -&gt; Italicized)
-&gt; (Italicized -&gt; Italicized -&gt; Italicized)
-&gt; Ord Italicized
Italicized -&gt; Italicized -&gt; Bool
Italicized -&gt; Italicized -&gt; Ordering
Italicized -&gt; Italicized -&gt; Italicized
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Italicized -&gt; Italicized -&gt; Ordering
compare :: Italicized -&gt; Italicized -&gt; Ordering
$c&lt; :: Italicized -&gt; Italicized -&gt; Bool
&lt; :: Italicized -&gt; Italicized -&gt; Bool
$c&lt;= :: Italicized -&gt; Italicized -&gt; Bool
&lt;= :: Italicized -&gt; Italicized -&gt; Bool
$c&gt; :: Italicized -&gt; Italicized -&gt; Bool
&gt; :: Italicized -&gt; Italicized -&gt; Bool
$c&gt;= :: Italicized -&gt; Italicized -&gt; Bool
&gt;= :: Italicized -&gt; Italicized -&gt; Bool
$cmax :: Italicized -&gt; Italicized -&gt; Italicized
max :: Italicized -&gt; Italicized -&gt; Italicized
$cmin :: Italicized -&gt; Italicized -&gt; Italicized
min :: Italicized -&gt; Italicized -&gt; Italicized
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039226"><span id="local-6989586621679039228"><span id="local-6989586621679039232"><span class="annot"><span class="annottext">Int -&gt; Italicized -&gt; ShowS
[Italicized] -&gt; ShowS
Italicized -&gt; String
(Int -&gt; Italicized -&gt; ShowS)
-&gt; (Italicized -&gt; String)
-&gt; ([Italicized] -&gt; ShowS)
-&gt; Show Italicized
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Italicized -&gt; ShowS
showsPrec :: Int -&gt; Italicized -&gt; ShowS
$cshow :: Italicized -&gt; String
show :: Italicized -&gt; String
$cshowList :: [Italicized] -&gt; ShowS
showList :: [Italicized] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="annot"><span class="hs-comment">-- | Style the foreground with a vivid color.</span></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#color"><span class="hs-identifier hs-type">color</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-96"></span><span id="color"><span class="annot"><span class="annottext">color :: Color -&gt; AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#color"><span class="hs-identifier hs-var hs-var">color</span></a></span></span><span> </span><span id="local-6989586621679039234"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039234"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiForeground"><span class="hs-identifier hs-var">ansiForeground</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Vivid"><span class="hs-identifier hs-type">Vivid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679039234"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><span class="hs-comment">-- | Style the background with a vivid color.</span></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#bgColor"><span class="hs-identifier hs-type">bgColor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-100"></span><span id="bgColor"><span class="annot"><span class="annottext">bgColor :: Color -&gt; AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#bgColor"><span class="hs-identifier hs-var hs-var">bgColor</span></a></span></span><span> </span><span id="local-6989586621679039236"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039236"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBackground"><span class="hs-identifier hs-var">ansiBackground</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Vivid"><span class="hs-identifier hs-type">Vivid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679039236"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="annot"><span class="hs-comment">-- | Style the foreground with a dull color.</span></span><span>
</span><span id="line-103"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#colorDull"><span class="hs-identifier hs-type">colorDull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-104"></span><span id="colorDull"><span class="annot"><span class="annottext">colorDull :: Color -&gt; AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#colorDull"><span class="hs-identifier hs-var hs-var">colorDull</span></a></span></span><span> </span><span id="local-6989586621679039238"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039238"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiForeground"><span class="hs-identifier hs-var">ansiForeground</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Dull"><span class="hs-identifier hs-type">Dull</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679039238"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="annot"><span class="hs-comment">-- | Style the background with a dull color.</span></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#bgColorDull"><span class="hs-identifier hs-type">bgColorDull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-108"></span><span id="bgColorDull"><span class="annot"><span class="annottext">bgColorDull :: Color -&gt; AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#bgColorDull"><span class="hs-identifier hs-var hs-var">bgColorDull</span></a></span></span><span> </span><span id="local-6989586621679039239"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039239"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBackground"><span class="hs-identifier hs-var">ansiBackground</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Dull"><span class="hs-identifier hs-type">Dull</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679039239"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="annot"><span class="hs-comment">-- | Render in __bold__.</span></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#bold"><span class="hs-identifier hs-type">bold</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-112"></span><span id="bold"><span class="annot"><span class="annottext">bold :: AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#bold"><span class="hs-identifier hs-var hs-var">bold</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBold"><span class="hs-identifier hs-var">ansiBold</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Bold"><span class="hs-identifier hs-type">Bold</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="annot"><span class="hs-comment">-- | Render in /italics/.</span></span><span>
</span><span id="line-115"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#italicized"><span class="hs-identifier hs-type">italicized</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-116"></span><span id="italicized"><span class="annot"><span class="annottext">italicized :: AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#italicized"><span class="hs-identifier hs-var hs-var">italicized</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiItalics"><span class="hs-identifier hs-var">ansiItalics</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Italicized"><span class="hs-identifier hs-type">Italicized</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">-- | Render underlined.</span></span><span>
</span><span id="line-119"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#underlined"><span class="hs-identifier hs-type">underlined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span>
</span><span id="line-120"></span><span id="underlined"><span class="annot"><span class="annottext">underlined :: AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#underlined"><span class="hs-identifier hs-var hs-var">underlined</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#ansiUnderlining"><span class="hs-identifier hs-var">ansiUnderlining</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Underlined"><span class="hs-identifier hs-type">Underlined</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | @('renderLazy' doc)@ takes the output @doc@ from a rendering function</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- and transforms it to lazy text, including ANSI styling directives for things</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- like colorization.</span><span>
</span><span id="line-125"></span><span class="hs-comment">--</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- ANSI color information will be discarded by this function unless you are</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- running on a Unix-like operating system. This is due to a technical</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- limitation in Windows ANSI support.</span><span>
</span><span id="line-129"></span><span class="hs-comment">--</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- With a bit of trickery to make the ANSI codes printable, here is an example</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- that would render colored in an ANSI terminal:</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- &gt;&gt;&gt; let render = TL.putStrLn . TL.replace &quot;\ESC&quot; &quot;\\e&quot; . renderLazy . layoutPretty defaultLayoutOptions</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- &gt;&gt;&gt; let doc = annotate (color Red) (&quot;red&quot; &lt;+&gt; align (vsep [annotate (color Blue &lt;&gt; underlined) (&quot;blue+u&quot; &lt;+&gt; annotate bold &quot;bold&quot; &lt;+&gt; &quot;blue+u&quot;), &quot;red&quot;]))</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- &gt;&gt;&gt; render (unAnnotate doc)</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- red blue+u bold blue+u</span><span>
</span><span id="line-137"></span><span class="hs-comment">--     red</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- &gt;&gt;&gt; render doc</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- \e[0;91mred \e[0;94;4mblue+u \e[0;94;1;4mbold\e[0;94;4m blue+u\e[0;91m</span><span>
</span><span id="line-140"></span><span class="hs-comment">--     red\e[0m</span><span>
</span><span id="line-141"></span><span class="hs-comment">--</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- Run the above via @echo -e '...'@ in your terminal to see the coloring.</span><span>
</span><span id="line-143"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#renderLazy"><span class="hs-identifier hs-type">renderLazy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SimpleDocStream</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TL.Text</span></span><span>
</span><span id="line-144"></span><span id="renderLazy"><span class="annot"><span class="annottext">renderLazy :: SimpleDocStream AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#renderLazy"><span class="hs-identifier hs-var hs-var">renderLazy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679039243"><span class="annot"><span class="annottext">push :: a -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679039243"><span class="hs-identifier hs-var hs-var">push</span></a></span></span><span> </span><span id="local-6989586621679039244"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679039244"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679039244"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span>        </span><span id="local-6989586621679039245"><span class="annot"><span class="annottext">unsafePeek :: [void] -&gt; void
</span><a href="#local-6989586621679039245"><span class="hs-identifier hs-var hs-var">unsafePeek</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">void
forall void. void
</span><span class="hs-identifier hs-var">panicPeekedEmpty</span></span><span>
</span><span id="line-148"></span><span>        </span><span class="annot"><a href="#local-6989586621679039245"><span class="hs-identifier hs-var">unsafePeek</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039247"><span class="annot"><span class="annottext">void
</span><a href="#local-6989586621679039247"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[void]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">void
</span><a href="#local-6989586621679039247"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>        </span><span id="local-6989586621679039248"><span class="annot"><span class="annottext">unsafePop :: [a] -&gt; (a, [a])
</span><a href="#local-6989586621679039248"><span class="hs-identifier hs-var hs-var">unsafePop</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, [a])
forall void. void
</span><span class="hs-identifier hs-var">panicPoppedEmpty</span></span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-var">unsafePop</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039250"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679039250"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679039251"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679039251"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679039250"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679039251"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><a href="#local-6989586621679039252"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SimpleDocStream</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TLB.Builder</span></span><span>
</span><span id="line-154"></span><span>        </span><span id="local-6989586621679039252"><span class="annot"><span class="annottext">go :: [AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679039253"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679039254"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039254"><span class="hs-identifier hs-var">sds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039254"><span class="hs-identifier hs-var">sds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-155"></span><span>            </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><span class="hs-identifier hs-var">SFail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
forall void. void
</span><span class="hs-identifier hs-var">panicUncaughtFail</span></span><span>
</span><span id="line-156"></span><span>            </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><span class="hs-identifier hs-var">SEmpty</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-157"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SChar</span></span><span> </span><span id="local-6989586621679039259"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679039259"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679039260"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039260"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Builder
</span><span class="hs-identifier hs-var">TLB.singleton</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679039259"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039260"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-158"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SText</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679039263"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679039263"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679039264"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039264"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><span class="hs-identifier hs-var">TLB.fromText</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679039263"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039264"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-159"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SLine</span></span><span> </span><span id="local-6989586621679039267"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679039267"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679039268"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039268"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Builder
</span><span class="hs-identifier hs-var">TLB.singleton</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><span class="hs-identifier hs-var">TLB.fromText</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679039267"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039268"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-160"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SAnnPush</span></span><span> </span><span id="local-6989586621679039271"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039271"><span class="hs-identifier hs-var">style</span></a></span></span><span> </span><span id="local-6989586621679039272"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039272"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-161"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679039273"><span class="annot"><span class="annottext">currentStyle :: AnsiStyle
</span><a href="#local-6989586621679039273"><span class="hs-identifier hs-var hs-var">currentStyle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; AnsiStyle
forall {void}. [void] -&gt; void
</span><a href="#local-6989586621679039245"><span class="hs-identifier hs-var">unsafePeek</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-162"></span><span>                    </span><span id="local-6989586621679039276"><span class="annot"><span class="annottext">newStyle :: AnsiStyle
</span><a href="#local-6989586621679039276"><span class="hs-identifier hs-var hs-var">newStyle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039271"><span class="hs-identifier hs-var">style</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039273"><span class="hs-identifier hs-var">currentStyle</span></a></span><span>
</span><span id="line-163"></span><span>                </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><span class="hs-identifier hs-var">TLB.fromText</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#styleToRawText"><span class="hs-identifier hs-var">styleToRawText</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039276"><span class="hs-identifier hs-var">newStyle</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnsiStyle -&gt; [AnsiStyle] -&gt; [AnsiStyle]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679039243"><span class="hs-identifier hs-var">push</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039271"><span class="hs-identifier hs-var">style</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039272"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-164"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SAnnPop</span></span><span> </span><span id="local-6989586621679039279"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039279"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-165"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039280"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039280"><span class="hs-identifier hs-var">_currentStyle</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039281"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039281"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; (AnsiStyle, [AnsiStyle])
forall {a}. [a] -&gt; (a, [a])
</span><a href="#local-6989586621679039248"><span class="hs-identifier hs-var">unsafePop</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039253"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-166"></span><span>                    </span><span id="local-6989586621679039282"><span class="annot"><span class="annottext">newStyle :: AnsiStyle
</span><a href="#local-6989586621679039282"><span class="hs-identifier hs-var hs-var">newStyle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; AnsiStyle
forall {void}. [void] -&gt; void
</span><a href="#local-6989586621679039245"><span class="hs-identifier hs-var">unsafePeek</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039281"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-167"></span><span>                </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><span class="hs-identifier hs-var">TLB.fromText</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#styleToRawText"><span class="hs-identifier hs-var">styleToRawText</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039282"><span class="hs-identifier hs-var">newStyle</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039281"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039279"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Builder -&gt; Text
</span><span class="hs-identifier hs-var">TLB.toLazyText</span></span><span> </span><span class="annot"><span class="annottext">(Builder -&gt; Text)
-&gt; (SimpleDocStream AnsiStyle -&gt; Builder)
-&gt; SimpleDocStream AnsiStyle
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; SimpleDocStream AnsiStyle -&gt; Builder
</span><a href="#local-6989586621679039252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">]</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | @('renderIO' h sdoc)@ writes @sdoc@ to the handle @h@.</span><span>
</span><span id="line-173"></span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- &gt;&gt;&gt; let render = renderIO System.IO.stdout . layoutPretty defaultLayoutOptions</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- &gt;&gt;&gt; let doc = annotate (color Red) (&quot;red&quot; &lt;+&gt; align (vsep [annotate (color Blue &lt;&gt; underlined) (&quot;blue+u&quot; &lt;+&gt; annotate bold &quot;bold&quot; &lt;+&gt; &quot;blue+u&quot;), &quot;red&quot;]))</span><span>
</span><span id="line-176"></span><span class="hs-comment">--</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- We render the 'unAnnotate'd version here, since the ANSI codes don&#8217;t display</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- well in Haddock,</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- &gt;&gt;&gt; render (unAnnotate doc)</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- red blue+u bold blue+u</span><span>
</span><span id="line-182"></span><span class="hs-comment">--     red</span><span>
</span><span id="line-183"></span><span class="hs-comment">--</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- This function behaves just like</span><span>
</span><span id="line-185"></span><span class="hs-comment">--</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- 'renderIO' h sdoc = 'TL.hPutStr' h ('renderLazy' sdoc)</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- but will not generate any intermediate text, rendering directly to the</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- handle.</span><span>
</span><span id="line-192"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#renderIO"><span class="hs-identifier hs-type">renderIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SimpleDocStream</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span id="renderIO"><span class="annot"><span class="annottext">renderIO :: Handle -&gt; SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="Prettyprinter.Render.Terminal.Internal.html#renderIO"><span class="hs-identifier hs-var hs-var">renderIO</span></a></span></span><span> </span><span id="local-6989586621679039286"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679039287"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039287"><span class="hs-identifier hs-var">sdoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621679039288"><span class="annot"><span class="annottext">IORef [AnsiStyle]
</span><a href="#local-6989586621679039288"><span class="hs-identifier hs-var">styleStackRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; IO (IORef [AnsiStyle])
forall a. a -&gt; IO (IORef a)
</span><span class="hs-identifier hs-var">newIORef</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnsiStyle
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">]</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679039290"><span class="annot"><span class="annottext">push :: AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039290"><span class="hs-identifier hs-var hs-var">push</span></a></span></span><span> </span><span id="local-6989586621679039291"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039291"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle] -&gt; ([AnsiStyle] -&gt; [AnsiStyle]) -&gt; IO ()
forall a. IORef a -&gt; (a -&gt; a) -&gt; IO ()
</span><span class="hs-identifier hs-var">modifyIORef'</span></span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle]
</span><a href="#local-6989586621679039288"><span class="hs-identifier hs-var">styleStackRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039291"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; [AnsiStyle] -&gt; [AnsiStyle]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>        </span><span id="local-6989586621679039295"><span class="annot"><span class="annottext">unsafePeek :: IO AnsiStyle
</span><a href="#local-6989586621679039295"><span class="hs-identifier hs-var hs-var">unsafePeek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle] -&gt; IO [AnsiStyle]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle]
</span><a href="#local-6989586621679039288"><span class="hs-identifier hs-var">styleStackRef</span></a></span><span> </span><span class="annot"><span class="annottext">IO [AnsiStyle] -&gt; ([AnsiStyle] -&gt; IO AnsiStyle) -&gt; IO AnsiStyle
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039297"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039297"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039297"><span class="hs-identifier hs-var">tok</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-198"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO AnsiStyle
forall void. void
</span><span class="hs-identifier hs-var">panicPeekedEmpty</span></span><span>
</span><span id="line-199"></span><span>            </span><span id="local-6989586621679039298"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039298"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[AnsiStyle]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; IO AnsiStyle
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039298"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-200"></span><span>        </span><span id="local-6989586621679039302"><span class="annot"><span class="annottext">unsafePop :: IO AnsiStyle
</span><a href="#local-6989586621679039302"><span class="hs-identifier hs-var hs-var">unsafePop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle] -&gt; IO [AnsiStyle]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle]
</span><a href="#local-6989586621679039288"><span class="hs-identifier hs-var">styleStackRef</span></a></span><span> </span><span class="annot"><span class="annottext">IO [AnsiStyle] -&gt; ([AnsiStyle] -&gt; IO AnsiStyle) -&gt; IO AnsiStyle
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039303"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039303"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039303"><span class="hs-identifier hs-var">tok</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-201"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO AnsiStyle
forall void. void
</span><span class="hs-identifier hs-var">panicPoppedEmpty</span></span><span>
</span><span id="line-202"></span><span>            </span><span id="local-6989586621679039304"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039304"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679039305"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039305"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle] -&gt; [AnsiStyle] -&gt; IO ()
forall a. IORef a -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">writeIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle]
</span><a href="#local-6989586621679039288"><span class="hs-identifier hs-var">styleStackRef</span></a></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039305"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO AnsiStyle -&gt; IO AnsiStyle
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; IO AnsiStyle
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039304"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679039318"><span class="annot"><span class="annottext">go :: SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039319"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039319"><span class="hs-identifier hs-var">sds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039319"><span class="hs-identifier hs-var">sds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-205"></span><span>            </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><span class="hs-identifier hs-var">SFail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO ()
forall void. void
</span><span class="hs-identifier hs-var">panicUncaughtFail</span></span><span>
</span><span id="line-206"></span><span>            </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><span class="hs-identifier hs-var">SEmpty</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SChar</span></span><span> </span><span id="local-6989586621679039320"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679039320"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679039321"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039321"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-208"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; Char -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutChar</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679039320"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-209"></span><span>                </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039321"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-210"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SText</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679039322"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679039322"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679039323"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039323"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-211"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; Text -&gt; IO ()
</span><span class="hs-identifier hs-var">T.hPutStr</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679039322"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-212"></span><span>                </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039323"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-213"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SLine</span></span><span> </span><span id="local-6989586621679039325"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679039325"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679039326"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039326"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; Char -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutChar</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span>
</span><span id="line-215"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; Text -&gt; IO ()
</span><span class="hs-identifier hs-var">T.hPutStr</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679039325"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">T.singleton</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>                </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039326"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-217"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SAnnPush</span></span><span> </span><span id="local-6989586621679039328"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039328"><span class="hs-identifier hs-var">style</span></a></span></span><span> </span><span id="local-6989586621679039329"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039329"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-218"></span><span>                </span><span id="local-6989586621679039330"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039330"><span class="hs-identifier hs-var">currentStyle</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO AnsiStyle
</span><a href="#local-6989586621679039295"><span class="hs-identifier hs-var">unsafePeek</span></a></span><span>
</span><span id="line-219"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679039332"><span class="annot"><span class="annottext">newStyle :: AnsiStyle
</span><a href="#local-6989586621679039332"><span class="hs-identifier hs-var hs-var">newStyle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039328"><span class="hs-identifier hs-var">style</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039330"><span class="hs-identifier hs-var">currentStyle</span></a></span><span>
</span><span id="line-220"></span><span>                </span><span class="annot"><span class="annottext">AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039290"><span class="hs-identifier hs-var">push</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039332"><span class="hs-identifier hs-var">newStyle</span></a></span><span>
</span><span id="line-221"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; Text -&gt; IO ()
</span><span class="hs-identifier hs-var">T.hPutStr</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#styleToRawText"><span class="hs-identifier hs-var">styleToRawText</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039332"><span class="hs-identifier hs-var">newStyle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>                </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039329"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-223"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">SAnnPop</span></span><span> </span><span id="local-6989586621679039333"><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039333"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-224"></span><span>                </span><span id="local-6989586621679039334"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039334"><span class="hs-identifier hs-var">_currentStyle</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO AnsiStyle
</span><a href="#local-6989586621679039302"><span class="hs-identifier hs-var">unsafePop</span></a></span><span>
</span><span id="line-225"></span><span>                </span><span id="local-6989586621679039335"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039335"><span class="hs-identifier hs-var">newStyle</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO AnsiStyle
</span><a href="#local-6989586621679039295"><span class="hs-identifier hs-var">unsafePeek</span></a></span><span>
</span><span id="line-226"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; Text -&gt; IO ()
</span><span class="hs-identifier hs-var">T.hPutStr</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#styleToRawText"><span class="hs-identifier hs-var">styleToRawText</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039335"><span class="hs-identifier hs-var">newStyle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>                </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039333"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="#local-6989586621679039318"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle
</span><a href="#local-6989586621679039287"><span class="hs-identifier hs-var">sdoc</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><span class="annottext">IORef [AnsiStyle] -&gt; IO [AnsiStyle]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [AnsiStyle]
</span><a href="#local-6989586621679039288"><span class="hs-identifier hs-var">styleStackRef</span></a></span><span> </span><span class="annot"><span class="annottext">IO [AnsiStyle] -&gt; ([AnsiStyle] -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039336"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039336"><span class="hs-identifier hs-var">stack</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039336"><span class="hs-identifier hs-var">stack</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO ()
forall void. void
</span><a href="Prettyprinter.Render.Terminal.Internal.html#panicStyleStackFullyConsumed"><span class="hs-identifier hs-var">panicStyleStackFullyConsumed</span></a></span><span>
</span><span id="line-231"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnsiStyle
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>        </span><span id="local-6989586621679039338"><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039338"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
forall void. Int -&gt; void
</span><a href="Prettyprinter.Render.Terminal.Internal.html#panicStyleStackNotFullyConsumed"><span class="hs-identifier hs-var">panicStyleStackNotFullyConsumed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AnsiStyle] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[AnsiStyle]
</span><a href="#local-6989586621679039338"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span id="local-6989586621679039341"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#panicStyleStackFullyConsumed"><span class="hs-identifier hs-type">panicStyleStackFullyConsumed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679039341"><span class="hs-identifier hs-type">void</span></a></span></span><span>
</span><span id="line-235"></span><span id="panicStyleStackFullyConsumed"><span class="annot"><span class="annottext">panicStyleStackFullyConsumed :: forall void. void
</span><a href="Prettyprinter.Render.Terminal.Internal.html#panicStyleStackFullyConsumed"><span class="hs-identifier hs-var hs-var">panicStyleStackFullyConsumed</span></a></span></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; void
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;There is no empty style left at the end of rendering&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-237"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; (but there should be). Please report this as a bug.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span id="local-6989586621679038905"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#panicStyleStackNotFullyConsumed"><span class="hs-identifier hs-type">panicStyleStackNotFullyConsumed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679038905"><span class="hs-identifier hs-type">void</span></a></span></span><span>
</span><span id="line-240"></span><span id="panicStyleStackNotFullyConsumed"><span class="annot"><span class="annottext">panicStyleStackNotFullyConsumed :: forall void. Int -&gt; void
</span><a href="Prettyprinter.Render.Terminal.Internal.html#panicStyleStackNotFullyConsumed"><span class="hs-identifier hs-var hs-var">panicStyleStackNotFullyConsumed</span></a></span></span><span> </span><span id="local-6989586621679039361"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679039361"><span class="hs-identifier hs-var">len</span></a></span></span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; void
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;There are &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679039361"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; styles left at the&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-242"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;end of rendering (there should be only 1). Please report&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-243"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; this as a bug.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-- $</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- &gt;&gt;&gt; let render = renderIO System.IO.stdout . layoutPretty defaultLayoutOptions</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- &gt;&gt;&gt; let doc = annotate (color Red) (&quot;red&quot; &lt;+&gt; align (vsep [annotate (color Blue &lt;&gt; underlined) (&quot;blue+u&quot; &lt;+&gt; annotate bold &quot;bold&quot; &lt;+&gt; &quot;blue+u&quot;), &quot;red&quot;]))</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- &gt;&gt;&gt; render (unAnnotate doc)</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- red blue+u bold blue+u</span><span>
</span><span id="line-250"></span><span class="hs-comment">--     red</span><span>
</span><span id="line-251"></span><span class="hs-comment">--</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- This test won&#8217;t work since I don&#8217;t know how to type \ESC for doctest :-/</span><span>
</span><span id="line-253"></span><span class="hs-comment">-- -- &gt;&gt;&gt; render doc</span><span>
</span><span id="line-254"></span><span class="hs-comment">-- -- \ESC[0;91mred \ESC[0;94;4mblue+u \ESC[0;94;1;4mbold\ESC[0;94;4m blue+u\ESC[0;91m</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- --     red\ESC[0m</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-comment">-- | Render the annotated document in a certain style. Styles not set in the</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- annotation will use the style of the surrounding document, or the terminal&#8217;s</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- default if none has been set yet.</span><span>
</span><span id="line-260"></span><span class="hs-comment">--</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- style = 'color' 'Green' '&lt;&gt;' 'bold'</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- styledDoc = 'annotate' style &quot;hello world&quot;</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-265"></span><span class="hs-keyword">data</span><span> </span><span id="AnsiStyle"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-var">AnsiStyle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SetAnsiStyle"><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#SetAnsiStyle"><span class="hs-identifier hs-var">SetAnsiStyle</span></a></span></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="ansiForeground"><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiForeground"><span class="hs-identifier hs-var hs-var">ansiForeground</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Intensity"><span class="hs-identifier hs-type">Intensity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Set the foreground color, or keep the old one.</span></span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="ansiBackground"><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBackground"><span class="hs-identifier hs-var hs-var">ansiBackground</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Intensity"><span class="hs-identifier hs-type">Intensity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Set the background color, or keep the old one.</span></span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="ansiBold"><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Bold
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBold"><span class="hs-identifier hs-var hs-var">ansiBold</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Bold"><span class="hs-identifier hs-type">Bold</span></a></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ Switch on boldness, or don&#8217;t do anything.</span></span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="ansiItalics"><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Italicized
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiItalics"><span class="hs-identifier hs-var hs-var">ansiItalics</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Italicized"><span class="hs-identifier hs-type">Italicized</span></a></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ Switch on italics, or don&#8217;t do anything.</span></span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="ansiUnderlining"><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Underlined
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiUnderlining"><span class="hs-identifier hs-var hs-var">ansiUnderlining</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Underlined"><span class="hs-identifier hs-type">Underlined</span></a></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ Switch on underlining, or don&#8217;t do anything.</span></span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679039366"><span id="local-6989586621679039378"><span class="annot"><span class="annottext">AnsiStyle -&gt; AnsiStyle -&gt; Bool
(AnsiStyle -&gt; AnsiStyle -&gt; Bool)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; Bool) -&gt; Eq AnsiStyle
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
== :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
$c/= :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
/= :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039387"><span id="local-6989586621679039399"><span id="local-6989586621679039410"><span id="local-6989586621679039414"><span id="local-6989586621679039417"><span id="local-6989586621679039420"><span id="local-6989586621679039423"><span class="annot"><span class="annottext">Eq AnsiStyle
Eq AnsiStyle =&gt;
(AnsiStyle -&gt; AnsiStyle -&gt; Ordering)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; Bool)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; Bool)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; Bool)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; Bool)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle)
-&gt; (AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle)
-&gt; Ord AnsiStyle
AnsiStyle -&gt; AnsiStyle -&gt; Bool
AnsiStyle -&gt; AnsiStyle -&gt; Ordering
AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: AnsiStyle -&gt; AnsiStyle -&gt; Ordering
compare :: AnsiStyle -&gt; AnsiStyle -&gt; Ordering
$c&lt; :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
&lt; :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
$c&lt;= :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
&lt;= :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
$c&gt; :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
&gt; :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
$c&gt;= :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
&gt;= :: AnsiStyle -&gt; AnsiStyle -&gt; Bool
$cmax :: AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
max :: AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
$cmin :: AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
min :: AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039431"><span id="local-6989586621679039445"><span id="local-6989586621679039449"><span class="annot"><span class="annottext">Int -&gt; AnsiStyle -&gt; ShowS
[AnsiStyle] -&gt; ShowS
AnsiStyle -&gt; String
(Int -&gt; AnsiStyle -&gt; ShowS)
-&gt; (AnsiStyle -&gt; String)
-&gt; ([AnsiStyle] -&gt; ShowS)
-&gt; Show AnsiStyle
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; AnsiStyle -&gt; ShowS
showsPrec :: Int -&gt; AnsiStyle -&gt; ShowS
$cshow :: AnsiStyle -&gt; String
show :: AnsiStyle -&gt; String
$cshowList :: [AnsiStyle] -&gt; ShowS
showList :: [AnsiStyle] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- | Keep the first decision for each of foreground color, background color,</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- boldness, italication, and underlining. If a certain style is not set, the</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- terminal&#8217;s default will be used.</span><span>
</span><span id="line-276"></span><span class="hs-comment">--</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-278"></span><span class="hs-comment">--</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- 'color' 'Red' '&lt;&gt;' 'color' 'Green'</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-282"></span><span class="hs-comment">--</span><span>
</span><span id="line-283"></span><span class="hs-comment">-- is red because the first color wins, and not bold because (or if) that&#8217;s the</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- terminal&#8217;s default.</span><span>
</span><span id="line-285"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679039456"><span id="local-6989586621679039459"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621679039470"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039470"><span class="hs-identifier hs-var">cs1</span></a></span></span><span> </span><span id="local-6989586621679039471"><span class="annot"><span class="annottext">&lt;&gt; :: AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621679039472"><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039472"><span class="hs-identifier hs-var">cs2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#SetAnsiStyle"><span class="hs-identifier hs-type">SetAnsiStyle</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ansiForeground :: Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiForeground"><span class="hs-identifier hs-var">ansiForeground</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiForeground"><span class="hs-identifier hs-var">ansiForeground</span></a></span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039470"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
-&gt; Maybe (Intensity, Color) -&gt; Maybe (Intensity, Color)
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiForeground"><span class="hs-identifier hs-var">ansiForeground</span></a></span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039472"><span class="hs-identifier hs-var">cs2</span></a></span><span>
</span><span id="line-288"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ansiBackground :: Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBackground"><span class="hs-identifier hs-var">ansiBackground</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBackground"><span class="hs-identifier hs-var">ansiBackground</span></a></span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039470"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
-&gt; Maybe (Intensity, Color) -&gt; Maybe (Intensity, Color)
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe (Intensity, Color)
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBackground"><span class="hs-identifier hs-var">ansiBackground</span></a></span><span>  </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039472"><span class="hs-identifier hs-var">cs2</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ansiBold :: Maybe Bold
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBold"><span class="hs-identifier hs-var">ansiBold</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Bold
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBold"><span class="hs-identifier hs-var">ansiBold</span></a></span><span>        </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039470"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Bold -&gt; Maybe Bold -&gt; Maybe Bold
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Bold
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiBold"><span class="hs-identifier hs-var">ansiBold</span></a></span><span>        </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039472"><span class="hs-identifier hs-var">cs2</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ansiItalics :: Maybe Italicized
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiItalics"><span class="hs-identifier hs-var">ansiItalics</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Italicized
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiItalics"><span class="hs-identifier hs-var">ansiItalics</span></a></span><span>     </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039470"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Italicized -&gt; Maybe Italicized -&gt; Maybe Italicized
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Italicized
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiItalics"><span class="hs-identifier hs-var">ansiItalics</span></a></span><span>     </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039472"><span class="hs-identifier hs-var">cs2</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ansiUnderlining :: Maybe Underlined
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiUnderlining"><span class="hs-identifier hs-var">ansiUnderlining</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Underlined
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiUnderlining"><span class="hs-identifier hs-var">ansiUnderlining</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039470"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Underlined -&gt; Maybe Underlined -&gt; Maybe Underlined
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; Maybe Underlined
</span><a href="Prettyprinter.Render.Terminal.Internal.html#ansiUnderlining"><span class="hs-identifier hs-var">ansiUnderlining</span></a></span><span> </span><span class="annot"><span class="annottext">AnsiStyle
</span><a href="#local-6989586621679039472"><span class="hs-identifier hs-var">cs2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="hs-comment">-- | 'mempty' does nothing, which is equivalent to inheriting the style of the</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- surrounding doc, or the terminal&#8217;s default if no style has been set yet.</span><span>
</span><span id="line-295"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679039479"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621679039482"><span class="annot"><span class="annottext">mempty :: AnsiStyle
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
-&gt; Maybe (Intensity, Color)
-&gt; Maybe Bold
-&gt; Maybe Italicized
-&gt; Maybe Underlined
-&gt; AnsiStyle
</span><a href="Prettyprinter.Render.Terminal.Internal.html#SetAnsiStyle"><span class="hs-identifier hs-var">SetAnsiStyle</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bold
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Italicized
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Underlined
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621679039484"><span class="annot"><span class="annottext">mappend :: AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; AnsiStyle -&gt; AnsiStyle
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#styleToRawText"><span class="hs-identifier hs-type">styleToRawText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-300"></span><span id="styleToRawText"><span class="annot"><span class="annottext">styleToRawText :: AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#styleToRawText"><span class="hs-identifier hs-var hs-var">styleToRawText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (AnsiStyle -&gt; String) -&gt; AnsiStyle -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[SGR] -&gt; String
</span><span class="hs-identifier hs-var">ANSI.setSGRCode</span></span><span> </span><span class="annot"><span class="annottext">([SGR] -&gt; String) -&gt; (AnsiStyle -&gt; [SGR]) -&gt; AnsiStyle -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnsiStyle -&gt; [SGR]
</span><a href="#local-6989586621679039487"><span class="hs-identifier hs-var">stylesToSgrs</span></a></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><a href="#local-6989586621679039487"><span class="hs-identifier hs-type">stylesToSgrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ANSI.SGR</span></span><span class="hs-special">]</span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621679039487"><span class="annot"><span class="annottext">stylesToSgrs :: AnsiStyle -&gt; [SGR]
</span><a href="#local-6989586621679039487"><span class="hs-identifier hs-var hs-var">stylesToSgrs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#SetAnsiStyle"><span class="hs-identifier hs-type">SetAnsiStyle</span></a></span><span> </span><span id="local-6989586621679039488"><span class="annot"><span class="annottext">Maybe (Intensity, Color)
</span><a href="#local-6989586621679039488"><span class="hs-identifier hs-var">fg</span></a></span></span><span> </span><span id="local-6989586621679039489"><span class="annot"><span class="annottext">Maybe (Intensity, Color)
</span><a href="#local-6989586621679039489"><span class="hs-identifier hs-var">bg</span></a></span></span><span> </span><span id="local-6989586621679039490"><span class="annot"><span class="annottext">Maybe Bold
</span><a href="#local-6989586621679039490"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679039491"><span class="annot"><span class="annottext">Maybe Italicized
</span><a href="#local-6989586621679039491"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679039492"><span class="annot"><span class="annottext">Maybe Underlined
</span><a href="#local-6989586621679039492"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe SGR] -&gt; [SGR]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SGR -&gt; Maybe SGR
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SGR
</span><span class="hs-identifier hs-var">ANSI.Reset</span></span><span>
</span><span id="line-305"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">((Intensity, Color) -&gt; SGR)
-&gt; Maybe (Intensity, Color) -&gt; Maybe SGR
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679039495"><span class="annot"><span class="annottext">Intensity
</span><a href="#local-6989586621679039495"><span class="hs-identifier hs-var">intensity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039496"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039496"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConsoleLayer -&gt; ColorIntensity -&gt; Color -&gt; SGR
</span><span class="hs-identifier hs-var">ANSI.SetColor</span></span><span> </span><span class="annot"><span class="annottext">ConsoleLayer
</span><span class="hs-identifier hs-var">ANSI.Foreground</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Intensity -&gt; ColorIntensity
</span><a href="#local-6989586621679039499"><span class="hs-identifier hs-var">convertIntensity</span></a></span><span> </span><span class="annot"><span class="annottext">Intensity
</span><a href="#local-6989586621679039495"><span class="hs-identifier hs-var">intensity</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Color -&gt; Color
</span><a href="#local-6989586621679039500"><span class="hs-identifier hs-var">convertColor</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039496"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
</span><a href="#local-6989586621679039488"><span class="hs-identifier hs-var">fg</span></a></span><span>
</span><span id="line-306"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">((Intensity, Color) -&gt; SGR)
-&gt; Maybe (Intensity, Color) -&gt; Maybe SGR
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679039501"><span class="annot"><span class="annottext">Intensity
</span><a href="#local-6989586621679039501"><span class="hs-identifier hs-var">intensity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679039502"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039502"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConsoleLayer -&gt; ColorIntensity -&gt; Color -&gt; SGR
</span><span class="hs-identifier hs-var">ANSI.SetColor</span></span><span> </span><span class="annot"><span class="annottext">ConsoleLayer
</span><span class="hs-identifier hs-var">ANSI.Background</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Intensity -&gt; ColorIntensity
</span><a href="#local-6989586621679039499"><span class="hs-identifier hs-var">convertIntensity</span></a></span><span> </span><span class="annot"><span class="annottext">Intensity
</span><a href="#local-6989586621679039501"><span class="hs-identifier hs-var">intensity</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Color -&gt; Color
</span><a href="#local-6989586621679039500"><span class="hs-identifier hs-var">convertColor</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039502"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (Intensity, Color)
</span><a href="#local-6989586621679039489"><span class="hs-identifier hs-var">bg</span></a></span><span>
</span><span id="line-307"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Bold -&gt; SGR) -&gt; Maybe Bold -&gt; Maybe SGR
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Bold
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConsoleIntensity -&gt; SGR
</span><span class="hs-identifier hs-var">ANSI.SetConsoleIntensity</span></span><span> </span><span class="annot"><span class="annottext">ConsoleIntensity
</span><span class="hs-identifier hs-var">ANSI.BoldIntensity</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Bold
</span><a href="#local-6989586621679039490"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-308"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Italicized -&gt; SGR) -&gt; Maybe Italicized -&gt; Maybe SGR
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Italicized
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SGR
</span><span class="hs-identifier hs-var">ANSI.SetItalicized</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Italicized
</span><a href="#local-6989586621679039491"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-309"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Underlined -&gt; SGR) -&gt; Maybe Underlined -&gt; Maybe SGR
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Underlined
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Underlining -&gt; SGR
</span><span class="hs-identifier hs-var">ANSI.SetUnderlining</span></span><span> </span><span class="annot"><span class="annottext">Underlining
</span><span class="hs-identifier hs-var">ANSI.SingleUnderline</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Underlined
</span><a href="#local-6989586621679039492"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>    </span><span class="annot"><a href="#local-6989586621679039499"><span class="hs-identifier hs-type">convertIntensity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Intensity"><span class="hs-identifier hs-type">Intensity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ANSI.ColorIntensity</span></span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621679039499"><span class="annot"><span class="annottext">convertIntensity :: Intensity -&gt; ColorIntensity
</span><a href="#local-6989586621679039499"><span class="hs-identifier hs-var hs-var">convertIntensity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039509"><span class="annot"><span class="annottext">Intensity
</span><a href="#local-6989586621679039509"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Intensity
</span><a href="#local-6989586621679039509"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-314"></span><span>        </span><span class="annot"><span class="annottext">Intensity
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Vivid"><span class="hs-identifier hs-var">Vivid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ColorIntensity
</span><span class="hs-identifier hs-var">ANSI.Vivid</span></span><span>
</span><span id="line-315"></span><span>        </span><span class="annot"><span class="annottext">Intensity
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Dull"><span class="hs-identifier hs-var">Dull</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ColorIntensity
</span><span class="hs-identifier hs-var">ANSI.Dull</span></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span class="annot"><a href="#local-6989586621679039500"><span class="hs-identifier hs-type">convertColor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#Color"><span class="hs-identifier hs-type">Color</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ANSI.Color</span></span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621679039500"><span class="annot"><span class="annottext">convertColor :: Color -&gt; Color
</span><a href="#local-6989586621679039500"><span class="hs-identifier hs-var hs-var">convertColor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039512"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039512"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679039512"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-319"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Black"><span class="hs-identifier hs-var">Black</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Black</span></span><span>
</span><span id="line-320"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Red"><span class="hs-identifier hs-var">Red</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Red</span></span><span>
</span><span id="line-321"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Green"><span class="hs-identifier hs-var">Green</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Green</span></span><span>
</span><span id="line-322"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Yellow"><span class="hs-identifier hs-var">Yellow</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Yellow</span></span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Blue"><span class="hs-identifier hs-var">Blue</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Blue</span></span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Magenta"><span class="hs-identifier hs-var">Magenta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Magenta</span></span><span>
</span><span id="line-325"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#Cyan"><span class="hs-identifier hs-var">Cyan</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.Cyan</span></span><span>
</span><span id="line-326"></span><span>        </span><span class="annot"><span class="annottext">Color
</span><a href="Prettyprinter.Render.Terminal.Internal.html#White"><span class="hs-identifier hs-var">White</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier hs-var">ANSI.White</span></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="hs-comment">-- | @('renderStrict' sdoc)@ takes the output @sdoc@ from a rendering and</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- transforms it to strict text.</span><span>
</span><span id="line-332"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#renderStrict"><span class="hs-identifier hs-type">renderStrict</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SimpleDocStream</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-333"></span><span id="renderStrict"><span class="annot"><span class="annottext">renderStrict :: SimpleDocStream AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#renderStrict"><span class="hs-identifier hs-var hs-var">renderStrict</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; (SimpleDocStream AnsiStyle -&gt; Text)
-&gt; SimpleDocStream AnsiStyle
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream AnsiStyle -&gt; Text
</span><a href="Prettyprinter.Render.Terminal.Internal.html#renderLazy"><span class="hs-identifier hs-var">renderLazy</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-comment">-- | @('putDoc' doc)@ prettyprints document @doc@ to standard output using</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- 'defaultLayoutOptions'.</span><span>
</span><span id="line-337"></span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- &gt;&gt;&gt; putDoc (&quot;hello&quot; &lt;+&gt; &quot;world&quot;)</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- hello world</span><span>
</span><span id="line-340"></span><span class="hs-comment">--</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- 'putDoc' = 'hPutDoc' 'stdout'</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-344"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#putDoc"><span class="hs-identifier hs-type">putDoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span id="putDoc"><span class="annot"><span class="annottext">putDoc :: Doc AnsiStyle -&gt; IO ()
</span><a href="Prettyprinter.Render.Terminal.Internal.html#putDoc"><span class="hs-identifier hs-var hs-var">putDoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; Doc AnsiStyle -&gt; IO ()
</span><a href="Prettyprinter.Render.Terminal.Internal.html#hPutDoc"><span class="hs-identifier hs-var">hPutDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stdout</span></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-comment">-- | Like 'putDoc', but instead of using 'stdout', print to a user-provided</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- handle, e.g. a file or a socket using 'defaultLayoutOptions'.</span><span>
</span><span id="line-349"></span><span class="hs-comment">--</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- &gt; main = withFile &quot;someFile.txt&quot; (\h -&gt; hPutDoc h (vcat [&quot;vertical&quot;, &quot;text&quot;]))</span><span>
</span><span id="line-351"></span><span class="hs-comment">--</span><span>
</span><span id="line-352"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-353"></span><span class="hs-comment">-- 'hPutDoc' h doc = 'renderIO' h ('layoutPretty' 'defaultLayoutOptions' doc)</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-355"></span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#hPutDoc"><span class="hs-identifier hs-type">hPutDoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="annot"><a href="Prettyprinter.Render.Terminal.Internal.html#AnsiStyle"><span class="hs-identifier hs-type">AnsiStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span id="hPutDoc"><span class="annot"><span class="annottext">hPutDoc :: Handle -&gt; Doc AnsiStyle -&gt; IO ()
</span><a href="Prettyprinter.Render.Terminal.Internal.html#hPutDoc"><span class="hs-identifier hs-var hs-var">hPutDoc</span></a></span></span><span> </span><span id="local-6989586621679039524"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039524"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679039525"><span class="annot"><span class="annottext">Doc AnsiStyle
</span><a href="#local-6989586621679039525"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; SimpleDocStream AnsiStyle -&gt; IO ()
</span><a href="Prettyprinter.Render.Terminal.Internal.html#renderIO"><span class="hs-identifier hs-var">renderIO</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039524"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LayoutOptions -&gt; Doc AnsiStyle -&gt; SimpleDocStream AnsiStyle
forall ann. LayoutOptions -&gt; Doc ann -&gt; SimpleDocStream ann
</span><span class="hs-identifier hs-var">layoutPretty</span></span><span> </span><span class="annot"><span class="annottext">LayoutOptions
</span><span class="hs-identifier hs-var">defaultLayoutOptions</span></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle
</span><a href="#local-6989586621679039525"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span></pre></body></html>