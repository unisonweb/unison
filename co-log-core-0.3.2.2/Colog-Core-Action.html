<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Colog.Core.Action</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">co-log-core-0.3.2.2: Composable Contravariant Comonadic Logging Library</span><ul class="links" id="page-menu"><li><a href="src/Colog.Core.Action.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2018-2020 Kowainik 2021-2024 Co-Log</td></tr><tr><th>License</th><td>MPL-2.0</td></tr><tr><th>Maintainer</th><td>Co-Log &lt;xrom.xkov@gmail.com&gt;</td></tr><tr><th>Stability</th><td>Stable</td></tr><tr><th>Portability</th><td>Portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Colog.Core.Action</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Core type and instances</a></li><li><a href="#g:2"><code>Semigroup</code> combinators</a></li><li><a href="#g:3">Contravariant combinators</a></li><li><a href="#g:4">Divisible combinators</a></li><li><a href="#g:5">Decidable combinators</a></li><li><a href="#g:6">Comonadic combinators</a></li><li><a href="#g:7">Higher-order combinators</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implements core data types and combinators for logging actions.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:LogAction">LogAction</a> m msg = <a href="#v:LogAction">LogAction</a> {<ul class="subs"><li><a href="#v:unLogAction">unLogAction</a> :: msg -&gt; m ()</li></ul>}</li><li class="src short"><a href="#v:-60--38-">(&lt;&amp;)</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; msg -&gt; m ()</li><li class="src short"><a href="#v:-38--62-">(&amp;&gt;)</a> :: msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()</li><li class="src short"><a href="#v:foldActions">foldActions</a> :: (<a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> t, <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; t (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:cfilter">cfilter</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (msg -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg</li><li class="src short"><a href="#v:cfilterM">cfilterM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (msg -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg</li><li class="src short"><a href="#v:cmap">cmap</a> :: (a -&gt; b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:-62--36--60-">(&gt;$&lt;)</a> :: (a -&gt; b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:cmapMaybe">cmapMaybe</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:cmapMaybeM">cmapMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:-62--36-">(&gt;$)</a> :: b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:cmapM">cmapM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:divide">divide</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; (b, c)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:divideM">divideM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (b, c)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:conquer">conquer</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:-62--42--60-">(&gt;*&lt;)</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (a, b)</li><li class="src short"><a href="#v:-62--42-">(&gt;*)</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m () -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:-42--60-">(*&lt;)</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m () -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:lose">lose</a> :: (a -&gt; <a href="../base-4.18.2.1/Data-Void.html#t:Void" title="Data.Void">Void</a>) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:choose">choose</a> :: (a -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> b c) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:chooseM">chooseM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> b c)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:-62--124--60-">(&gt;|&lt;)</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b)</li><li class="src short"><a href="#v:extract">extract</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> msg =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()</li><li class="src short"><a href="#v:extend">extend</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg</li><li class="src short"><a href="#v:-61--62--62-">(=&gt;&gt;)</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg</li><li class="src short"><a href="#v:-60--60--61-">(&lt;&lt;=)</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg</li><li class="src short"><a href="#v:duplicate">duplicate</a> :: <span class="keyword">forall</span> msg m. <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (msg, msg)</li><li class="src short"><a href="#v:multiplicate">multiplicate</a> :: <span class="keyword">forall</span> f msg m. (<a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f, <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> msg) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (f msg)</li><li class="src short"><a href="#v:separate">separate</a> :: <span class="keyword">forall</span> f msg m. (<a href="../base-4.18.2.1/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f, <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (f msg)</li><li class="src short"><a href="#v:hoistLogAction">hoistLogAction</a> :: (<span class="keyword">forall</span> x. m x -&gt; n x) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> n a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Core type and instances</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:LogAction" class="def">LogAction</a> m msg <a href="src/Colog.Core.Action.html#LogAction" class="link">Source</a> <a href="#t:LogAction" class="selflink">#</a></p><div class="doc"><p>Polymorphic and very general logging action type.</p><ul><li><code><strong>msg</strong></code> type variables is an input for logger. It can be <code><a href="../base-4.18.2.1/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a></code> or custom
logging messsage with different fields that you want to format in future.</li><li><code><strong>m</strong></code> type variable is for monadic action inside which logging is happening. It
can be either <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> or some custom pure monad.</li></ul><p>Key design point here is that <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> is:</p><ul><li><code><a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a></code></li><li><code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code></li><li><code><a href="../base-4.18.2.1/Data-Functor-Contravariant.html#v:Contravariant" title="Data.Functor.Contravariant">Contravariant</a></code></li><li><code><a href="Data-Functor-Contravariant-Divisible.html#v:Divisible" title="Data.Functor.Contravariant.Divisible">Divisible</a></code></li><li><code><a href="Data-Functor-Contravariant-Divisible.html#v:Decidable" title="Data.Functor.Contravariant.Divisible">Decidable</a></code></li><li><code><a href="Control-Comonad.html#v:Comonad" title="Control.Comonad">Comonad</a></code></li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LogAction" class="def">LogAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unLogAction" class="def">unLogAction</a> :: msg -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LogAction">Instances</h4><details id="i:LogAction" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LogAction:Contravariant:1"></span> <a href="../base-4.18.2.1/Data-Functor-Contravariant.html#t:Contravariant" title="Data.Functor.Contravariant">Contravariant</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m)</span> <a href="src/Colog.Core.Action.html#line-155" class="link">Source</a> <a href="#t:LogAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LogAction:Contravariant:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Colog-Core-Action.html">Colog.Core.Action</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:contramap">contramap</a> :: (a' -&gt; a) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a' <a href="#v:contramap" class="selflink">#</a></p><p class="src"><a href="#v:-62--36-">(&gt;$)</a> :: b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:-62--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LogAction:Functor:2"></span> UnrepresentableClass =&gt; <a href="../base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m)</span> <a href="src/Colog.Core.Action.html#line-210" class="link">Source</a> <a href="#t:LogAction" class="selflink">#</a></td><td class="doc"><p>&#9888;&#65039;<strong>CAUTION</strong>&#9888;&#65039; This instance is for custom error display only.</p><p><code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> is not supposed to have <code><a href="../base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code> instance by design.</p><p>In case it is used by mistake, the user  will see the following:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fmap show logStringStdout
</code></strong>...
... 'LogAction' cannot have a 'Functor' instance by design.
      However, you've attempted to use this instance.
...
      Probably you meant 'Contravariant' class instance with the following methods:
        * contramap :: (a -&gt; b) -&gt; LogAction m b -&gt; LogAction m a
        * (&gt;$) :: b -&gt; LogAction m b -&gt; LogAction m a
...
</pre><p># 207 &quot;src<em>Colog</em>Core/Action.hs&quot;</p><p><em>Since: 0.2.1.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:LogAction:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Colog-Core-Action.html">Colog.Core.Action</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LogAction:Monoid:3"></span> <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a)</span> <a href="src/Colog.Core.Action.html#line-141" class="link">Source</a> <a href="#t:LogAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LogAction:Monoid:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Colog-Core-Action.html">Colog.Core.Action</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a] -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LogAction:Semigroup:4"></span> <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a)</span> <a href="src/Colog.Core.Action.html#line-128" class="link">Source</a> <a href="#t:LogAction" class="selflink">#</a></td><td class="doc"><p>This instance allows you to join multiple logging actions into single one.</p><p>For example, if you have two actions like these:</p><pre>logToStdout :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> IO String  -- outputs String to terminal
logToFile   :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> IO String  -- appends String to some file
</pre><p>You can create new <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> that perform both actions one after another using <code><a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a></code>:</p><pre>logToBoth :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> IO String  -- outputs String to both terminal and some file
logToBoth = logToStdout &lt;&gt; logToFile
</pre></td></tr><tr><td colspan="2"><details id="i:id:LogAction:Semigroup:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Colog-Core-Action.html">Colog.Core.Action</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.18.2.1/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LogAction:HasLog:5"></span> <a href="Colog-Core-Class.html#t:HasLog" title="Colog.Core.Class">HasLog</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg) msg m</span> <a href="src/Colog.Core.Class.html#line-66" class="link">Source</a> <a href="#t:HasLog" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LogAction:HasLog:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Colog-Core-Class.html">Colog.Core.Class</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getLogAction">getLogAction</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.Class.html#getLogAction" class="link">Source</a> <a href="#v:getLogAction" class="selflink">#</a></p><p class="src"><a href="#v:setLogAction">setLogAction</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.Class.html#setLogAction" class="link">Source</a> <a href="#v:setLogAction" class="selflink">#</a></p><p class="src"><a href="#v:overLogAction">overLogAction</a> :: (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.Class.html#overLogAction" class="link">Source</a> <a href="#v:overLogAction" class="selflink">#</a></p><p class="src"><a href="#v:logActionL">logActionL</a> :: <a href="Colog-Core-Class.html#t:Lens-39-" title="Colog.Core.Class">Lens'</a> (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg) (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg) <a href="src/Colog.Core.Class.html#logActionL" class="link">Source</a> <a href="#v:logActionL" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:-60--38-" class="def">(&lt;&amp;)</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; msg -&gt; m () <span class="fixity">infix 5</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3C%26" class="link">Source</a> <a href="#v:-60--38-" class="selflink">#</a></p><div class="doc"><p>Operator version of <code><a href="Colog-Core-Action.html#v:unLogAction" title="Colog.Core.Action">unLogAction</a></code>. Note that because of the types, something like:</p><pre>action &lt;&amp; msg1 &lt;&amp; msg2
</pre><p>doesn't make sense. Instead you want:</p><pre>action &lt;&amp; msg1 &gt;&gt; action &lt;&amp; msg2
</pre><p>In addition, because <code><a href="Colog-Core-Action.html#v:-60--38-" title="Colog.Core.Action">&lt;&amp;</a></code> has higher precedence than the other operators in this
module, the following:</p><pre>f &gt;$&lt; action &lt;&amp; msg
</pre><p>is equivalent to:</p><pre>(f &gt;$&lt; action) &lt;&amp; msg
</pre></div></div><div class="top"><p class="src"><a id="v:-38--62-" class="def">(&amp;&gt;)</a> :: msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m () <span class="fixity">infix 5</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%26%3E" class="link">Source</a> <a href="#v:-38--62-" class="selflink">#</a></p><div class="doc"><p>A flipped version of <code><a href="Colog-Core-Action.html#v:-60--38-" title="Colog.Core.Action">&lt;&amp;</a></code>.</p><p>It shares the same precedence as <code><a href="Colog-Core-Action.html#v:-60--38-" title="Colog.Core.Action">&lt;&amp;</a></code>, so make sure to surround lower precedence
operators in parentheses:</p><pre>msg &amp;&gt; (f &gt;$&lt; action)
</pre></div></div><a href="#g:2" id="g:2"><h1><code>Semigroup</code> combinators</h1></a><div class="top"><p class="src"><a id="v:foldActions" class="def">foldActions</a> :: (<a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> t, <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; t (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#foldActions" class="link">Source</a> <a href="#v:foldActions" class="selflink">#</a></p><div class="doc"><p>Joins some <code><a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a></code> of <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code>s into single <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> using
<code><a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a></code> instance for <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code>. This is basically specialized version of
<code><a href="../base-4.18.2.1/Data-Foldable.html#v:fold" title="Data.Foldable">fold</a></code> function.</p></div></div><a href="#g:3" id="g:3"><h1>Contravariant combinators</h1></a><div class="doc"><p>Combinators that implement interface in the spirit of the following typeclass:</p><pre><strong>class</strong> Contravariant f <strong>where</strong>
    contramap :: (a -&gt; b) -&gt; f b -&gt; f a
</pre></div><div class="top"><p class="src"><a id="v:cfilter" class="def">cfilter</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (msg -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.Action.html#cfilter" class="link">Source</a> <a href="#v:cfilter" class="selflink">#</a></p><div class="doc"><p>Takes predicate and performs given logging action only if predicate returns
<code><a href="../base-4.18.2.1/Data-Bool.html#v:True" title="Data.Bool">True</a></code> on input logging message.</p></div></div><div class="top"><p class="src"><a id="v:cfilterM" class="def">cfilterM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (msg -&gt; m <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.Action.html#cfilterM" class="link">Source</a> <a href="#v:cfilterM" class="selflink">#</a></p><div class="doc"><p>Performs the given logging action only if satisfies the monadic
predicate. Let's say you want to only to see logs that happened on
weekends.</p><pre>isWeekendM :: MessageWithTimestamp -&gt; IO Bool
</pre><p>And use it with <code><a href="Colog-Core-Action.html#v:cfilterM" title="Colog.Core.Action">cfilterM</a></code> like this</p><pre>logMessageAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> m MessageWithTimestamp

logWeekendAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> m MessageWithTimestamp
logWeekendAction = cfilterM isWeekendM logMessageAction
</pre><p><em>Since: 0.2.1.0</em></p></div></div><div class="top"><p class="src"><a id="v:cmap" class="def">cmap</a> :: (a -&gt; b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#cmap" class="link">Source</a> <a href="#v:cmap" class="selflink">#</a></p><div class="doc"><p>This combinator is <code>contramap</code> from contravariant functor. It is useful
when you have something like</p><pre><strong>data</strong> LogRecord = LR
    { lrName    :: LoggerName
    , lrMessage :: Text
    }
</pre><p>and you need to provide <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> which consumes <code>LogRecord</code></p><pre>logRecordAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> m LogRecord
</pre><p>when you only have action that consumes <code><a href="../base-4.18.2.1/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a></code></p><pre>logTextAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> m Text
</pre><p>With <code><a href="Colog-Core-Action.html#v:cmap" title="Colog.Core.Action">cmap</a></code> you can do the following:</p><pre>logRecordAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> m LogRecord
logRecordAction = <code><a href="Colog-Core-Action.html#v:cmap" title="Colog.Core.Action">cmap</a></code> lrMesssage logTextAction
</pre><p>This action will print only <code>lrMessage</code> from <code>LogRecord</code>. But if you have
formatting function like this:</p><pre>formatLogRecord :: LogRecord -&gt; Text
</pre><p>you can apply it instead of <code>lrMessage</code> to log formatted <code>LogRecord</code> as <code><a href="../base-4.18.2.1/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:-62--36--60-" class="def">(&gt;$&lt;)</a> :: (a -&gt; b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <span class="fixity">infixr 3</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3E%24%3C" class="link">Source</a> <a href="#v:-62--36--60-" class="selflink">#</a></p><div class="doc"><p>Operator version of <code><a href="Colog-Core-Action.html#v:cmap" title="Colog.Core.Action">cmap</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>1 &amp;&gt; (show &gt;$&lt; logStringStdout)
</code></strong>1
</pre></div></div><div class="top"><p class="src"><a id="v:cmapMaybe" class="def">cmapMaybe</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#cmapMaybe" class="link">Source</a> <a href="#v:cmapMaybe" class="selflink">#</a></p><div class="doc"><p><code><a href="Colog-Core-Action.html#v:cmap" title="Colog.Core.Action">cmap</a></code> for convertions that may fail</p></div></div><div class="top"><p class="src"><a id="v:cmapMaybeM" class="def">cmapMaybeM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#cmapMaybeM" class="link">Source</a> <a href="#v:cmapMaybeM" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="Colog-Core-Action.html#v:cmapMaybe" title="Colog.Core.Action">cmapMaybe</a></code> but for convertions that may fail inside a
monadic context.</p><p><em>Since: 0.2.1.0</em></p></div></div><div class="top"><p class="src"><a id="v:-62--36-" class="def">(&gt;$)</a> :: b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3E%24" class="link">Source</a> <a href="#v:-62--36-" class="selflink">#</a></p><div class="doc"><p>This combinator is <code>&gt;$</code> from contravariant functor. Replaces all locations
in the output with the same value. The default definition is
<code>contramap . const</code>, so this is a more efficient version.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;Hello?&quot; &amp;&gt; (&quot;OUT OF SERVICE&quot; &gt;$ logStringStdout)
</code></strong>OUT OF SERVICE
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;OUT OF SERVICE&quot; &gt;$ logStringStdout) &lt;&amp; 42
</code></strong>OUT OF SERVICE
</pre></div></div><div class="top"><p class="src"><a id="v:cmapM" class="def">cmapM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#cmapM" class="link">Source</a> <a href="#v:cmapM" class="selflink">#</a></p><div class="doc"><p><code><a href="Colog-Core-Action.html#v:cmapM" title="Colog.Core.Action">cmapM</a></code> combinator is similar to <code><a href="Colog-Core-Action.html#v:cmap" title="Colog.Core.Action">cmap</a></code> but allows to call monadic
functions (functions that require extra context) to extend consumed value.
Consider the following example.</p><p>You have this logging record:</p><pre><strong>data</strong> LogRecord = LR
    { lrTime    :: UTCTime
    , lrMessage :: Text
    }
</pre><p>and you also have logging consumer inside <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> for such record:</p><pre>logRecordAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> IO LogRecord
</pre><p>But you need to return consumer only for <code><a href="../base-4.18.2.1/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a></code> messages:</p><pre>logTextAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> IO Text
</pre><p>If you have function that can extend <code><a href="../base-4.18.2.1/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a></code> to <code>LogRecord</code> like the function
below:</p><pre>withTime :: <code><a href="../base-4.18.2.1/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a></code> -&gt; <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> LogRecord
withTime msg = <strong>do</strong>
    time &lt;- getCurrentTime
    pure (LR time msg)
</pre><p>you can achieve desired behavior with <code><a href="Colog-Core-Action.html#v:cmapM" title="Colog.Core.Action">cmapM</a></code> in the following way:</p><pre>logTextAction :: <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> IO Text
logTextAction = <code><a href="Colog-Core-Action.html#v:cmapM" title="Colog.Core.Action">cmapM</a></code> withTime myAction
</pre></div></div><a href="#g:4" id="g:4"><h1>Divisible combinators</h1></a><div class="doc"><p>Combinators that implement interface in the spirit of the following typeclass:</p><pre><strong>class</strong> Contravariant f =&gt; Divisible f <strong>where</strong>
    conquer :: f a
    divide  :: (a -&gt; (b, c)) -&gt; f b -&gt; f c -&gt; f a
</pre></div><div class="top"><p class="src"><a id="v:divide" class="def">divide</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; (a -&gt; (b, c)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#divide" class="link">Source</a> <a href="#v:divide" class="selflink">#</a></p><div class="doc"><p><code>divide</code> combinator from <code>Divisible</code> type class.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logInt = LogAction print
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;ABC&quot; &amp;&gt; divide (\s -&gt; (s, length s)) logStringStdout logInt
</code></strong>ABC
3
</pre></div></div><div class="top"><p class="src"><a id="v:divideM" class="def">divideM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (b, c)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#divideM" class="link">Source</a> <a href="#v:divideM" class="selflink">#</a></p><div class="doc"><p>Monadic version of <code><a href="Colog-Core-Action.html#v:divide" title="Colog.Core.Action">divide</a></code>.</p><p><em>Since: 0.2.1.0</em></p></div></div><div class="top"><p class="src"><a id="v:conquer" class="def">conquer</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#conquer" class="link">Source</a> <a href="#v:conquer" class="selflink">#</a></p><div class="doc"><p><code>conquer</code> combinator from <code>Divisible</code> type class.</p><p>Concretely, this is a <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> that does nothing:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>conquer &lt;&amp; &quot;hello?&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;hello?&quot; &amp;&gt; conquer
</code></strong></pre></div></div><div class="top"><p class="src"><a id="v:-62--42--60-" class="def">(&gt;*&lt;)</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (a, b) <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3E%2A%3C" class="link">Source</a> <a href="#v:-62--42--60-" class="selflink">#</a></p><div class="doc"><p>Operator version of <code><code><a href="Colog-Core-Action.html#v:divide" title="Colog.Core.Action">divide</a></code> <code><a href="../base-4.18.2.1/Data-Function.html#v:id" title="Data.Function">id</a></code></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logInt = LogAction print
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(logStringStdout &gt;*&lt; logInt) &lt;&amp; (&quot;foo&quot;, 1)
</code></strong>foo
1
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(logInt &gt;*&lt; logStringStdout) &lt;&amp; (1, &quot;foo&quot;)
</code></strong>1
foo
</pre></div></div><div class="top"><p class="src"><a id="v:-62--42-" class="def">(&gt;*)</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m () -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3E%2A" class="link">Source</a> <a href="#v:-62--42-" class="selflink">#</a></p><div class="doc"><p>Perform a constant log action after another.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logHello = LogAction (const (putStrLn &quot;Hello!&quot;))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;Greetings!&quot; &amp;&gt; (logStringStdout &gt;* logHello)
</code></strong>Greetings!
Hello!
</pre></div></div><div class="top"><p class="src"><a id="v:-42--60-" class="def">(*&lt;)</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m () -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%2A%3C" class="link">Source</a> <a href="#v:-42--60-" class="selflink">#</a></p><div class="doc"><p>A flipped version of <code><a href="Colog-Core-Action.html#v:-62--42-" title="Colog.Core.Action">&gt;*</a></code></p></div></div><a href="#g:5" id="g:5"><h1>Decidable combinators</h1></a><div class="doc"><p>Combinators that implement interface in the spirit of the following typeclass:</p><pre><strong>class</strong> Divisible f =&gt; Decidable f <strong>where</strong>
    lose   :: (a -&gt; Void) -&gt; f a
    choose :: (a -&gt; Either b c) -&gt; f b -&gt; f c -&gt; f a
</pre></div><div class="top"><p class="src"><a id="v:lose" class="def">lose</a> :: (a -&gt; <a href="../base-4.18.2.1/Data-Void.html#t:Void" title="Data.Void">Void</a>) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#lose" class="link">Source</a> <a href="#v:lose" class="selflink">#</a></p><div class="doc"><p><code>lose</code> combinator from <code>Decidable</code> type class.</p></div></div><div class="top"><p class="src"><a id="v:choose" class="def">choose</a> :: (a -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> b c) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#choose" class="link">Source</a> <a href="#v:choose" class="selflink">#</a></p><div class="doc"><p><code>choose</code> combinator from <code>Decidable</code> type class.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logInt = LogAction print
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f = choose (\a -&gt; if a &lt; 0 then Left &quot;Negative&quot; else Right a)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f logStringStdout logInt &lt;&amp; 1
</code></strong>1
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f logStringStdout logInt &lt;&amp; (-1)
</code></strong>Negative
</pre></div></div><div class="top"><p class="src"><a id="v:chooseM" class="def">chooseM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> b c)) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m c -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.Action.html#chooseM" class="link">Source</a> <a href="#v:chooseM" class="selflink">#</a></p><div class="doc"><p>Monadic version of <code><a href="Colog-Core-Action.html#v:choose" title="Colog.Core.Action">choose</a></code>.</p><p><em>Since: 0.2.1.0</em></p></div></div><div class="top"><p class="src"><a id="v:-62--124--60-" class="def">(&gt;|&lt;)</a> :: <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m b -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> a b) <span class="fixity">infixr 3</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3E%7C%3C" class="link">Source</a> <a href="#v:-62--124--60-" class="selflink">#</a></p><div class="doc"><p>Operator version of <code><code><a href="Colog-Core-Action.html#v:choose" title="Colog.Core.Action">choose</a></code> <code><a href="../base-4.18.2.1/Data-Function.html#v:id" title="Data.Function">id</a></code></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>dontPrintInt = LogAction (const (putStrLn &quot;Not printing Int&quot;))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Left 1 &amp;&gt; (dontPrintInt &gt;|&lt; logStringStdout)
</code></strong>Not printing Int
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(dontPrintInt &gt;|&lt; logStringStdout) &lt;&amp; Right &quot;:)&quot;
</code></strong>:)
</pre></div></div><a href="#g:6" id="g:6"><h1>Comonadic combinators</h1></a><div class="doc"><p>Combinators that implement interface in the spirit of the following typeclass:</p><pre><strong>class</strong> Functor w =&gt; Comonad w <strong>where</strong>
    extract   :: w a -&gt; a
    duplicate :: w a -&gt; w (w a)
    extend    :: (w a -&gt; b) -&gt; w a -&gt; w b
</pre></div><div class="top"><p class="src"><a id="v:extract" class="def">extract</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> msg =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m () <a href="src/Colog.Core.Action.html#extract" class="link">Source</a> <a href="#v:extract" class="selflink">#</a></p><div class="doc"><p>If <code>msg</code> is <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> then <code><a href="Colog-Core-Action.html#v:extract" title="Colog.Core.Action">extract</a></code> performs given log action by passing
<code><a href="../base-4.18.2.1/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code> to it.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logPrint :: LogAction IO [Int]; logPrint = LogAction print
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>extract logPrint
</code></strong>[]
</pre></div></div><div class="top"><p class="src"><a id="v:extend" class="def">extend</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.Action.html#extend" class="link">Source</a> <a href="#v:extend" class="selflink">#</a></p><div class="doc"><p>This is a <em>comonadic extend</em>. It allows you to chain different transformations on messages.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f (LogAction l) = l &quot;.f1&quot; *&gt; l &quot;.f2&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>g (LogAction l) = l &quot;.g&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logStringStdout &lt;&amp; &quot;foo&quot;
</code></strong>foo
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>extend f logStringStdout &lt;&amp; &quot;foo&quot;
</code></strong>foo.f1
foo.f2
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(extend g $ extend f logStringStdout) &lt;&amp; &quot;foo&quot;
</code></strong>foo.g.f1
foo.g.f2
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(logStringStdout =&gt;&gt; f =&gt;&gt; g) &lt;&amp; &quot;foo&quot;
</code></strong>foo.g.f1
foo.g.f2
</pre></div></div><div class="top"><p class="src"><a id="v:-61--62--62-" class="def">(=&gt;&gt;)</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <span class="fixity">infixl 1</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3D%3E%3E" class="link">Source</a> <a href="#v:-61--62--62-" class="selflink">#</a></p><div class="doc"><p><code><a href="Colog-Core-Action.html#v:extend" title="Colog.Core.Action">extend</a></code> with the arguments swapped. Dual to <code><a href="../base-4.18.2.1/Control-Monad.html#v:-62--62--61-" title="Control.Monad">&gt;&gt;=</a></code> for a <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:-60--60--61-" class="def">(&lt;&lt;=)</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; m ()) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <span class="fixity">infixr 1</span><span class="rightedge"></span> <a href="src/Colog.Core.Action.html#%3C%3C%3D" class="link">Source</a> <a href="#v:-60--60--61-" class="selflink">#</a></p><div class="doc"><p><code><a href="Colog-Core-Action.html#v:extend" title="Colog.Core.Action">extend</a></code> in operator form.</p></div></div><div class="top"><p class="src"><a id="v:duplicate" class="def">duplicate</a> :: <span class="keyword">forall</span> msg m. <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> msg =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (msg, msg) <a href="src/Colog.Core.Action.html#duplicate" class="link">Source</a> <a href="#v:duplicate" class="selflink">#</a></p><div class="doc"><p>Converts any <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> that can log single message to the <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code>
that can log two messages. The new <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> behaves in the following way:</p><ol><li value="1">Joins two messages of type <code>msg</code> using <code><a href="../base-4.18.2.1/Data-Monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a></code> operator from <code><a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a></code>.</li><li value="2">Passes resulted message to the given <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code>.</li></ol><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>let logger :: LogAction IO [Int]
    logger = logPrint
in duplicate logger &lt;&amp; ([3, 4], [42, 10])
:}
[3,4,42,10]
</pre><p><strong>Implementation note:</strong></p><p>True and fair translation of the <code>duplicate</code> function from the <code><a href="Control-Comonad.html#v:Comonad" title="Control.Comonad">Comonad</a></code>
interface should result in the <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> of the following form:</p><pre>msg -&gt; msg -&gt; m ()
</pre><p>In order to capture this behavior, <code><a href="Colog-Core-Action.html#v:duplicate" title="Colog.Core.Action">duplicate</a></code> should have the following type:</p><pre>duplicate :: Semigroup msg =&gt; LogAction m msg -&gt; LogAction (Compose ((-&gt;) msg) m) msg
</pre><p>However, it's quite awkward to work with such type. It's a known fact that the
following two types are isomorphic (see functions <code><a href="../base-4.18.2.1/Data-Tuple.html#v:curry" title="Data.Tuple">curry</a></code> and <code><a href="../base-4.18.2.1/Data-Tuple.html#v:uncurry" title="Data.Tuple">uncurry</a></code>):</p><pre>a -&gt; b -&gt; c
(a, b) -&gt; c
</pre><p>So using this fact we can come up with the simpler interface.</p></div></div><div class="top"><p class="src"><a id="v:multiplicate" class="def">multiplicate</a> :: <span class="keyword">forall</span> f msg m. (<a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f, <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> msg) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (f msg) <a href="src/Colog.Core.Action.html#multiplicate" class="link">Source</a> <a href="#v:multiplicate" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Colog-Core-Action.html#v:duplicate" title="Colog.Core.Action">duplicate</a></code> but why stop on a pair of two messages if you can log any
<code><a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a></code> of messages?</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>let logger :: LogAction IO [Int]
    logger = logPrint
in multiplicate logger &lt;&amp; replicate 5 [1..3]
:}
[1,2,3,1,2,3,1,2,3,1,2,3,1,2,3]
</pre></div></div><div class="top"><p class="src"><a id="v:separate" class="def">separate</a> :: <span class="keyword">forall</span> f msg m. (<a href="../base-4.18.2.1/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f, <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m (f msg) <a href="src/Colog.Core.Action.html#separate" class="link">Source</a> <a href="#v:separate" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Colog-Core-Action.html#v:multiplicate" title="Colog.Core.Action">multiplicate</a></code> but instead of logging a batch of messages it logs each
of them separately.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>let logger :: LogAction IO Int
    logger = logPrint
in separate logger &lt;&amp; [1..5]
:}
1
2
3
4
5
</pre><p><em>Since: 0.2.1.0</em></p></div></div><a href="#g:7" id="g:7"><h1>Higher-order combinators</h1></a><div class="top"><p class="src"><a id="v:hoistLogAction" class="def">hoistLogAction</a> :: (<span class="keyword">forall</span> x. m x -&gt; n x) -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> n a <a href="src/Colog.Core.Action.html#hoistLogAction" class="link">Source</a> <a href="#v:hoistLogAction" class="selflink">#</a></p><div class="doc"><p>Allows changing the internal monadic action.</p><p>Let's say we have a pure logger action using <code>PureLogger</code>
and we want to log all messages into <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> instead.</p><p>If we provide the following function:</p><pre>performPureLogsInIO :: PureLogger a -&gt; IO a
</pre><p>then we can convert a logger action that uses a pure monad
to a one that performs the logging in the <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> monad using:</p><pre>hoistLogAction performPureLogsInIO :: LogAction (PureLogger a) a -&gt; LogAction IO a
</pre><p><em>Since: 0.2.1.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>