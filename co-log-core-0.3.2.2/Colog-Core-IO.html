<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Colog.Core.IO</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">co-log-core-0.3.2.2: Composable Contravariant Comonadic Logging Library</span><ul class="links" id="page-menu"><li><a href="src/Colog.Core.IO.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2018-2020 Kowainik 2021-2024 Co-Log</td></tr><tr><th>License</th><td>MPL-2.0</td></tr><tr><th>Maintainer</th><td>Co-Log &lt;xrom.xkov@gmail.com&gt;</td></tr><tr><th>Stability</th><td>Stable</td></tr><tr><th>Portability</th><td>Portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Colog.Core.IO</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1"><code>String</code> actions</a></li><li><a href="#g:2"><code>Show</code> actions</a></li><li><a href="#g:3">Various combinators</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Introduces logging actions working in <code><a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a></code>. These actions are very basic
and inefficient because they use the <code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code> data type. If you don't want to
have extra dependencies and performance of logging is not the bottleneck of your
application, then these functions should be enough. Otherwise use functions from
the <a href="Colog-Actions.html">Colog.Actions</a> module from the <code>co-log</code> package.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:logStringStdout">logStringStdout</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:logStringStderr">logStringStderr</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:logStringHandle">logStringHandle</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:withLogStringFile">withLogStringFile</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r</li><li class="src short"><a href="#v:logPrint">logPrint</a> :: <span class="keyword">forall</span> a m. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:logPrintStderr">logPrintStderr</a> :: <span class="keyword">forall</span> a m. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:logPrintHandle">logPrintHandle</a> :: <span class="keyword">forall</span> a m. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li><li class="src short"><a href="#v:withLogPrintFile">withLogPrintFile</a> :: <span class="keyword">forall</span> a m r. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r</li><li class="src short"><a href="#v:liftLogIO">liftLogIO</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg</li><li class="src short"><a href="#v:logFlush">logFlush</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1><code>String</code> actions</h1></a><div class="top"><p class="src"><a id="v:logStringStdout" class="def">logStringStdout</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Colog.Core.IO.html#logStringStdout" class="link">Source</a> <a href="#v:logStringStdout" class="selflink">#</a></p><div class="doc"><p>Action that prints <code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code> to stdout.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logStringStdout &lt;&amp; &quot;foo&quot;
</code></strong>foo
</pre></div></div><div class="top"><p class="src"><a id="v:logStringStderr" class="def">logStringStderr</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Colog.Core.IO.html#logStringStderr" class="link">Source</a> <a href="#v:logStringStderr" class="selflink">#</a></p><div class="doc"><p>Action that prints <code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code> to stderr.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logStringStderr &lt;&amp; &quot;foo&quot;
</code></strong>foo
</pre></div></div><div class="top"><p class="src"><a id="v:logStringHandle" class="def">logStringHandle</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Colog.Core.IO.html#logStringHandle" class="link">Source</a> <a href="#v:logStringHandle" class="selflink">#</a></p><div class="doc"><p>Action that prints <code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code> to <code><a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logStringHandle stderr &lt;&amp; &quot;foo&quot;
</code></strong>foo
</pre></div></div><div class="top"><p class="src"><a id="v:withLogStringFile" class="def">withLogStringFile</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r <a href="src/Colog.Core.IO.html#withLogStringFile" class="link">Source</a> <a href="#v:withLogStringFile" class="selflink">#</a></p><div class="doc"><p>Action that prints <code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code> to file. Instead of returning <code><a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a></code> it's
implemented in continuation-passing style because it's more efficient to open
file only once at the start of the application and write to <code><a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> instead of
opening file each time we need to write to it.</p><p>Opens file in <code><a href="../base-4.18.2.1/System-IO.html#v:AppendMode" title="System.IO">AppendMode</a></code>. Automatically flushes the output buffer.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logger action = action &lt;&amp; &quot;foo&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withLogStringFile &quot;/dev/stdout&quot; logger
</code></strong>foo
</pre></div></div><a href="#g:2" id="g:2"><h1><code>Show</code> actions</h1></a><div class="top"><p class="src"><a id="v:logPrint" class="def">logPrint</a> :: <span class="keyword">forall</span> a m. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.IO.html#logPrint" class="link">Source</a> <a href="#v:logPrint" class="selflink">#</a></p><div class="doc"><p>Action that prints to stdout using <code><a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code>.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logPrint &lt;&amp; 5
</code></strong>5
</pre></div></div><div class="top"><p class="src"><a id="v:logPrintStderr" class="def">logPrintStderr</a> :: <span class="keyword">forall</span> a m. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.IO.html#logPrintStderr" class="link">Source</a> <a href="#v:logPrintStderr" class="selflink">#</a></p><div class="doc"><p>Action that prints to stderr using <code><a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code>.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logPrintStderr &lt;&amp; 5
</code></strong>5
</pre></div></div><div class="top"><p class="src"><a id="v:logPrintHandle" class="def">logPrintHandle</a> :: <span class="keyword">forall</span> a m. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.IO.html#logPrintHandle" class="link">Source</a> <a href="#v:logPrintHandle" class="selflink">#</a></p><div class="doc"><p>Action that prints to a <code><a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> using <code><a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code>.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logPrintHandle stderr &lt;&amp; 5
</code></strong>5
</pre></div></div><div class="top"><p class="src"><a id="v:withLogPrintFile" class="def">withLogPrintFile</a> :: <span class="keyword">forall</span> a m r. (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> r <a href="src/Colog.Core.IO.html#withLogPrintFile" class="link">Source</a> <a href="#v:withLogPrintFile" class="selflink">#</a></p><div class="doc"><p>Action that prints to a file using <code><a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code>. See <code><a href="Colog-Core-IO.html#v:withLogStringFile" title="Colog.Core.IO">withLogStringFile</a></code> for details.</p></div></div><a href="#g:3" id="g:3"><h1>Various combinators</h1></a><div class="top"><p class="src"><a id="v:liftLogIO" class="def">liftLogIO</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> msg -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m msg <a href="src/Colog.Core.IO.html#liftLogIO" class="link">Source</a> <a href="#v:liftLogIO" class="selflink">#</a></p><div class="doc"><p>Lifts a LogAction over IO into a more general Monad.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>logToStdout = LogAction putStrLn
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>liftLogIO logToStdout &lt;&amp; &quot;foo&quot;
</code></strong>foo
</pre></div></div><div class="top"><p class="src"><a id="v:logFlush" class="def">logFlush</a> :: <a href="../base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Colog-Core-Action.html#t:LogAction" title="Colog.Core.Action">LogAction</a> m a <a href="src/Colog.Core.IO.html#logFlush" class="link">Source</a> <a href="#v:logFlush" class="selflink">#</a></p><div class="doc"><p>This action can be used in combination with other actions to flush
a handle every time you log anything.</p><p><em>Since: 0.3.0.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>