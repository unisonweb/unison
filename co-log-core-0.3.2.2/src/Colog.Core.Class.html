<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types            #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="annot"><span class="hs-comment">{- |
Module                  : Colog.Core.Class
Copyright               : (c) 2018-2020 Kowainik, 2021-2024 Co-Log
SPDX-License-Identifier : MPL-2.0
Maintainer              : Co-Log &lt;xrom.xkov@gmail.com&gt;
Stability               : Stable
Portability             : Portable

Provides type class for values that has access to 'LogAction'.
-}</span></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Colog.Core.Class</span><span>
</span><span id="line-17"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#HasLog"><span class="hs-identifier">HasLog</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Lens</span></span><span>
</span><span id="line-20"></span><span>         </span><span class="annot"><span class="hs-comment">-- $lens</span></span><span>
</span><span id="line-21"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#Lens%27"><span class="hs-identifier">Lens'</span></a></span><span>
</span><span id="line-22"></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Colog.Core.Action.html"><span class="hs-identifier">Colog.Core.Action</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier">LogAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Const</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- to inline lens better</span><span>
</span><span id="line-29"></span><span class="hs-comment">{- HLINT ignore &quot;Redundant lambda&quot; -}</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="annot"><span class="hs-comment">{- | This types class contains simple pair of getter-setter and related
functions.
It also provides the useful lens 'logActionL' with the default implementation using type
class methods. The default one could be easily overritten under your instances.

Every instance of the this typeclass should satisfy the following laws:

1. __Set-Get:__ @'getLogAction' ('setLogAction' l env) &#8801; l@
2. __Get-Set:__ @'setLogAction' ('getLogAction' env) env &#8801; env@
3. __Set-Set:__ @'setLogAction' l2 ('setLogAction' l1 env) &#8801; 'setLogAction' l2 env@
4. __Set-Over:__ @'overLogAction' f env &#8801; 'setLogAction' (f $ 'getLogAction' env) env@
-}</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">class</span><span> </span><span id="HasLog"><span class="annot"><a href="Colog.Core.Class.html#HasLog"><span class="hs-identifier hs-var">HasLog</span></a></span></span><span> </span><span id="local-6989586621679039217"><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span></span><span> </span><span id="local-6989586621679039219"><span class="annot"><a href="#local-6989586621679039219"><span class="hs-identifier hs-type">msg</span></a></span></span><span> </span><span id="local-6989586621679039218"><span class="annot"><a href="#local-6989586621679039218"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#logActionL"><span class="hs-pragma hs-type">logActionL</span></a></span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Colog.Core.Class.html#getLogAction"><span class="hs-pragma hs-type">getLogAction</span></a></span><span> </span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Colog.Core.Class.html#setLogAction"><span class="hs-pragma hs-type">setLogAction</span></a></span><span> </span><span class="hs-pragma">|</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#overLogAction"><span class="hs-pragma hs-type">overLogAction</span></a></span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-comment">-- | Extracts 'LogAction' from the environment.</span><span>
</span><span id="line-47"></span><span>    </span><span id="getLogAction"><span class="annot"><a href="Colog.Core.Class.html#getLogAction"><span class="hs-identifier hs-type">getLogAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039218"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039219"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span id="local-6989586621679039266"><span class="annot"><a href="Colog.Core.Class.html#getLogAction"><span class="hs-identifier hs-var hs-var">getLogAction</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const (LogAction m msg) env -&gt; LogAction m msg
forall {k} a (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const (LogAction m msg) env -&gt; LogAction m msg)
-&gt; (env -&gt; Const (LogAction m msg) env) -&gt; env -&gt; LogAction m msg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(LogAction m msg -&gt; Const (LogAction m msg) (LogAction m msg))
-&gt; env -&gt; Const (LogAction m msg) env
forall env msg (m :: * -&gt; *).
HasLog env msg m =&gt;
Lens' env (LogAction m msg)
Lens' env (LogAction m msg)
</span><a href="Colog.Core.Class.html#logActionL"><span class="hs-identifier hs-var">logActionL</span></a></span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; Const (LogAction m msg) (LogAction m msg)
forall {k} a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#getLogAction"><span class="hs-pragma hs-type">getLogAction</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-comment">-- | Sets 'LogAction' to the given one inside the environment.</span><span>
</span><span id="line-52"></span><span>    </span><span id="setLogAction"><span class="annot"><a href="Colog.Core.Class.html#setLogAction"><span class="hs-identifier hs-type">setLogAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039218"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039219"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span id="local-6989586621679039273"><span class="annot"><a href="Colog.Core.Class.html#setLogAction"><span class="hs-identifier hs-var hs-var">setLogAction</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogAction m msg -&gt; LogAction m msg) -&gt; env -&gt; env
forall env msg (m :: * -&gt; *).
HasLog env msg m =&gt;
(LogAction m msg -&gt; LogAction m msg) -&gt; env -&gt; env
</span><a href="Colog.Core.Class.html#overLogAction"><span class="hs-identifier hs-var">overLogAction</span></a></span><span> </span><span class="annot"><span class="annottext">((LogAction m msg -&gt; LogAction m msg) -&gt; env -&gt; env)
-&gt; (LogAction m msg -&gt; LogAction m msg -&gt; LogAction m msg)
-&gt; LogAction m msg
-&gt; env
-&gt; env
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; LogAction m msg -&gt; LogAction m msg
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#setLogAction"><span class="hs-pragma hs-type">setLogAction</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-comment">-- | Applies function to the 'LogAction' inside the environment.</span><span>
</span><span id="line-57"></span><span>    </span><span id="overLogAction"><span class="annot"><a href="Colog.Core.Class.html#overLogAction"><span class="hs-identifier hs-type">overLogAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039218"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039219"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039218"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039219"><span class="hs-identifier hs-type">msg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621679039276"><span class="annot"><a href="Colog.Core.Class.html#overLogAction"><span class="hs-identifier hs-var hs-var">overLogAction</span></a></span><span> </span><span id="local-6989586621679039279"><span class="annot"><span class="annottext">LogAction m msg -&gt; LogAction m msg
</span><a href="#local-6989586621679039279"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679039280"><span class="annot"><span class="annottext">env
</span><a href="#local-6989586621679039280"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; env -&gt; env
forall env msg (m :: * -&gt; *).
HasLog env msg m =&gt;
LogAction m msg -&gt; env -&gt; env
</span><a href="Colog.Core.Class.html#setLogAction"><span class="hs-identifier hs-var">setLogAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogAction m msg -&gt; LogAction m msg
</span><a href="#local-6989586621679039279"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(LogAction m msg -&gt; LogAction m msg)
-&gt; LogAction m msg -&gt; LogAction m msg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">env -&gt; LogAction m msg
forall env msg (m :: * -&gt; *).
HasLog env msg m =&gt;
env -&gt; LogAction m msg
</span><a href="Colog.Core.Class.html#getLogAction"><span class="hs-identifier hs-var">getLogAction</span></a></span><span> </span><span class="annot"><span class="annottext">env
</span><a href="#local-6989586621679039280"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">env
</span><a href="#local-6989586621679039280"><span class="hs-identifier hs-var">env</span></a></span></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#overLogAction"><span class="hs-pragma hs-type">overLogAction</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-comment">-- | Lens for 'LogAction' inside the environment.</span><span>
</span><span id="line-62"></span><span>    </span><span id="logActionL"><span class="annot"><a href="Colog.Core.Class.html#logActionL"><span class="hs-identifier hs-type">logActionL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039217"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039218"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039219"><span class="hs-identifier hs-type">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>    </span><span id="local-6989586621679039281"><span class="annot"><a href="Colog.Core.Class.html#logActionL"><span class="hs-identifier hs-var hs-var">logActionL</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(env -&gt; LogAction m msg)
-&gt; (env -&gt; LogAction m msg -&gt; env) -&gt; Lens' env (LogAction m msg)
forall s a. (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; Lens' s a
</span><a href="Colog.Core.Class.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">env -&gt; LogAction m msg
forall env msg (m :: * -&gt; *).
HasLog env msg m =&gt;
env -&gt; LogAction m msg
</span><a href="Colog.Core.Class.html#getLogAction"><span class="hs-identifier hs-var">getLogAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LogAction m msg -&gt; env -&gt; env) -&gt; env -&gt; LogAction m msg -&gt; env
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; env -&gt; env
forall env msg (m :: * -&gt; *).
HasLog env msg m =&gt;
LogAction m msg -&gt; env -&gt; env
</span><a href="Colog.Core.Class.html#setLogAction"><span class="hs-identifier hs-var">setLogAction</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#logActionL"><span class="hs-pragma hs-type">logActionL</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679039247"><span id="local-6989586621679039248"><span class="annot"><a href="Colog.Core.Class.html#HasLog"><span class="hs-identifier hs-type">HasLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="Colog.Core.Class.html#getLogAction"><span class="hs-identifier hs-type">getLogAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span id="local-6989586621679039294"><span class="annot"><span class="annottext">getLogAction :: LogAction m msg -&gt; LogAction m msg
</span><a href="Colog.Core.Class.html#getLogAction"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; LogAction m msg
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#getLogAction"><span class="hs-pragma hs-type">getLogAction</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><a href="Colog.Core.Class.html#setLogAction"><span class="hs-identifier hs-type">setLogAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621679039296"><span class="annot"><span class="annottext">setLogAction :: LogAction m msg -&gt; LogAction m msg -&gt; LogAction m msg
</span><a href="Colog.Core.Class.html#setLogAction"><span class="hs-identifier hs-var hs-var hs-var hs-var">setLogAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; LogAction m msg -&gt; LogAction m msg
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#setLogAction"><span class="hs-pragma hs-type">setLogAction</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><a href="Colog.Core.Class.html#overLogAction"><span class="hs-identifier hs-type">overLogAction</span></a></span><span>
</span><span id="line-76"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-78"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span id="local-6989586621679039297"><span class="annot"><span class="annottext">overLogAction :: (LogAction m msg -&gt; LogAction m msg)
-&gt; LogAction m msg -&gt; LogAction m msg
</span><a href="Colog.Core.Class.html#overLogAction"><span class="hs-identifier hs-var hs-var hs-var hs-var">overLogAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogAction m msg -&gt; LogAction m msg)
-&gt; LogAction m msg -&gt; LogAction m msg
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#overLogAction"><span class="hs-pragma hs-type">overLogAction</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="Colog.Core.Class.html#logActionL"><span class="hs-identifier hs-type">logActionL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039248"><span class="hs-identifier hs-type">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679039302"><span class="annot"><span class="annottext">logActionL :: Lens' (LogAction m msg) (LogAction m msg)
</span><a href="Colog.Core.Class.html#logActionL"><span class="hs-identifier hs-var hs-var hs-var hs-var">logActionL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039303"><span class="annot"><span class="annottext">LogAction m msg -&gt; f (LogAction m msg)
</span><a href="#local-6989586621679039303"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679039304"><span class="annot"><span class="annottext">LogAction m msg
</span><a href="#local-6989586621679039304"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogAction m msg
</span><a href="#local-6989586621679039304"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; f (LogAction m msg) -&gt; f (LogAction m msg)
forall a b. a -&gt; f b -&gt; f a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">LogAction m msg -&gt; f (LogAction m msg)
</span><a href="#local-6989586621679039303"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">LogAction m msg
</span><a href="#local-6989586621679039304"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#logActionL"><span class="hs-pragma hs-type">logActionL</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- Lens</span><span>
</span><span id="line-88"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><span class="hs-comment">{- $lens
To keep @co-log-core@ a lightweight library it was decided to introduce local
'Lens'' type alias as it doesn't harm.
-}</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><span class="hs-comment">{- | The monomorphic lenses which don't change the type of the container (or of
the value inside).
-}</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">type</span><span> </span><span id="Lens%27"><span class="annot"><a href="Colog.Core.Class.html#Lens%27"><span class="hs-identifier hs-var">Lens'</span></a></span></span><span> </span><span id="local-6989586621679039306"><span class="annot"><a href="#local-6989586621679039306"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679039307"><span class="annot"><a href="#local-6989586621679039307"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679039308"><span class="annot"><a href="#local-6989586621679039308"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679039308"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679039307"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039308"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039307"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039306"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039308"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039306"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">-- | Creates 'Lens'' from the getter and setter.</span></span><span>
</span><span id="line-101"></span><span id="local-6989586621679039240"><span id="local-6989586621679039241"><span class="annot"><a href="Colog.Core.Class.html#lens"><span class="hs-identifier hs-type">lens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679039240"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679039240"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039241"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679039240"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039240"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039241"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-102"></span><span id="lens"><span class="annot"><span class="annottext">lens :: forall s a. (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; Lens' s a
</span><a href="Colog.Core.Class.html#lens"><span class="hs-identifier hs-var hs-var">lens</span></a></span></span><span> </span><span id="local-6989586621679039311"><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679039311"><span class="hs-identifier hs-var">getter</span></a></span></span><span> </span><span id="local-6989586621679039312"><span class="annot"><span class="annottext">s -&gt; a -&gt; s
</span><a href="#local-6989586621679039312"><span class="hs-identifier hs-var">setter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039313"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679039313"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679039314"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679039314"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">s -&gt; a -&gt; s
</span><a href="#local-6989586621679039312"><span class="hs-identifier hs-var">setter</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679039314"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; s) -&gt; f a -&gt; f s
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679039313"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679039311"><span class="hs-identifier hs-var">getter</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679039314"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.Class.html#lens"><span class="hs-pragma hs-type">lens</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-104"></span></pre></body></html>