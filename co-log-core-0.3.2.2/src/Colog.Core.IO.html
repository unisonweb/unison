<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{- |
Module                  : Colog.Core.IO
Copyright               : (c) 2018-2020 Kowainik, 2021-2024 Co-Log
SPDX-License-Identifier : MPL-2.0
Maintainer              : Co-Log &lt;xrom.xkov@gmail.com&gt;
Stability               : Stable
Portability             : Portable

Introduces logging actions working in 'MonadIO'. These actions are very basic
and inefficient because they use the 'String' data type. If you don't want to
have extra dependencies and performance of logging is not the bottleneck of your
application, then these functions should be enough. Otherwise use functions from
the &quot;Colog.Actions&quot; module from the @co-log@ package.
-}</span></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Colog.Core.IO</span><span>
</span><span id="line-19"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * 'String' actions</span></span><span>
</span><span id="line-20"></span><span>         </span><span class="annot"><a href="Colog.Core.IO.html#logStringStdout"><span class="hs-identifier">logStringStdout</span></a></span><span>
</span><span id="line-21"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringStderr"><span class="hs-identifier">logStringStderr</span></a></span><span>
</span><span id="line-22"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-identifier">logStringHandle</span></a></span><span>
</span><span id="line-23"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#withLogStringFile"><span class="hs-identifier">withLogStringFile</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>         </span><span class="annot"><span class="hs-comment">-- * 'Show' actions</span></span><span>
</span><span id="line-26"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrint"><span class="hs-identifier">logPrint</span></a></span><span>
</span><span id="line-27"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrintStderr"><span class="hs-identifier">logPrintStderr</span></a></span><span>
</span><span id="line-28"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-identifier">logPrintHandle</span></a></span><span>
</span><span id="line-29"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#withLogPrintFile"><span class="hs-identifier">withLogPrintFile</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Various combinators</span></span><span>
</span><span id="line-32"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#liftLogIO"><span class="hs-identifier">liftLogIO</span></a></span><span>
</span><span id="line-33"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logFlush"><span class="hs-identifier">logFlush</span></a></span><span>
</span><span id="line-34"></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Colog.Core.Action.html"><span class="hs-identifier">Colog.Core.Action</span></a></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier">LogAction</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Semigroup</span></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Handle</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">IOMode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AppendMode</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hFlush</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hPrint</span></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>                               </span><span class="annot"><span class="hs-identifier">hPutStrLn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">stderr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">withFile</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="annot"><span class="hs-comment">{- $setup
&gt;&gt;&gt; import Colog.Core.Action
-}</span></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- String</span><span>
</span><span id="line-49"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="annot"><span class="hs-comment">{- | Action that prints 'String' to stdout.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.

&gt;&gt;&gt; logStringStdout &lt;&amp; &quot;foo&quot;
foo
-}</span></span><span>
</span><span id="line-58"></span><span id="local-6989586621679039317"><span class="annot"><a href="Colog.Core.IO.html#logStringStdout"><span class="hs-identifier hs-type">logStringStdout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-59"></span><span id="logStringStdout"><span class="annot"><span class="annottext">logStringStdout :: forall (m :: * -&gt; *). MonadIO m =&gt; LogAction m String
</span><a href="Colog.Core.IO.html#logStringStdout"><span class="hs-identifier hs-var hs-var">logStringStdout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; LogAction m String
forall (m :: * -&gt; *) msg. (msg -&gt; m ()) -&gt; LogAction m msg
</span><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-var">LogAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (String -&gt; IO ()) -&gt; String -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringStdout"><span class="hs-pragma hs-type">logStringStdout</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-61"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringStdout"><span class="hs-pragma hs-type">logStringStdout</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="annot"><span class="hs-comment">{- | Action that prints 'String' to stderr.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.

&gt;&gt;&gt; logStringStderr &lt;&amp; &quot;foo&quot;
foo
-}</span></span><span>
</span><span id="line-70"></span><span id="local-6989586621679039398"><span class="annot"><a href="Colog.Core.IO.html#logStringStderr"><span class="hs-identifier hs-type">logStringStderr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039398"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039398"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-71"></span><span id="logStringStderr"><span class="annot"><span class="annottext">logStringStderr :: forall (m :: * -&gt; *). MonadIO m =&gt; LogAction m String
</span><a href="Colog.Core.IO.html#logStringStderr"><span class="hs-identifier hs-var hs-var">logStringStderr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; LogAction m String
forall (m :: * -&gt; *). MonadIO m =&gt; Handle -&gt; LogAction m String
</span><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-identifier hs-var">logStringHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stderr</span></span><span>
</span><span id="line-72"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringStderr"><span class="hs-pragma hs-type">logStringStderr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-73"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringStderr"><span class="hs-pragma hs-type">logStringStderr</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="annot"><span class="hs-comment">{- | Action that prints 'String' to 'Handle'.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.

&gt;&gt;&gt; logStringHandle stderr &lt;&amp; &quot;foo&quot;
foo
-}</span></span><span>
</span><span id="line-82"></span><span id="local-6989586621679039329"><span class="annot"><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-identifier hs-type">logStringHandle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039329"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039329"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-83"></span><span id="logStringHandle"><span class="annot"><span class="annottext">logStringHandle :: forall (m :: * -&gt; *). MonadIO m =&gt; Handle -&gt; LogAction m String
</span><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-identifier hs-var hs-var">logStringHandle</span></a></span></span><span> </span><span id="local-6989586621679039403"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039403"><span class="hs-identifier hs-var">handle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; LogAction m String
forall (m :: * -&gt; *) msg. (msg -&gt; m ()) -&gt; LogAction m msg
</span><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-var">LogAction</span></a></span><span> </span><span class="annot"><span class="annottext">((String -&gt; m ()) -&gt; LogAction m String)
-&gt; (String -&gt; m ()) -&gt; LogAction m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (String -&gt; IO ()) -&gt; String -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039403"><span class="hs-identifier hs-var">handle</span></a></span><span>
</span><span id="line-84"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-pragma hs-type">logStringHandle</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-85"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-pragma hs-type">logStringHandle</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Handle</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="annot"><span class="hs-comment">{- | Action that prints 'String' to file. Instead of returning 'LogAction' it's
implemented in continuation-passing style because it's more efficient to open
file only once at the start of the application and write to 'Handle' instead of
opening file each time we need to write to it.

Opens file in 'AppendMode'. Automatically flushes the output buffer.

#ifndef mingw32_HOST_OS

&gt;&gt;&gt; logger action = action &lt;&amp; &quot;foo&quot;
&gt;&gt;&gt; withLogStringFile &quot;/dev/stdout&quot; logger
foo

#endif
-}</span></span><span>
</span><span id="line-102"></span><span id="local-6989586621679039334"><span id="local-6989586621679039335"><span class="annot"><a href="Colog.Core.IO.html#withLogStringFile"><span class="hs-identifier hs-type">withLogStringFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039334"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039334"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039335"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039335"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-103"></span><span id="withLogStringFile"><span class="annot"><span class="annottext">withLogStringFile :: forall (m :: * -&gt; *) r.
MonadIO m =&gt;
String -&gt; (LogAction m String -&gt; IO r) -&gt; IO r
</span><a href="Colog.Core.IO.html#withLogStringFile"><span class="hs-identifier hs-var hs-var">withLogStringFile</span></a></span></span><span> </span><span id="local-6989586621679039414"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679039414"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679039415"><span class="annot"><span class="annottext">LogAction m String -&gt; IO r
</span><a href="#local-6989586621679039415"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
forall r. String -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
</span><span class="hs-identifier hs-var">withFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679039414"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">IOMode
</span><span class="hs-identifier hs-var">AppendMode</span></span><span> </span><span class="annot"><span class="annottext">((Handle -&gt; IO r) -&gt; IO r) -&gt; (Handle -&gt; IO r) -&gt; IO r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039416"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039416"><span class="hs-identifier hs-var">handle</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="annottext">LogAction m String -&gt; IO r
</span><a href="#local-6989586621679039415"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; LogAction m String
forall (m :: * -&gt; *). MonadIO m =&gt; Handle -&gt; LogAction m String
</span><a href="Colog.Core.IO.html#logStringHandle"><span class="hs-identifier hs-var">logStringHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039416"><span class="hs-identifier hs-var">handle</span></a></span><span> </span><span class="annot"><span class="annottext">LogAction m String -&gt; LogAction m String -&gt; LogAction m String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; LogAction m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; Handle -&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logFlush"><span class="hs-identifier hs-var">logFlush</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039416"><span class="hs-identifier hs-var">handle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#withLogStringFile"><span class="hs-pragma hs-type">withLogStringFile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-106"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#withLogStringFile"><span class="hs-pragma hs-type">withLogStringFile</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679039417"><span class="annot"><span class="hs-pragma hs-type">FilePath</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039417"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039417"><span class="hs-pragma hs-type">r</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- Show</span><span>
</span><span id="line-110"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="annot"><span class="hs-comment">{- | Action that prints to stdout using 'Show'.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.

&gt;&gt;&gt; logPrint &lt;&amp; 5
5
-}</span></span><span>
</span><span id="line-119"></span><span class="annot"><a href="Colog.Core.IO.html#logPrint"><span class="hs-identifier hs-type">logPrint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679039346"><span class="annot"><a href="#local-6989586621679039346"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679039347"><span class="annot"><a href="#local-6989586621679039347"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039346"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039347"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039347"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039346"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-120"></span><span id="logPrint"><span class="annot"><span class="annottext">logPrint :: forall a (m :: * -&gt; *). (Show a, MonadIO m) =&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logPrint"><span class="hs-identifier hs-var hs-var">logPrint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m ()) -&gt; LogAction m a
forall (m :: * -&gt; *) msg. (msg -&gt; m ()) -&gt; LogAction m msg
</span><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-var">LogAction</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; m ()) -&gt; LogAction m a) -&gt; (a -&gt; m ()) -&gt; LogAction m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (a -&gt; IO ()) -&gt; a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">print</span></span><span>
</span><span id="line-121"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrint"><span class="hs-pragma hs-type">logPrint</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-122"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrint"><span class="hs-pragma hs-type">logPrint</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679039422"><span class="annot"><span class="hs-pragma hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039422"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039422"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><span class="hs-comment">{- | Action that prints to stderr using 'Show'.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.

&gt;&gt;&gt; logPrintStderr &lt;&amp; 5
5
-}</span></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Colog.Core.IO.html#logPrintStderr"><span class="hs-identifier hs-type">logPrintStderr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679039423"><span class="annot"><a href="#local-6989586621679039423"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679039424"><span class="annot"><a href="#local-6989586621679039424"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039424"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039423"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-132"></span><span id="logPrintStderr"><span class="annot"><span class="annottext">logPrintStderr :: forall a (m :: * -&gt; *). (Show a, MonadIO m) =&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logPrintStderr"><span class="hs-identifier hs-var hs-var">logPrintStderr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; LogAction m a
forall a (m :: * -&gt; *).
(Show a, MonadIO m) =&gt;
Handle -&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-identifier hs-var">logPrintHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stderr</span></span><span>
</span><span id="line-133"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrintStderr"><span class="hs-pragma hs-type">logPrintStderr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-134"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrintStderr"><span class="hs-pragma hs-type">logPrintStderr</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679039429"><span class="annot"><span class="hs-pragma hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039429"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039429"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="annot"><span class="hs-comment">{- | Action that prints to a 'Handle' using 'Show'.
This action does not flush the output buffer.
If buffering mode is block buffering, the effect of this action can be delayed.

&gt;&gt;&gt; logPrintHandle stderr &lt;&amp; 5
5
-}</span></span><span>
</span><span id="line-143"></span><span class="annot"><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-identifier hs-type">logPrintHandle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679039353"><span class="annot"><a href="#local-6989586621679039353"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679039354"><span class="annot"><a href="#local-6989586621679039354"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039353"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039354"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039354"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039353"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-144"></span><span id="logPrintHandle"><span class="annot"><span class="annottext">logPrintHandle :: forall a (m :: * -&gt; *).
(Show a, MonadIO m) =&gt;
Handle -&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-identifier hs-var hs-var">logPrintHandle</span></a></span></span><span> </span><span id="local-6989586621679039434"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039434"><span class="hs-identifier hs-var">handle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m ()) -&gt; LogAction m a
forall (m :: * -&gt; *) msg. (msg -&gt; m ()) -&gt; LogAction m msg
</span><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-var">LogAction</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; m ()) -&gt; LogAction m a) -&gt; (a -&gt; m ()) -&gt; LogAction m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (a -&gt; IO ()) -&gt; a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; a -&gt; IO ()
forall a. Show a =&gt; Handle -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">hPrint</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039434"><span class="hs-identifier hs-var">handle</span></a></span><span>
</span><span id="line-145"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-pragma hs-type">logPrintHandle</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-146"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-pragma hs-type">logPrintHandle</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679039435"><span class="annot"><span class="hs-pragma hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039435"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Handle</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039435"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="annot"><span class="hs-comment">{- | Action that prints to a file using 'Show'. See 'withLogStringFile' for details.
-}</span></span><span>
</span><span id="line-150"></span><span class="annot"><a href="Colog.Core.IO.html#withLogPrintFile"><span class="hs-identifier hs-type">withLogPrintFile</span></a></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679039358"><span class="annot"><a href="#local-6989586621679039358"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679039359"><span class="annot"><a href="#local-6989586621679039359"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679039360"><span class="annot"><a href="#local-6989586621679039360"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039358"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039359"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039359"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039358"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039360"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039360"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-155"></span><span id="withLogPrintFile"><span class="annot"><span class="annottext">withLogPrintFile :: forall a (m :: * -&gt; *) r.
(Show a, MonadIO m) =&gt;
String -&gt; (LogAction m a -&gt; IO r) -&gt; IO r
</span><a href="Colog.Core.IO.html#withLogPrintFile"><span class="hs-identifier hs-var hs-var">withLogPrintFile</span></a></span></span><span> </span><span id="local-6989586621679039444"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679039444"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679039445"><span class="annot"><span class="annottext">LogAction m a -&gt; IO r
</span><a href="#local-6989586621679039445"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
forall r. String -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
</span><span class="hs-identifier hs-var">withFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679039444"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">IOMode
</span><span class="hs-identifier hs-var">AppendMode</span></span><span> </span><span class="annot"><span class="annottext">((Handle -&gt; IO r) -&gt; IO r) -&gt; (Handle -&gt; IO r) -&gt; IO r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679039446"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039446"><span class="hs-identifier hs-var">handle</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="annottext">LogAction m a -&gt; IO r
</span><a href="#local-6989586621679039445"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; LogAction m a
forall a (m :: * -&gt; *).
(Show a, MonadIO m) =&gt;
Handle -&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logPrintHandle"><span class="hs-identifier hs-var">logPrintHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039446"><span class="hs-identifier hs-var">handle</span></a></span><span> </span><span class="annot"><span class="annottext">LogAction m a -&gt; LogAction m a -&gt; LogAction m a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; LogAction m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; Handle -&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logFlush"><span class="hs-identifier hs-var">logFlush</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039446"><span class="hs-identifier hs-var">handle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#withLogPrintFile"><span class="hs-pragma hs-type">withLogPrintFile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-158"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#withLogPrintFile"><span class="hs-pragma hs-type">withLogPrintFile</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679039447"><span id="local-6989586621679039448"><span class="annot"><span class="hs-pragma hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679039447"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">FilePath</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039447"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039448"><span class="hs-pragma hs-type">r</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039448"><span class="hs-pragma hs-type">r</span></a></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- Misc</span><span>
</span><span id="line-162"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">{- | Lifts a LogAction over IO into a more general Monad.

&gt;&gt;&gt; logToStdout = LogAction putStrLn
&gt;&gt;&gt; liftLogIO logToStdout &lt;&amp; &quot;foo&quot;
foo
-}</span></span><span>
</span><span id="line-170"></span><span id="local-6989586621679039364"><span id="local-6989586621679039365"><span class="annot"><a href="Colog.Core.IO.html#liftLogIO"><span class="hs-identifier hs-type">liftLogIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039364"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039365"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039364"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039365"><span class="hs-identifier hs-type">msg</span></a></span></span></span><span>
</span><span id="line-171"></span><span id="liftLogIO"><span class="annot"><span class="annottext">liftLogIO :: forall (m :: * -&gt; *) msg.
MonadIO m =&gt;
LogAction IO msg -&gt; LogAction m msg
</span><a href="Colog.Core.IO.html#liftLogIO"><span class="hs-identifier hs-var hs-var">liftLogIO</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span id="local-6989586621679039451"><span class="annot"><span class="annottext">msg -&gt; IO ()
</span><a href="#local-6989586621679039451"><span class="hs-identifier hs-var">action</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(msg -&gt; m ()) -&gt; LogAction m msg
forall (m :: * -&gt; *) msg. (msg -&gt; m ()) -&gt; LogAction m msg
</span><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-var">LogAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (msg -&gt; IO ()) -&gt; msg -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">msg -&gt; IO ()
</span><a href="#local-6989586621679039451"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#liftLogIO"><span class="hs-pragma hs-type">liftLogIO</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="annot"><span class="hs-comment">{- | This action can be used in combination with other actions to flush
a handle every time you log anything.

@since 0.3.0.0
-}</span></span><span>
</span><span id="line-179"></span><span id="local-6989586621679039344"><span id="local-6989586621679039345"><span class="annot"><a href="Colog.Core.IO.html#logFlush"><span class="hs-identifier hs-type">logFlush</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039344"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-type">LogAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039344"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679039345"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-180"></span><span id="logFlush"><span class="annot"><span class="annottext">logFlush :: forall (m :: * -&gt; *) a. MonadIO m =&gt; Handle -&gt; LogAction m a
</span><a href="Colog.Core.IO.html#logFlush"><span class="hs-identifier hs-var hs-var">logFlush</span></a></span></span><span> </span><span id="local-6989586621679039454"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039454"><span class="hs-identifier hs-var">handle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m ()) -&gt; LogAction m a
forall (m :: * -&gt; *) msg. (msg -&gt; m ()) -&gt; LogAction m msg
</span><a href="Colog.Core.Action.html#LogAction"><span class="hs-identifier hs-var">LogAction</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; m ()) -&gt; LogAction m a) -&gt; (a -&gt; m ()) -&gt; LogAction m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m () -&gt; a -&gt; m ()
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; a -&gt; m ()) -&gt; m () -&gt; a -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hFlush</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679039454"><span class="hs-identifier hs-var">handle</span></a></span><span>
</span><span id="line-181"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logFlush"><span class="hs-pragma hs-type">logFlush</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-182"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Colog.Core.IO.html#logFlush"><span class="hs-pragma hs-type">logFlush</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679039456"><span class="annot"><span class="hs-pragma hs-type">Handle</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Colog.Core.Action.html#LogAction"><span class="hs-pragma hs-type">LogAction</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679039456"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-183"></span></pre></body></html>