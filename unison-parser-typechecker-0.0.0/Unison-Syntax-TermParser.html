<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Unison.Syntax.TermParser</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-parser-typechecker-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/Unison.Syntax.TermParser.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Unison.Syntax.TermParser</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:binding">binding</a> :: <span class="keyword">forall</span> m v. (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m ((<a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>, v), <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>)</li><li class="src short"><a href="#v:blockTerm">blockTerm</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; TermP v m</li><li class="src short"><a href="#v:doc2Block">doc2Block</a> :: <span class="keyword">forall</span> m v. (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>, <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>)</li><li class="src short"><a href="#v:imports">imports</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-core1-0.0.0/Unison-Names.html#t:Names" title="Unison.Names">Names</a>, [(v, v)])</li><li class="src short"><a href="#v:lam">lam</a> :: <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v =&gt; TermP v m -&gt; TermP v m</li><li class="src short"><a href="#v:substImports">substImports</a> :: <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v =&gt; <a href="../unison-core1-0.0.0/Unison-Names.html#t:Names" title="Unison.Names">Names</a> -&gt; [(v, v)] -&gt; <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a> -&gt; <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a></li><li class="src short"><a href="#v:term">term</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; TermP v m</li><li class="src short"><a href="#v:verifyRelativeVarName">verifyRelativeVarName</a> :: <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-syntax-0.0.0/Unison-Syntax-Lexer-Token.html#t:Token" title="Unison.Syntax.Lexer.Token">Token</a> v) -&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-syntax-0.0.0/Unison-Syntax-Lexer-Token.html#t:Token" title="Unison.Syntax.Lexer.Token">Token</a> v)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:binding" class="def">binding</a> :: <span class="keyword">forall</span> m v. (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m ((<a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>, v), <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>) <a href="src/Unison.Syntax.TermParser.html#binding" class="link">Source</a> <a href="#v:binding" class="selflink">#</a></p><div class="doc"><p>Rules for the annotation of the resulting binding is as follows:
 * If the binding has a type signature, the top level scope of the annotation for the type
 Ann node will contain the _entire_ binding, including the type signature.
 * The body expression of the binding contains the entire lhs (including the name of the
 binding) and the entire body.
 * If the binding is a lambda, the  lambda node includes the entire LHS of the binding,
 including the name as well.</p></div></div><div class="top"><p class="src"><a id="v:blockTerm" class="def">blockTerm</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; TermP v m <a href="src/Unison.Syntax.TermParser.html#blockTerm" class="link">Source</a> <a href="#v:blockTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:doc2Block" class="def">doc2Block</a> :: <span class="keyword">forall</span> m v. (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>, <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a>) <a href="src/Unison.Syntax.TermParser.html#doc2Block" class="link">Source</a> <a href="#v:doc2Block" class="selflink">#</a></p><div class="doc"><p>Syntax for documentation v2 blocks, which are surrounded by <code>{{</code> <code>}}</code>.
 The lexer does most of the heavy lifting so there's not a lot for
 the parser to do. For instance, in</p><pre>{{
Hi there!

goodbye.
}}</pre><p>the lexer will produce:</p><pre>[ Doc
  ( DocUntitledSection
    (DocParagraph (DocWord &quot;Hi&quot; :| [DocWord &quot;there!&quot;]))
    (DocParagraph (DocWord &quot;goodbye&quot; :| []))
  )
]</pre><p>The parser will parse this into the Unison expression:</p><pre>syntax.docUntitledSection [
  syntax.docParagraph [syntax.docWord &quot;Hi&quot;, syntax.docWord &quot;there!&quot;],
  syntax.docParagraph [syntax.docWord &quot;goodbye&quot;]
]</pre><p>Where <code>syntax.doc{Paragraph, UntitledSection,...}</code> are all ordinary term
 variables that will be looked up in the environment like anything else. This
 means that the documentation syntax can have its meaning changed by
 overriding what functions the names <code>syntax.doc*</code> correspond to.</p></div></div><div class="top"><p class="src"><a id="v:imports" class="def">imports</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-core1-0.0.0/Unison-Names.html#t:Names" title="Unison.Names">Names</a>, [(v, v)]) <a href="src/Unison.Syntax.TermParser.html#imports" class="link">Source</a> <a href="#v:imports" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lam" class="def">lam</a> :: <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v =&gt; TermP v m -&gt; TermP v m <a href="src/Unison.Syntax.TermParser.html#lam" class="link">Source</a> <a href="#v:lam" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substImports" class="def">substImports</a> :: <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v =&gt; <a href="../unison-core1-0.0.0/Unison-Names.html#t:Names" title="Unison.Names">Names</a> -&gt; [(v, v)] -&gt; <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a> -&gt; <a href="../unison-core1-0.0.0/Unison-Term.html#t:Term" title="Unison.Term">Term</a> v <a href="../unison-syntax-0.0.0/Unison-Parser-Ann.html#t:Ann" title="Unison.Parser.Ann">Ann</a> <a href="src/Unison.Syntax.TermParser.html#substImports" class="link">Source</a> <a href="#v:substImports" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:term" class="def">term</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v) =&gt; TermP v m <a href="src/Unison.Syntax.TermParser.html#term" class="link">Source</a> <a href="#v:term" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:verifyRelativeVarName" class="def">verifyRelativeVarName</a> :: <a href="../unison-core1-0.0.0/Unison-Var.html#t:Var" title="Unison.Var">Var</a> v =&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-syntax-0.0.0/Unison-Syntax-Lexer-Token.html#t:Token" title="Unison.Syntax.Lexer.Token">Token</a> v) -&gt; <a href="../unison-syntax-0.0.0/Unison-Syntax-Parser.html#t:P" title="Unison.Syntax.Parser">P</a> v m (<a href="../unison-syntax-0.0.0/Unison-Syntax-Lexer-Token.html#t:Token" title="Unison.Syntax.Lexer.Token">Token</a> v) <a href="src/Unison.Syntax.TermParser.html#verifyRelativeVarName" class="link">Source</a> <a href="#v:verifyRelativeVarName" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>