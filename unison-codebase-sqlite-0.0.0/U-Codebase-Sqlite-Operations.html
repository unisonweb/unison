<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>U.Codebase.Sqlite.Operations</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-codebase-sqlite-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/U.Codebase.Sqlite.Operations.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">U.Codebase.Sqlite.Operations</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">branches</a></li><li><a href="#g:2">terms</a></li><li><a href="#g:3">decls</a></li><li><a href="#g:4">terms/decls</a></li><li><a href="#g:5">patches</a></li><li><a href="#g:6">test for stuff in codebase</a></li><li><a href="#g:7">watch expression cache</a></li><li><a href="#g:8">indexes</a><ul><li><a href="#g:9">nearest common ancestor</a></li><li><a href="#g:10">prefix index</a></li><li><a href="#g:11">dependents index</a></li><li><a href="#g:12">type index</a></li><li><a href="#g:13">type mentions index</a></li><li><a href="#g:14">name lookup index</a></li></ul></li><li><a href="#g:15">Projects</a></li><li><a href="#g:16">reflog</a></li><li><a href="#g:17">low-level stuff</a></li><li><a href="#g:18">somewhat unexpectedly unused definitions</a></li><li><a href="#g:19">internal stuff that probably need not be exported, but the 1-&gt;2 migration needs it</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:loadCausalHashAtPath">loadCausalHashAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:expectCausalHashAtPath">expectCausalHashAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:loadCausalBranchAtPath">loadCausalBranchAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>))</li><li class="src short"><a href="#v:loadBranchAtPath">loadBranchAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>))</li><li class="src short"><a href="#v:saveBranch">saveBranch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:saveBranchV3">saveBranchV3</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-BranchV3.html#t:CausalBranchV3" title="U.Codebase.BranchV3">CausalBranchV3</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>)</li><li class="src short"><a href="#v:loadCausalBranchByCausalHash">loadCausalBranchByCausalHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>))</li><li class="src short"><a href="#v:expectCausalBranchByCausalHash">expectCausalBranchByCausalHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)</li><li class="src short"><a href="#v:expectBranchByCausalHashId">expectBranchByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)</li><li class="src short"><a href="#v:expectBranchByBranchHash">expectBranchByBranchHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)</li><li class="src short"><a href="#v:expectBranchByBranchHashId">expectBranchByBranchHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)</li><li class="src short"><a href="#v:expectNamespaceStatsByHash">expectNamespaceStatsByHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a></li><li class="src short"><a href="#v:expectNamespaceStatsByHashId">expectNamespaceStatsByHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a></li><li class="src short"><a href="#v:tryGetSquashResult">tryGetSquashResult</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:saveSquashResult">saveSquashResult</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:saveTermComponent">saveTermComponent</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadTermComponent">loadTermComponent</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)]</li><li class="src short"><a href="#v:loadTermByReference">loadTermByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:loadTypeOfTermByTermReference">loadTypeOfTermByTermReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:saveDeclComponent">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></li><li class="src short"><a href="#v:loadDeclComponent">loadDeclComponent</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>]</li><li class="src short"><a href="#v:loadDeclByReference">loadDeclByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:expectDeclByReference">expectDeclByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:expectDeclNumConstructors">expectDeclNumConstructors</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:expectDeclTypeById">expectDeclTypeById</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a></li><li class="src short"><a href="#v:getCycleLen">getCycleLen</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</li><li class="src short"><a href="#v:savePatch">savePatch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Patch" title="U.Codebase.Branch.Type">Patch</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></li><li class="src short"><a href="#v:expectPatch">expectPatch</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Patch" title="U.Codebase.Branch.Type">Patch</a></li><li class="src short"><a href="#v:objectExistsForHash">objectExistsForHash</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:saveWatch">saveWatch</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:loadWatch">loadWatch</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:listWatches">listWatches</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:clearWatches">clearWatches</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:before">before</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li class="src short"><a href="#v:lca">lca</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:componentReferencesByPrefix">componentReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>]</li><li class="src short"><a href="#v:termReferentsByPrefix">termReferentsByPrefix</a> :: <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>]</li><li class="src short"><a href="#v:declReferentsByPrefix">declReferentsByPrefix</a> :: <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a>, <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a>, [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a>])]</li><li class="src short"><a href="#v:causalHashesByPrefix">causalHashesByPrefix</a> :: <a href="../unison-core-0.0.0/Unison-ShortHash.html#t:ShortCausalHash" title="Unison.ShortHash">ShortCausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>)</li><li class="src short"><a href="#v:directDependenciesOfScope">directDependenciesOfScope</a> :: <a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReferenceId" title="U.Codebase.Reference">TermReferenceId</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReferenceId" title="U.Codebase.Reference">TypeReferenceId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReference" title="U.Codebase.Reference">TermReference</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReference" title="U.Codebase.Reference">TypeReference</a>)</li><li class="src short"><a href="#v:dependents">dependents</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DependentsSelector" title="U.Codebase.Sqlite.Queries">DependentsSelector</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li><li class="src short"><a href="#v:dependentsOfComponent">dependentsOfComponent</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li><li class="src short"><a href="#v:directDependentsWithinScope">directDependentsWithinScope</a> :: <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReferenceId" title="U.Codebase.Reference">TermReferenceId</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReferenceId" title="U.Codebase.Reference">TypeReferenceId</a>)</li><li class="src short"><a href="#v:transitiveDependentsWithinScope">transitiveDependentsWithinScope</a> :: <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReferenceId" title="U.Codebase.Reference">TermReferenceId</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReferenceId" title="U.Codebase.Reference">TypeReferenceId</a>)</li><li class="src short"><a href="#v:addTypeToIndexForTerm">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:termsHavingType">termsHavingType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>)</li><li class="src short"><a href="#v:filterTermsByReferenceHavingType">filterTermsByReferenceHavingType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReference" title="U.Codebase.Reference">TypeReference</a> -&gt; [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:filterTermsByReferentHavingType">filterTermsByReferentHavingType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReference" title="U.Codebase.Reference">TypeReference</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>]</li><li class="src short"><a href="#v:addTypeMentionsToIndexForTerm">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:termsMentioningType">termsMentioningType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>)</li><li class="src short"><a href="#v:allNamesInPerspective">allNamesInPerspective</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Operations.html#t:NamesInPerspective" title="U.Codebase.Sqlite.Operations">NamesInPerspective</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:NamesInPerspective">NamesInPerspective</a> = <a href="#v:NamesInPerspective">NamesInPerspective</a> {<ul class="subs"><li><a href="#v:termNamesInPerspective">termNamesInPerspective</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)]</li><li><a href="#v:typeNamesInPerspective">typeNamesInPerspective</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:NamesPerspective">NamesPerspective</a> = <a href="#v:NamesPerspective">NamesPerspective</a> {<ul class="subs"><li><a href="#v:nameLookupBranchHashId">nameLookupBranchHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a></li><li><a href="#v:pathToMountedNameLookup">pathToMountedNameLookup</a> :: <a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a></li><li><a href="#v:relativePerspective">relativePerspective</a> :: <a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a></li></ul>}</li><li class="src short"><a href="#v:termNamesForRefWithinNamespace">termNamesForRefWithinNamespace</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>]</li><li class="src short"><a href="#v:typeNamesForRefWithinNamespace">typeNamesForRefWithinNamespace</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>]</li><li class="src short"><a href="#v:termNamesBySuffix">termNamesBySuffix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)]</li><li class="src short"><a href="#v:typeNamesBySuffix">typeNamesBySuffix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>]</li><li class="src short"><a href="#v:termRefsForExactName">termRefsForExactName</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)]</li><li class="src short"><a href="#v:typeRefsForExactName">typeRefsForExactName</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>]</li><li class="src short"><a href="#v:recursiveTermNameSearch">recursiveTermNameSearch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>)</li><li class="src short"><a href="#v:recursiveTypeNameSearch">recursiveTypeNameSearch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>)</li><li class="src short"><a href="#v:checkBranchHashNameLookupExists">checkBranchHashNameLookupExists</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:buildNameLookupForBranchHash">buildNameLookupForBranchHash</a> :: <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; ((([<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)], [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>]) -&gt; ([<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>], [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>]) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:associateNameLookupMounts">associateNameLookupMounts</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; [(<a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a>, <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>)] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:longestMatchingTermNameForSuffixification">longestMatchingTermNameForSuffixification</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)))</li><li class="src short"><a href="#v:longestMatchingTypeNameForSuffixification">longestMatchingTypeNameForSuffixification</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>))</li><li class="src short"><a href="#v:deleteNameLookupsExceptFor">deleteNameLookupsExceptFor</a> :: <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:fuzzySearchDefinitions">fuzzySearchDefinitions</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [<a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ([<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)], [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>])</li><li class="src short"><a href="#v:namesPerspectiveForRootAndPath">namesPerspectiveForRootAndPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a></li><li class="src short"><a href="#v:expectProjectAndBranchNames">expectProjectAndBranchNames</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core-0.0.0/Unison-Core-Project.html#t:ProjectName" title="Unison.Core.Project">ProjectName</a>, <a href="../unison-core-0.0.0/Unison-Core-Project.html#t:ProjectBranchName" title="Unison.Core.Project">ProjectBranchName</a>)</li><li class="src short"><a href="#v:expectProjectBranchHead">expectProjectBranchHead</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a></li><li class="src short"><a href="#v:getDeprecatedRootReflog">getDeprecatedRootReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Reflog.html#t:Entry" title="U.Codebase.Reflog">Entry</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a>]</li><li class="src short"><a href="#v:getProjectReflog">getProjectReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-Project.html#t:Project" title="U.Codebase.Sqlite.Project">Project</a> <a href="U-Codebase-Sqlite-ProjectBranch.html#t:ProjectBranch" title="U.Codebase.Sqlite.ProjectBranch">ProjectBranch</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>]</li><li class="src short"><a href="#v:getProjectBranchReflog">getProjectBranchReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-Project.html#t:Project" title="U.Codebase.Sqlite.Project">Project</a> <a href="U-Codebase-Sqlite-ProjectBranch.html#t:ProjectBranch" title="U.Codebase.Sqlite.ProjectBranch">ProjectBranch</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>]</li><li class="src short"><a href="#v:getGlobalReflog">getGlobalReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-Project.html#t:Project" title="U.Codebase.Sqlite.Project">Project</a> <a href="U-Codebase-Sqlite-ProjectBranch.html#t:ProjectBranch" title="U.Codebase.Sqlite.ProjectBranch">ProjectBranch</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>]</li><li class="src short"><a href="#v:appendProjectReflog">appendProjectReflog</a> :: <a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()</li><li class="src short"><a href="#v:expectDbBranch">expectDbBranch</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a></li><li class="src short"><a href="#v:saveDbBranch">saveDbBranch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DbBranchV" title="U.Codebase.Sqlite.Operations">DbBranchV</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></li><li class="src short"><a href="#v:saveDbBranchUnderHashId">saveDbBranchUnderHashId</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DbBranchV" title="U.Codebase.Sqlite.Operations">DbBranchV</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a></li><li class="src short"><a href="#v:expectDbPatch">expectDbPatch</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Patch-Full.html#t:Patch" title="U.Codebase.Sqlite.Patch.Full">Patch</a></li><li class="src short"><a href="#v:saveDbPatch">saveDbPatch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Format.html#t:PatchFormat" title="U.Codebase.Sqlite.Patch.Format">PatchFormat</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a></li><li class="src short"><a href="#v:expectDbBranchByCausalHashId">expectDbBranchByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a></li><li class="src short"><a href="#v:namespaceStatsForDbBranch">namespaceStatsForDbBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:DbBranchV" title="U.Codebase.Sqlite.Operations">DbBranchV</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a></li><li class="src short"><a href="#v:c2sReferenceId">c2sReferenceId</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a></li><li class="src short"><a href="#v:c2sReferentId">c2sReferentId</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a></li><li class="src short"><a href="#v:diffPatch">diffPatch</a> :: <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Diff.html#t:LocalPatchDiff" title="U.Codebase.Sqlite.Patch.Diff">LocalPatchDiff</a></li><li class="src short"><a href="#v:decodeTermElementWithType">decodeTermElementWithType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="U-Codebase-Sqlite-Decode.html#t:DecodeError" title="U.Codebase.Sqlite.Decode">DecodeError</a> (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>)</li><li class="src short"><a href="#v:loadTermWithTypeByReference">loadTermWithTypeByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cTermWithType">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:s2cDecl">s2cDecl</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)</li><li class="src short"><a href="#v:declReferencesByPrefix">declReferencesByPrefix</a> :: <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>]</li><li class="src short"><a href="#v:namespaceHashesByPrefix">namespaceHashesByPrefix</a> :: <a href="../unison-core-0.0.0/Unison-ShortHash.html#t:ShortNamespaceHash" title="Unison.ShortHash">ShortNamespaceHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>)</li><li class="src short"><a href="#v:derivedDependencies">derivedDependencies</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:BranchV">BranchV</a> m<ul class="subs"><li>= <a href="#v:BranchV2">BranchV2</a> !(<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> m)</li><li>| <a href="#v:BranchV3">BranchV3</a> !(<a href="../unison-codebase-0.0.0/U-Codebase-BranchV3.html#t:BranchV3" title="U.Codebase.BranchV3">BranchV3</a> m)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DbBranchV">DbBranchV</a><ul class="subs"><li>= <a href="#v:DbBranchV2">DbBranchV2</a> !<a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a></li><li>| <a href="#v:DbBranchV3">DbBranchV3</a> !<a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranchV3" title="U.Codebase.Sqlite.Branch.Full">DbBranchV3</a></li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>branches</h1></a><div class="top"><p class="src"><a id="v:loadCausalHashAtPath" class="def">loadCausalHashAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalHashAtPath" class="link">Source</a> <a href="#v:loadCausalHashAtPath" class="selflink">#</a></p><div class="doc"><p>Load the causal hash at the given path from the provided root, if Nothing, use the
 codebase root.</p></div></div><div class="top"><p class="src"><a id="v:expectCausalHashAtPath" class="def">expectCausalHashAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectCausalHashAtPath" class="link">Source</a> <a href="#v:expectCausalHashAtPath" class="selflink">#</a></p><div class="doc"><p>Expect the causal hash at the given path from the provided root, if Nothing, use the
 codebase root.</p></div></div><div class="top"><p class="src"><a id="v:loadCausalBranchAtPath" class="def">loadCausalBranchAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)) <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalBranchAtPath" class="link">Source</a> <a href="#v:loadCausalBranchAtPath" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadBranchAtPath" class="def">loadBranchAtPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; [<a href="../unison-core-0.0.0/Unison-NameSegment-Internal.html#t:NameSegment" title="Unison.NameSegment.Internal">NameSegment</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)) <a href="src/U.Codebase.Sqlite.Operations.html#loadBranchAtPath" class="link">Source</a> <a href="#v:loadBranchAtPath" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveBranch" class="def">saveBranch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveBranch" class="link">Source</a> <a href="#v:saveBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveBranchV3" class="def">saveBranchV3</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-BranchV3.html#t:CausalBranchV3" title="U.Codebase.BranchV3">CausalBranchV3</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a>, <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#saveBranchV3" class="link">Source</a> <a href="#v:saveBranchV3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadCausalBranchByCausalHash" class="def">loadCausalBranchByCausalHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>)) <a href="src/U.Codebase.Sqlite.Operations.html#loadCausalBranchByCausalHash" class="link">Source</a> <a href="#v:loadCausalBranchByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectCausalBranchByCausalHash" class="def">expectCausalBranchByCausalHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:CausalBranch" title="U.Codebase.Branch.Type">CausalBranch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>) <a href="src/U.Codebase.Sqlite.Operations.html#expectCausalBranchByCausalHash" class="link">Source</a> <a href="#v:expectCausalBranchByCausalHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectBranchByCausalHashId" class="def">expectBranchByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>) <a href="src/U.Codebase.Sqlite.Operations.html#expectBranchByCausalHashId" class="link">Source</a> <a href="#v:expectBranchByCausalHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectBranchByBranchHash" class="def">expectBranchByBranchHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>) <a href="src/U.Codebase.Sqlite.Operations.html#expectBranchByBranchHash" class="link">Source</a> <a href="#v:expectBranchByBranchHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectBranchByBranchHashId" class="def">expectBranchByBranchHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a>) <a href="src/U.Codebase.Sqlite.Operations.html#expectBranchByBranchHashId" class="link">Source</a> <a href="#v:expectBranchByBranchHashId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectNamespaceStatsByHash" class="def">expectNamespaceStatsByHash</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectNamespaceStatsByHash" class="link">Source</a> <a href="#v:expectNamespaceStatsByHash" class="selflink">#</a></p><div class="doc"><p>Looks up statistics for a given branch, if none exist, we compute them and save them
 then return them.</p></div></div><div class="top"><p class="src"><a id="v:expectNamespaceStatsByHashId" class="def">expectNamespaceStatsByHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectNamespaceStatsByHashId" class="link">Source</a> <a href="#v:expectNamespaceStatsByHashId" class="selflink">#</a></p><div class="doc"><p>Looks up statistics for a given branch, if none exist, we compute them and save them
 then return them.</p></div></div><div class="top"><p class="src"><a id="v:tryGetSquashResult" class="def">tryGetSquashResult</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#tryGetSquashResult" class="link">Source</a> <a href="#v:tryGetSquashResult" class="selflink">#</a></p><div class="doc"><p>Get the causal hash which would be the result of squashing the provided branch hash.
 Returns Nothing if we haven't computed it before.</p></div></div><div class="top"><p class="src"><a id="v:saveSquashResult" class="def">saveSquashResult</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Operations.html#saveSquashResult" class="link">Source</a> <a href="#v:saveSquashResult" class="selflink">#</a></p><div class="doc"><p>Saves the result of a squash</p></div></div><a href="#g:2" id="g:2"><h1>terms</h1></a><div class="top"><p class="src"><a id="v:saveTermComponent" class="def">saveTermComponent</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveTermComponent" class="link">Source</a> <a href="#v:saveTermComponent" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>The serialized term component if we already have it e.g. via sync</p></td></tr><tr><td class="src">-&gt; <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a></td><td class="doc"><p>term component hash</p></td></tr><tr><td class="src">-&gt; [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)]</td><td class="doc"><p>term component</p></td></tr><tr><td class="src">-&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:loadTermComponent" class="def">loadTermComponent</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>)] <a href="src/U.Codebase.Sqlite.Operations.html#loadTermComponent" class="link">Source</a> <a href="#v:loadTermComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTermByReference" class="def">loadTermByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTermByReference" class="link">Source</a> <a href="#v:loadTermByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTypeOfTermByTermReference" class="def">loadTypeOfTermByTermReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTypeOfTermByTermReference" class="link">Source</a> <a href="#v:loadTypeOfTermByTermReference" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>decls</h1></a><div class="top"><p class="src"><a id="v:saveDeclComponent" class="def">saveDeclComponent</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:ObjectId" title="U.Codebase.Sqlite.DbId">ObjectId</a> <a href="src/U.Codebase.Sqlite.Queries.html#saveDeclComponent" class="link">Source</a> <a href="#v:saveDeclComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadDeclComponent" class="def">loadDeclComponent</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>] <a href="src/U.Codebase.Sqlite.Operations.html#loadDeclComponent" class="link">Source</a> <a href="#v:loadDeclComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadDeclByReference" class="def">loadDeclByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadDeclByReference" class="link">Source</a> <a href="#v:loadDeclByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectDeclByReference" class="def">expectDeclByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#expectDeclByReference" class="link">Source</a> <a href="#v:expectDeclByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectDeclNumConstructors" class="def">expectDeclNumConstructors</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectDeclNumConstructors" class="link">Source</a> <a href="#v:expectDeclNumConstructors" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectDeclTypeById" class="def">expectDeclTypeById</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectDeclTypeById" class="link">Source</a> <a href="#v:expectDeclTypeById" class="selflink">#</a></p><div class="doc"><p>Get the <code><a href="C-DeclType.html#v:DeclType" title="C.DeclType">DeclType</a></code> of a <code><a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a></code>.</p></div></div><a href="#g:4" id="g:4"><h1>terms/decls</h1></a><div class="top"><p class="src"><a id="v:getCycleLen" class="def">getCycleLen</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) <a href="src/U.Codebase.Sqlite.Operations.html#getCycleLen" class="link">Source</a> <a href="#v:getCycleLen" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>patches</h1></a><div class="top"><p class="src"><a id="v:savePatch" class="def">savePatch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Patch" title="U.Codebase.Branch.Type">Patch</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#savePatch" class="link">Source</a> <a href="#v:savePatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectPatch" class="def">expectPatch</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Patch" title="U.Codebase.Branch.Type">Patch</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectPatch" class="link">Source</a> <a href="#v:expectPatch" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>test for stuff in codebase</h1></a><div class="top"><p class="src"><a id="v:objectExistsForHash" class="def">objectExistsForHash</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Operations.html#objectExistsForHash" class="link">Source</a> <a href="#v:objectExistsForHash" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>watch expression cache</h1></a><div class="top"><p class="src"><a id="v:saveWatch" class="def">saveWatch</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Operations.html#saveWatch" class="link">Source</a> <a href="#v:saveWatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadWatch" class="def">loadWatch</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadWatch" class="link">Source</a> <a href="#v:loadWatch" class="selflink">#</a></p><div class="doc"><p>returns Nothing if the expression isn't cached.</p></div></div><div class="top"><p class="src"><a id="v:listWatches" class="def">listWatches</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-WatchKind.html#t:WatchKind" title="U.Codebase.WatchKind">WatchKind</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#listWatches" class="link">Source</a> <a href="#v:listWatches" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearWatches" class="def">clearWatches</a> :: <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#clearWatches" class="link">Source</a> <a href="#v:clearWatches" class="selflink">#</a></p><div class="doc"><p>Delete all watches that were put by <code>putWatch</code>.</p></div></div><a href="#g:8" id="g:8"><h1>indexes</h1></a><a href="#g:9" id="g:9"><h2>nearest common ancestor</h2></a><div class="top"><p class="src"><a id="v:before" class="def">before</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) <a href="src/U.Codebase.Sqlite.Operations.html#before" class="link">Source</a> <a href="#v:before" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lca" class="def">lca</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#lca" class="link">Source</a> <a href="#v:lca" class="selflink">#</a></p></div><a href="#g:10" id="g:10"><h2>prefix index</h2></a><div class="top"><p class="src"><a id="v:componentReferencesByPrefix" class="def">componentReferencesByPrefix</a> :: <a href="U-Codebase-Sqlite-ObjectType.html#t:ObjectType" title="U.Codebase.Sqlite.ObjectType">ObjectType</a> -&gt; <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#componentReferencesByPrefix" class="link">Source</a> <a href="#v:componentReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termReferentsByPrefix" class="def">termReferentsByPrefix</a> :: <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#termReferentsByPrefix" class="link">Source</a> <a href="#v:termReferentsByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:declReferentsByPrefix" class="def">declReferentsByPrefix</a> :: <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [(<a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a>, <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:DeclType" title="U.Codebase.Decl">DeclType</a>, [<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:ConstructorId" title="U.Codebase.Decl">ConstructorId</a>])] <a href="src/U.Codebase.Sqlite.Operations.html#declReferentsByPrefix" class="link">Source</a> <a href="#v:declReferentsByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:causalHashesByPrefix" class="def">causalHashesByPrefix</a> :: <a href="../unison-core-0.0.0/Unison-ShortHash.html#t:ShortCausalHash" title="Unison.ShortHash">ShortCausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#causalHashesByPrefix" class="link">Source</a> <a href="#v:causalHashesByPrefix" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h2>dependents index</h2></a><div class="top"><p class="src"><a id="v:directDependenciesOfScope" class="def">directDependenciesOfScope</a> :: <a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReferenceId" title="U.Codebase.Reference">TermReferenceId</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReferenceId" title="U.Codebase.Reference">TypeReferenceId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReference" title="U.Codebase.Reference">TermReference</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReference" title="U.Codebase.Reference">TypeReference</a>) <a href="src/U.Codebase.Sqlite.Operations.html#directDependenciesOfScope" class="link">Source</a> <a href="#v:directDependenciesOfScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dependents" class="def">dependents</a> :: <a href="U-Codebase-Sqlite-Queries.html#t:DependentsSelector" title="U.Codebase.Sqlite.Queries">DependentsSelector</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#dependents" class="link">Source</a> <a href="#v:dependents" class="selflink">#</a></p><div class="doc"><p>returns a list of known definitions referencing <code>r</code></p></div></div><div class="top"><p class="src"><a id="v:dependentsOfComponent" class="def">dependentsOfComponent</a> :: <a href="../unison-hash-0.0.0/Unison-Hash.html#t:Hash" title="Unison.Hash">Hash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#dependentsOfComponent" class="link">Source</a> <a href="#v:dependentsOfComponent" class="selflink">#</a></p><div class="doc"><p>returns a list of known definitions referencing <code>h</code></p></div></div><div class="top"><p class="src"><a id="v:directDependentsWithinScope" class="def">directDependentsWithinScope</a> :: <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReferenceId" title="U.Codebase.Reference">TermReferenceId</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReferenceId" title="U.Codebase.Reference">TypeReferenceId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#directDependentsWithinScope" class="link">Source</a> <a href="#v:directDependentsWithinScope" class="selflink">#</a></p><div class="doc"><p>`directDependentsWithinScope scope query` returns all direct dependents of <code>query</code> that are in <code>scope</code> (not
 including <code>query</code> itself).</p></div></div><div class="top"><p class="src"><a id="v:transitiveDependentsWithinScope" class="def">transitiveDependentsWithinScope</a> :: <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core1-0.0.0/Unison-Util-Defns.html#t:DefnsF" title="Unison.Util.Defns">DefnsF</a> <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TermReferenceId" title="U.Codebase.Reference">TermReferenceId</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReferenceId" title="U.Codebase.Reference">TypeReferenceId</a>) <a href="src/U.Codebase.Sqlite.Operations.html#transitiveDependentsWithinScope" class="link">Source</a> <a href="#v:transitiveDependentsWithinScope" class="selflink">#</a></p><div class="doc"><p>`transitiveDependentsWithinScope scope query` returns all transitive dependents of <code>query</code> that are in <code>scope</code> (not
 including <code>query</code> itself).</p></div></div><a href="#g:12" id="g:12"><h2>type index</h2></a><div class="top"><p class="src"><a id="v:addTypeToIndexForTerm" class="def">addTypeToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addTypeToIndexForTerm" class="link">Source</a> <a href="#v:addTypeToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termsHavingType" class="def">termsHavingType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#termsHavingType" class="link">Source</a> <a href="#v:termsHavingType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterTermsByReferenceHavingType" class="def">filterTermsByReferenceHavingType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReference" title="U.Codebase.Reference">TypeReference</a> -&gt; [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#filterTermsByReferenceHavingType" class="link">Source</a> <a href="#v:filterTermsByReferenceHavingType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterTermsByReferentHavingType" class="def">filterTermsByReferentHavingType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:TypeReference" title="U.Codebase.Reference">TypeReference</a> -&gt; [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#filterTermsByReferentHavingType" class="link">Source</a> <a href="#v:filterTermsByReferentHavingType" class="selflink">#</a></p></div><a href="#g:13" id="g:13"><h2>type mentions index</h2></a><div class="top"><p class="src"><a id="v:addTypeMentionsToIndexForTerm" class="def">addTypeMentionsToIndexForTerm</a> :: <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> -&gt; <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Queries.html#addTypeMentionsToIndexForTerm" class="link">Source</a> <a href="#v:addTypeMentionsToIndexForTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termsMentioningType" class="def">termsMentioningType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#termsMentioningType" class="link">Source</a> <a href="#v:termsMentioningType" class="selflink">#</a></p></div><a href="#g:14" id="g:14"><h2>name lookup index</h2></a><div class="top"><p class="src"><a id="v:allNamesInPerspective" class="def">allNamesInPerspective</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Operations.html#t:NamesInPerspective" title="U.Codebase.Sqlite.Operations">NamesInPerspective</a> <a href="src/U.Codebase.Sqlite.Operations.html#allNamesInPerspective" class="link">Source</a> <a href="#v:allNamesInPerspective" class="selflink">#</a></p><div class="doc"><p>Get all the term and type names for the given namespace from the lookup table.
 Requires that an index for this branch hash already exists, which is currently
 only true on Share.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NamesInPerspective" class="def">NamesInPerspective</a> <a href="src/U.Codebase.Sqlite.Operations.html#NamesInPerspective" class="link">Source</a> <a href="#t:NamesInPerspective" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NamesInPerspective" class="def">NamesInPerspective</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:termNamesInPerspective" class="def">termNamesInPerspective</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:typeNamesInPerspective" class="def">typeNamesInPerspective</a> :: [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NamesPerspective" class="def">NamesPerspective</a> <a href="src/U.Codebase.Sqlite.Operations.html#NamesPerspective" class="link">Source</a> <a href="#t:NamesPerspective" class="selflink">#</a></p><div class="doc"><p>Any time we need to lookup or search names we need to know what the scope of that search
 should be. This can be complicated to keep track of, so this is a helper type to make it
 easy to pass around.</p><p>You should use <code><a href="U-Codebase-Sqlite-Operations.html#v:namesPerspectiveForRootAndPath" title="U.Codebase.Sqlite.Operations">namesPerspectiveForRootAndPath</a></code> to construct this type.</p><p>E.g. if we're in loose code, we need to search the correct name lookup for the
 user's perspective. If their perspective is &quot;myprojects.json.latest.lib.base.data.List&quot;,
 we need to search names using the name index mounted at &quot;myprojects.json.latest.lib.base&quot;.</p><p>The NamesPerspective representing this viewpoint would be:</p><p>@<code>
 NamesPerspective
  { nameLookupBranchHashId = #libbasehash
  , pathToMountedNameLookup = [&quot;myprojects.json&quot;, &quot;latest&quot;, &quot;lib&quot;, &quot;base&quot;]
  , relativePerspective = [&quot;data&quot;, <a href="List.html">List</a>]
  }
 </code>@</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NamesPerspective" class="def">NamesPerspective</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nameLookupBranchHashId" class="def">nameLookupBranchHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a></dfn><div class="doc"><p>The branch hash of the name lookup we'll use for queries</p></div></li><li><dfn class="src"><a id="v:pathToMountedNameLookup" class="def">pathToMountedNameLookup</a> :: <a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a></dfn><div class="doc"><p>Where the name lookup is mounted relative to the root branch</p></div></li><li><dfn class="src"><a id="v:relativePerspective" class="def">relativePerspective</a> :: <a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a></dfn><div class="doc"><p>The path to the perspective relative to the current name lookup</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NamesPerspective">Instances</h4><details id="i:NamesPerspective" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NamesPerspective:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a></span> <a href="src/U.Codebase.Sqlite.Operations.html#line-1259" class="link">Source</a> <a href="#t:NamesPerspective" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NamesPerspective:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Operations.html">U.Codebase.Sqlite.Operations</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NamesPerspective:Eq:2"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a></span> <a href="src/U.Codebase.Sqlite.Operations.html#line-1259" class="link">Source</a> <a href="#t:NamesPerspective" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NamesPerspective:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="U-Codebase-Sqlite-Operations.html">U.Codebase.Sqlite.Operations</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:termNamesForRefWithinNamespace" class="def">termNamesForRefWithinNamespace</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>] <a href="src/U.Codebase.Sqlite.Operations.html#termNamesForRefWithinNamespace" class="link">Source</a> <a href="#v:termNamesForRefWithinNamespace" class="selflink">#</a></p><div class="doc"><p>NOTE: requires that the codebase has an up-to-date name lookup index. As of writing, this
 is only true on Share.</p><p>Get the list of a names for a given Referent.</p></div></div><div class="top"><p class="src"><a id="v:typeNamesForRefWithinNamespace" class="def">typeNamesForRefWithinNamespace</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>] <a href="src/U.Codebase.Sqlite.Operations.html#typeNamesForRefWithinNamespace" class="link">Source</a> <a href="#v:typeNamesForRefWithinNamespace" class="selflink">#</a></p><div class="doc"><p>NOTE: requires that the codebase has an up-to-date name lookup index. As of writing, this
 is only true on Share.</p><p>Get the list of a names for a given Reference, with an optional required suffix.</p></div></div><div class="top"><p class="src"><a id="v:termNamesBySuffix" class="def">termNamesBySuffix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)] <a href="src/U.Codebase.Sqlite.Operations.html#termNamesBySuffix" class="link">Source</a> <a href="#v:termNamesBySuffix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:typeNamesBySuffix" class="def">typeNamesBySuffix</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>] <a href="src/U.Codebase.Sqlite.Operations.html#typeNamesBySuffix" class="link">Source</a> <a href="#v:typeNamesBySuffix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:termRefsForExactName" class="def">termRefsForExactName</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)] <a href="src/U.Codebase.Sqlite.Operations.html#termRefsForExactName" class="link">Source</a> <a href="#v:termRefsForExactName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:typeRefsForExactName" class="def">typeRefsForExactName</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>] <a href="src/U.Codebase.Sqlite.Operations.html#typeRefsForExactName" class="link">Source</a> <a href="#v:typeRefsForExactName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recursiveTermNameSearch" class="def">recursiveTermNameSearch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>) <a href="src/U.Codebase.Sqlite.Operations.html#recursiveTermNameSearch" class="link">Source</a> <a href="#v:recursiveTermNameSearch" class="selflink">#</a></p><div class="doc"><p>Searches all dependencies transitively looking for the provided ref within the
 provided namespace.
 Prefer <code><a href="U-Codebase-Sqlite-Operations.html#v:termNamesForRefWithinNamespace" title="U.Codebase.Sqlite.Operations">termNamesForRefWithinNamespace</a></code> in most cases.
 This is slower and only necessary when resolving the name of refs when you don't know which
 dependency it may exist in.</p><p>Searching transitive dependencies is exponential so we want to replace this with a more
 efficient approach as soon as possible.</p><p>Note: this returns the first name it finds by searching in order of:
 Names in the current namespace, then names in the current namespace's dependencies, then
 through the current namespace's dependencies' dependencies, etc.</p></div></div><div class="top"><p class="src"><a id="v:recursiveTypeNameSearch" class="def">recursiveTypeNameSearch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="U-Codebase-Sqlite-NameLookups.html#t:ReversedName" title="U.Codebase.Sqlite.NameLookups">ReversedName</a>) <a href="src/U.Codebase.Sqlite.Operations.html#recursiveTypeNameSearch" class="link">Source</a> <a href="#v:recursiveTypeNameSearch" class="selflink">#</a></p><div class="doc"><p>Searches all dependencies transitively looking for the provided ref within the provided
 namespace.
 Prefer <code><a href="U-Codebase-Sqlite-Operations.html#v:typeNamesForRefWithinNamespace" title="U.Codebase.Sqlite.Operations">typeNamesForRefWithinNamespace</a></code> in most cases.
 This is slower and only necessary when resolving the name of references when you don't know which
 dependency it may exist in.</p><p>Searching transitive dependencies is exponential so we want to replace this with a more
 efficient approach as soon as possible.</p><p>Note: this returns the first name it finds by searching in order of:
 Names in the current namespace, then names in the current namespace's dependencies, then
 through the current namespace's dependencies' dependencies, etc.</p></div></div><div class="top"><p class="src"><a id="v:checkBranchHashNameLookupExists" class="def">checkBranchHashNameLookupExists</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/U.Codebase.Sqlite.Operations.html#checkBranchHashNameLookupExists" class="link">Source</a> <a href="#v:checkBranchHashNameLookupExists" class="selflink">#</a></p><div class="doc"><p>Check whether we've already got an index for a given branch hash.</p></div></div><div class="top"><p class="src"><a id="v:buildNameLookupForBranchHash" class="def">buildNameLookupForBranchHash</a> :: <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; ((([<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)], [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>]) -&gt; ([<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>], [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>]) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ()) -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Operations.html#buildNameLookupForBranchHash" class="link">Source</a> <a href="#v:buildNameLookupForBranchHash" class="selflink">#</a></p><div class="doc"><p>Apply a set of name updates to an existing index.</p></div></div><div class="top"><p class="src"><a id="v:associateNameLookupMounts" class="def">associateNameLookupMounts</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; [(<a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a>, <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>)] -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Operations.html#associateNameLookupMounts" class="link">Source</a> <a href="#v:associateNameLookupMounts" class="selflink">#</a></p><div class="doc"><p>Save a list of (mount-path, branch hash) mounts for the provided name lookup index branch
 hash.</p><p>E.g. associateNameLookupMounts #roothash [([&quot;lib&quot;, &quot;base&quot;], #basehash)]</p></div></div><div class="top"><p class="src"><a id="v:longestMatchingTermNameForSuffixification" class="def">longestMatchingTermNameForSuffixification</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>))) <a href="src/U.Codebase.Sqlite.Operations.html#longestMatchingTermNameForSuffixification" class="link">Source</a> <a href="#v:longestMatchingTermNameForSuffixification" class="selflink">#</a></p><div class="doc"><p>Get the name within the provided namespace that has the longest matching suffix
 with the provided name, but a different ref.
 This is a bit of a hack but allows us to shortcut suffixification.
 We can clean this up if we make a custom PPE type just for sqlite pretty printing, but
 for now this works fine.</p></div></div><div class="top"><p class="src"><a id="v:longestMatchingTypeNameForSuffixification" class="def">longestMatchingTypeNameForSuffixification</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> -&gt; <a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>)) <a href="src/U.Codebase.Sqlite.Operations.html#longestMatchingTypeNameForSuffixification" class="link">Source</a> <a href="#v:longestMatchingTypeNameForSuffixification" class="selflink">#</a></p><div class="doc"><p>Get the name within the provided namespace that has the longest matching suffix
 with the provided name, but a different ref.
 This is a bit of a hack but allows us to shortcut suffixification.
 We can clean this up if we make a custom PPE type just for sqlite pretty printing, but
 for now this works fine.</p></div></div><div class="top"><p class="src"><a id="v:deleteNameLookupsExceptFor" class="def">deleteNameLookupsExceptFor</a> :: <a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Operations.html#deleteNameLookupsExceptFor" class="link">Source</a> <a href="#v:deleteNameLookupsExceptFor" class="selflink">#</a></p><div class="doc"><p>Delete any name lookup that's not in the provided list.</p><p>This can be used to garbage collect unreachable name lookups.</p></div></div><div class="top"><p class="src"><a id="v:fuzzySearchDefinitions" class="def">fuzzySearchDefinitions</a> <a href="src/U.Codebase.Sqlite.Operations.html#fuzzySearchDefinitions" class="link">Source</a> <a href="#v:fuzzySearchDefinitions" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Will return at most n terms and n types; i.e. max number of results is 2n</p></td></tr><tr><td class="src">-&gt; [<a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> ([<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Referent" title="U.Codebase.Referent">Referent</a>, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:ConstructorType" title="U.Codebase.Referent">ConstructorType</a>)], [<a href="U-Codebase-Sqlite-NamedRef.html#t:NamedRef" title="U.Codebase.Sqlite.NamedRef">NamedRef</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Reference" title="U.Codebase.Reference">Reference</a>])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Search for term or type names which contain the provided list of segments in order.
 Search is case insensitive.</p></div></div><div class="top"><p class="src"><a id="v:namesPerspectiveForRootAndPath" class="def">namesPerspectiveForRootAndPath</a> :: <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="U-Codebase-Sqlite-NameLookups.html#t:PathSegments" title="U.Codebase.Sqlite.NameLookups">PathSegments</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Operations.html#t:NamesPerspective" title="U.Codebase.Sqlite.Operations">NamesPerspective</a> <a href="src/U.Codebase.Sqlite.Operations.html#namesPerspectiveForRootAndPath" class="link">Source</a> <a href="#v:namesPerspectiveForRootAndPath" class="selflink">#</a></p><div class="doc"><p>Determine which nameLookup is the closest parent of the provided perspective.</p><p>Returns (rootBranchId of the closest parent index, namespace that index is mounted at, location of the perspective within the mounted namespace)</p><p>E.g.
 If your namespace is &quot;lib.distributed.lib.base.data.List&quot;, you'd get back
 (rootBranchId of the lib.distributed.lib.base name lookup, &quot;lib.distributed.lib.base&quot;, &quot;data.List&quot;)</p><p>Or if your namespace is &quot;subnamespace.user&quot;, you'd get back
 (the rootBranchId you provided, &quot;&quot;, &quot;subnamespace.user&quot;)</p></div></div><a href="#g:15" id="g:15"><h1>Projects</h1></a><div class="top"><p class="src"><a id="v:expectProjectAndBranchNames" class="def">expectProjectAndBranchNames</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-core-0.0.0/Unison-Core-Project.html#t:ProjectName" title="Unison.Core.Project">ProjectName</a>, <a href="../unison-core-0.0.0/Unison-Core-Project.html#t:ProjectBranchName" title="Unison.Core.Project">ProjectBranchName</a>) <a href="src/U.Codebase.Sqlite.Operations.html#expectProjectAndBranchNames" class="link">Source</a> <a href="#v:expectProjectAndBranchNames" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectProjectBranchHead" class="def">expectProjectBranchHead</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectProjectBranchHead" class="link">Source</a> <a href="#v:expectProjectBranchHead" class="selflink">#</a></p></div><a href="#g:16" id="g:16"><h1>reflog</h1></a><div class="top"><p class="src"><a id="v:getDeprecatedRootReflog" class="def">getDeprecatedRootReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-codebase-0.0.0/U-Codebase-Reflog.html#t:Entry" title="U.Codebase.Reflog">Entry</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a>] <a href="src/U.Codebase.Sqlite.Operations.html#getDeprecatedRootReflog" class="link">Source</a> <a href="#v:getDeprecatedRootReflog" class="selflink">#</a></p><div class="doc"><p>Gets the specified number of reflog entries in chronological order, most recent first.</p></div></div><div class="top"><p class="src"><a id="v:getProjectReflog" class="def">getProjectReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-Project.html#t:Project" title="U.Codebase.Sqlite.Project">Project</a> <a href="U-Codebase-Sqlite-ProjectBranch.html#t:ProjectBranch" title="U.Codebase.Sqlite.ProjectBranch">ProjectBranch</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>] <a href="src/U.Codebase.Sqlite.Operations.html#getProjectReflog" class="link">Source</a> <a href="#v:getProjectReflog" class="selflink">#</a></p><div class="doc"><p>Gets the specified number of reflog entries for the given project in chronological order, most recent first.</p></div></div><div class="top"><p class="src"><a id="v:getProjectBranchReflog" class="def">getProjectBranchReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-Project.html#t:Project" title="U.Codebase.Sqlite.Project">Project</a> <a href="U-Codebase-Sqlite-ProjectBranch.html#t:ProjectBranch" title="U.Codebase.Sqlite.ProjectBranch">ProjectBranch</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>] <a href="src/U.Codebase.Sqlite.Operations.html#getProjectBranchReflog" class="link">Source</a> <a href="#v:getProjectBranchReflog" class="selflink">#</a></p><div class="doc"><p>Gets the specified number of reflog entries for the specified ProjectBranch in chronological order, most recent first.</p></div></div><div class="top"><p class="src"><a id="v:getGlobalReflog" class="def">getGlobalReflog</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-Project.html#t:Project" title="U.Codebase.Sqlite.Project">Project</a> <a href="U-Codebase-Sqlite-ProjectBranch.html#t:ProjectBranch" title="U.Codebase.Sqlite.ProjectBranch">ProjectBranch</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a>] <a href="src/U.Codebase.Sqlite.Operations.html#getGlobalReflog" class="link">Source</a> <a href="#v:getGlobalReflog" class="selflink">#</a></p><div class="doc"><p>Gets the specified number of reflog entries in chronological order, most recent first.</p></div></div><div class="top"><p class="src"><a id="v:appendProjectReflog" class="def">appendProjectReflog</a> :: <a href="U-Codebase-Sqlite-ProjectReflog.html#t:Entry" title="U.Codebase.Sqlite.ProjectReflog">Entry</a> <a href="U-Codebase-Sqlite-DbId.html#t:ProjectId" title="U.Codebase.Sqlite.DbId">ProjectId</a> <a href="U-Codebase-Sqlite-DbId.html#t:ProjectBranchId" title="U.Codebase.Sqlite.DbId">ProjectBranchId</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:CausalHash" title="U.Codebase.HashTags">CausalHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> () <a href="src/U.Codebase.Sqlite.Operations.html#appendProjectReflog" class="link">Source</a> <a href="#v:appendProjectReflog" class="selflink">#</a></p></div><a href="#g:17" id="g:17"><h1>low-level stuff</h1></a><div class="top"><p class="src"><a id="v:expectDbBranch" class="def">expectDbBranch</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectDbBranch" class="link">Source</a> <a href="#v:expectDbBranch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveDbBranch" class="def">saveDbBranch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DbBranchV" title="U.Codebase.Sqlite.Operations">DbBranchV</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveDbBranch" class="link">Source</a> <a href="#v:saveDbBranch" class="selflink">#</a></p><div class="doc"><p>Save a <code><a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a></code>, given its hash (which the caller is expected to produce from the branch).</p><p>Note: long-standing question: should this package depend on the hashing package? (If so, we would only need to take
 the DbBranch, and hash internally).</p></div></div><div class="top"><p class="src"><a id="v:saveDbBranchUnderHashId" class="def">saveDbBranchUnderHashId</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="U-Codebase-Sqlite-DbId.html#t:BranchHashId" title="U.Codebase.Sqlite.DbId">BranchHashId</a> -&gt; <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> -&gt; <a href="U-Codebase-Sqlite-Operations.html#t:DbBranchV" title="U.Codebase.Sqlite.Operations">DbBranchV</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:BranchObjectId" title="U.Codebase.Sqlite.DbId">BranchObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveDbBranchUnderHashId" class="link">Source</a> <a href="#v:saveDbBranchUnderHashId" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="U-Codebase-Sqlite-Operations.html#v:saveDbBranch" title="U.Codebase.Sqlite.Operations">saveDbBranch</a></code> that might be preferred by callers that already have a hash id, not a hash.</p></div></div><div class="top"><p class="src"><a id="v:expectDbPatch" class="def">expectDbPatch</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Patch-Full.html#t:Patch" title="U.Codebase.Sqlite.Patch.Full">Patch</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectDbPatch" class="link">Source</a> <a href="#v:expectDbPatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:saveDbPatch" class="def">saveDbPatch</a> :: <a href="U-Codebase-Sqlite-HashHandle.html#t:HashHandle" title="U.Codebase.Sqlite.HashHandle">HashHandle</a> -&gt; <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:PatchHash" title="U.Codebase.HashTags">PatchHash</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Format.html#t:PatchFormat" title="U.Codebase.Sqlite.Patch.Format">PatchFormat</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-DbId.html#t:PatchObjectId" title="U.Codebase.Sqlite.DbId">PatchObjectId</a> <a href="src/U.Codebase.Sqlite.Operations.html#saveDbPatch" class="link">Source</a> <a href="#v:saveDbPatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expectDbBranchByCausalHashId" class="def">expectDbBranchByCausalHashId</a> :: <a href="U-Codebase-Sqlite-DbId.html#t:CausalHashId" title="U.Codebase.Sqlite.DbId">CausalHashId</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a> <a href="src/U.Codebase.Sqlite.Operations.html#expectDbBranchByCausalHashId" class="link">Source</a> <a href="#v:expectDbBranchByCausalHashId" class="selflink">#</a></p><div class="doc"><p>Expect a branch value given its causal hash id.</p></div></div><div class="top"><p class="src"><a id="v:namespaceStatsForDbBranch" class="def">namespaceStatsForDbBranch</a> :: <a href="U-Codebase-Sqlite-Operations.html#t:DbBranchV" title="U.Codebase.Sqlite.Operations">DbBranchV</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:NamespaceStats" title="U.Codebase.Branch.Type">NamespaceStats</a> <a href="src/U.Codebase.Sqlite.Operations.html#namespaceStatsForDbBranch" class="link">Source</a> <a href="#v:namespaceStatsForDbBranch" class="selflink">#</a></p></div><a href="#g:18" id="g:18"><h1>somewhat unexpectedly unused definitions</h1></a><div class="top"><p class="src"><a id="v:c2sReferenceId" class="def">c2sReferenceId</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Reference.html#t:Id" title="U.Codebase.Sqlite.Reference">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReferenceId" class="link">Source</a> <a href="#v:c2sReferenceId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:c2sReferentId" class="def">c2sReferentId</a> :: <a href="../unison-codebase-0.0.0/U-Codebase-Referent.html#t:Id" title="U.Codebase.Referent">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> <a href="U-Codebase-Sqlite-Referent.html#t:Id" title="U.Codebase.Sqlite.Referent">Id</a> <a href="src/U.Codebase.Sqlite.Operations.html#c2sReferentId" class="link">Source</a> <a href="#v:c2sReferentId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:diffPatch" class="def">diffPatch</a> :: <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Full.html#t:LocalPatch" title="U.Codebase.Sqlite.Patch.Full">LocalPatch</a> -&gt; <a href="U-Codebase-Sqlite-Patch-Diff.html#t:LocalPatchDiff" title="U.Codebase.Sqlite.Patch.Diff">LocalPatchDiff</a> <a href="src/U.Codebase.Sqlite.Operations.html#diffPatch" class="link">Source</a> <a href="#v:diffPatch" class="selflink">#</a></p><div class="doc"><p>produces a diff
 diff = full - ref; full = diff + ref</p></div></div><div class="top"><p class="src"><a id="v:decodeTermElementWithType" class="def">decodeTermElementWithType</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Pos" title="U.Codebase.Reference">Pos</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="U-Codebase-Sqlite-Decode.html#t:DecodeError" title="U.Codebase.Sqlite.Decode">DecodeError</a> (<a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a>, <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a>) <a href="src/U.Codebase.Sqlite.Decode.html#decodeTermElementWithType" class="link">Source</a> <a href="#v:decodeTermElementWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loadTermWithTypeByReference" class="def">loadTermWithTypeByReference</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Operations.html#loadTermWithTypeByReference" class="link">Source</a> <a href="#v:loadTermWithTypeByReference" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cTermWithType" class="def">s2cTermWithType</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Term" title="U.Codebase.Sqlite.Term.Format">Term</a> -&gt; <a href="U-Codebase-Sqlite-Term-Format.html#t:Type" title="U.Codebase.Sqlite.Term.Format">Type</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Term" title="U.Codebase.Term">Term</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>, <a href="../unison-codebase-0.0.0/U-Codebase-Term.html#t:Type" title="U.Codebase.Term">Type</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Queries.html#s2cTermWithType" class="link">Source</a> <a href="#v:s2cTermWithType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:s2cDecl" class="def">s2cDecl</a> :: <a href="U-Codebase-Sqlite-LocalIds.html#t:LocalIds" title="U.Codebase.Sqlite.LocalIds">LocalIds</a> -&gt; <a href="U-Codebase-Sqlite-Decl-Format.html#t:Decl" title="U.Codebase.Sqlite.Decl.Format">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../unison-codebase-0.0.0/U-Codebase-Decl.html#t:Decl" title="U.Codebase.Decl">Decl</a> <a href="U-Codebase-Sqlite-Symbol.html#t:Symbol" title="U.Codebase.Sqlite.Symbol">Symbol</a>) <a href="src/U.Codebase.Sqlite.Queries.html#s2cDecl" class="link">Source</a> <a href="#v:s2cDecl" class="selflink">#</a></p><div class="doc"><p>Unlocalize a decl.</p></div></div><div class="top"><p class="src"><a id="v:declReferencesByPrefix" class="def">declReferencesByPrefix</a> :: <a href="../foldl-1.4.16/Control-Foldl-Text.html#t:Text" title="Control.Foldl.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> [<a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>] <a href="src/U.Codebase.Sqlite.Operations.html#declReferencesByPrefix" class="link">Source</a> <a href="#v:declReferencesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:namespaceHashesByPrefix" class="def">namespaceHashesByPrefix</a> :: <a href="../unison-core-0.0.0/Unison-ShortHash.html#t:ShortNamespaceHash" title="Unison.ShortHash">ShortNamespaceHash</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-HashTags.html#t:BranchHash" title="U.Codebase.HashTags">BranchHash</a>) <a href="src/U.Codebase.Sqlite.Operations.html#namespaceHashesByPrefix" class="link">Source</a> <a href="#v:namespaceHashesByPrefix" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:derivedDependencies" class="def">derivedDependencies</a> :: <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a> -&gt; <a href="../unison-sqlite-0.0.0/Unison-Sqlite-Transaction.html#t:Transaction" title="Unison.Sqlite.Transaction">Transaction</a> (<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="../unison-core-0.0.0/U-Codebase-Reference.html#t:Id" title="U.Codebase.Reference">Id</a>) <a href="src/U.Codebase.Sqlite.Operations.html#derivedDependencies" class="link">Source</a> <a href="#v:derivedDependencies" class="selflink">#</a></p><div class="doc"><p>returns empty set for unknown inputs; doesn't distinguish between term and decl</p></div></div><a href="#g:19" id="g:19"><h1>internal stuff that probably need not be exported, but the 1-&gt;2 migration needs it</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BranchV" class="def">BranchV</a> m <a href="src/U.Codebase.Sqlite.Operations.html#BranchV" class="link">Source</a> <a href="#t:BranchV" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BranchV2" class="def">BranchV2</a> !(<a href="../unison-codebase-0.0.0/U-Codebase-Branch-Type.html#t:Branch" title="U.Codebase.Branch.Type">Branch</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:BranchV3" class="def">BranchV3</a> !(<a href="../unison-codebase-0.0.0/U-Codebase-BranchV3.html#t:BranchV3" title="U.Codebase.BranchV3">BranchV3</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbBranchV" class="def">DbBranchV</a> <a href="src/U.Codebase.Sqlite.Operations.html#DbBranchV" class="link">Source</a> <a href="#t:DbBranchV" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbBranchV2" class="def">DbBranchV2</a> !<a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranch" title="U.Codebase.Sqlite.Branch.Full">DbBranch</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DbBranchV3" class="def">DbBranchV3</a> !<a href="U-Codebase-Sqlite-Branch-Full.html#t:DbBranchV3" title="U.Codebase.Sqlite.Branch.Full">DbBranchV3</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>