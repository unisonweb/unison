<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">-- | This module contains decoders for blobs stored in SQLite.</span></span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">U.Codebase.Sqlite.Decode</span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><span class="hs-comment">-- * @object.bytes@</span></span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeBranchFormat"><span class="hs-identifier">decodeBranchFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeComponentLengthOnly"><span class="hs-identifier">decodeComponentLengthOnly</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDeclElement"><span class="hs-identifier">decodeDeclElement</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDeclElementNumConstructors"><span class="hs-identifier">decodeDeclElementNumConstructors</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDeclFormat"><span class="hs-identifier">decodeDeclFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodePatchFormat"><span class="hs-identifier">decodePatchFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncDeclFormat"><span class="hs-identifier">decodeSyncDeclFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncNamespaceFormat"><span class="hs-identifier">decodeSyncNamespaceFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncPatchFormat"><span class="hs-identifier">decodeSyncPatchFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermFormat"><span class="hs-identifier">decodeSyncTermFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermAndType"><span class="hs-identifier">decodeSyncTermAndType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementDiscardingTerm"><span class="hs-identifier">decodeTermElementDiscardingTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementDiscardingType"><span class="hs-identifier">decodeTermElementDiscardingType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementWithType"><span class="hs-identifier">decodeTermElementWithType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermFormat"><span class="hs-identifier">decodeTermFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><span class="hs-comment">-- * @temp_entity.blob@</span></span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempCausalFormat"><span class="hs-identifier">decodeTempCausalFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempDeclFormat"><span class="hs-identifier">decodeTempDeclFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempNamespaceFormat"><span class="hs-identifier">decodeTempNamespaceFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempPatchFormat"><span class="hs-identifier">decodeTempPatchFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempTermFormat"><span class="hs-identifier">decodeTempTermFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><span class="hs-comment">-- * @watch_result.result@</span></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeWatchResultFormat"><span class="hs-identifier">decodeWatchResultFormat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- * unsyncs</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#unsyncTermComponent"><span class="hs-identifier">unsyncTermComponent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#unsyncDeclComponent"><span class="hs-identifier">unsyncDeclComponent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bytes.Get</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">runGetS</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bytes.Get</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Get</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Reference</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C.Reference</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Branch.Format.html"><span class="hs-identifier">U.Codebase.Sqlite.Branch.Format</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NamespaceFormat</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html"><span class="hs-identifier">U.Codebase.Sqlite.Decl.Format</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DeclFormat</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.LocalIds.html"><span class="hs-identifier">U.Codebase.Sqlite.LocalIds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.LocalIds.html#LocalIds"><span class="hs-identifier">LocalIds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Patch.Format.html"><span class="hs-identifier">U.Codebase.Sqlite.Patch.Format</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PatchFormat</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Serialization.html"><span class="hs-identifier">U.Codebase.Sqlite.Serialization</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Serialization</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Symbol.html"><span class="hs-identifier">U.Codebase.Sqlite.Symbol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Symbol.html#Symbol"><span class="hs-identifier">Symbol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.TempEntity.html"><span class="hs-identifier">U.Codebase.Sqlite.TempEntity</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TempEntity</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html"><span class="hs-identifier">U.Codebase.Sqlite.Term.Format</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TermFormat</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Util.Serialization</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Get</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Util.Serialization</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Serialization</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">lengthFramedArray</span></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Prelude</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Sqlite</span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">------------------------------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- Decode error</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">data</span><span> </span><span id="DecodeError"><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-var">DecodeError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DecodeError"><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-var">DecodeError</span></a></span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Adecoder%3ADecodeError"><span class="annot"><span class="annottext">DecodeError -&gt; Text
</span><a href="U.Codebase.Sqlite.Decode.html#%24sel%3Adecoder%3ADecodeError"><span class="hs-identifier hs-var hs-var">decoder</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- the name of the decoder</span><span>
</span><span id="line-59"></span><span>    </span><span id="%24sel%3Aerr%3ADecodeError"><span class="annot"><span class="annottext">DecodeError -&gt; String
</span><a href="U.Codebase.Sqlite.Decode.html#%24sel%3Aerr%3ADecodeError"><span class="hs-identifier hs-var hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-comment">-- the error message</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679610625"><span id="local-6989586621679610634"><span id="local-6989586621679610638"><span class="annot"><span class="annottext">Int -&gt; DecodeError -&gt; ShowS
[DecodeError] -&gt; ShowS
DecodeError -&gt; String
(Int -&gt; DecodeError -&gt; ShowS)
-&gt; (DecodeError -&gt; String)
-&gt; ([DecodeError] -&gt; ShowS)
-&gt; Show DecodeError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DecodeError -&gt; ShowS
showsPrec :: Int -&gt; DecodeError -&gt; ShowS
$cshow :: DecodeError -&gt; String
show :: DecodeError -&gt; String
$cshowList :: [DecodeError] -&gt; ShowS
showList :: [DecodeError] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Show DecodeError
Typeable DecodeError
(Show DecodeError, Typeable DecodeError) =&gt;
SqliteExceptionReason DecodeError
forall e. (Show e, Typeable e) =&gt; SqliteExceptionReason e
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">SqliteExceptionReason</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679610653"><span id="local-6989586621679610657"><span id="local-6989586621679610660"><span class="annot"><span class="annottext">Show DecodeError
Typeable DecodeError
(Typeable DecodeError, Show DecodeError) =&gt;
(DecodeError -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe DecodeError)
-&gt; (DecodeError -&gt; String)
-&gt; Exception DecodeError
SomeException -&gt; Maybe DecodeError
DecodeError -&gt; String
DecodeError -&gt; SomeException
forall e.
(Typeable e, Show e) =&gt;
(e -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe e) -&gt; (e -&gt; String) -&gt; Exception e
$ctoException :: DecodeError -&gt; SomeException
toException :: DecodeError -&gt; SomeException
$cfromException :: SomeException -&gt; Maybe DecodeError
fromException :: SomeException -&gt; Maybe DecodeError
$cdisplayException :: DecodeError -&gt; String
displayException :: DecodeError -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Exception</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span id="local-6989586621679610463"><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-type">getFromBytesOr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="annot"><a href="#local-6989586621679610463"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610463"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-65"></span><span id="getFromBytesOr"><span class="annot"><span class="annottext">getFromBytesOr :: forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var hs-var">getFromBytesOr</span></a></span></span><span> </span><span id="local-6989586621679610666"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679610666"><span class="hs-identifier hs-var">decoder</span></a></span></span><span> </span><span id="local-6989586621679610667"><span class="annot"><span class="annottext">Get a
</span><a href="#local-6989586621679610667"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679610668"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679610668"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Get a -&gt; ByteString -&gt; Either String a
forall a. Get a -&gt; ByteString -&gt; Either String a
</span><span class="hs-identifier hs-var">runGetS</span></span><span> </span><span class="annot"><span class="annottext">Get a
Get a
</span><a href="#local-6989586621679610667"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679610668"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679610669"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679610669"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DecodeError -&gt; Either DecodeError a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String -&gt; DecodeError
</span><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-var">DecodeError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679610666"><span class="hs-identifier hs-var">decoder</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679610669"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679610670"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679610670"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either DecodeError a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679610670"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">------------------------------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- object.bytes</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeBranchFormat"><span class="hs-identifier hs-type">decodeBranchFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Branch.Format.html#BranchFormat"><span class="hs-identifier hs-type">NamespaceFormat.BranchFormat</span></a></span><span>
</span><span id="line-73"></span><span id="decodeBranchFormat"><span class="annot"><span class="annottext">decodeBranchFormat :: ByteString -&gt; Either DecodeError BranchFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeBranchFormat"><span class="hs-identifier hs-var hs-var">decodeBranchFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get BranchFormat
-&gt; ByteString
-&gt; Either DecodeError BranchFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getBranchFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m BranchFormat
Get BranchFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getBranchFormat"><span class="hs-identifier hs-var">Serialization.getBranchFormat</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeComponentLengthOnly"><span class="hs-identifier hs-type">decodeComponentLengthOnly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-77"></span><span id="decodeComponentLengthOnly"><span class="annot"><span class="annottext">decodeComponentLengthOnly :: ByteString -&gt; Either DecodeError Word64
</span><a href="U.Codebase.Sqlite.Decode.html#decodeComponentLengthOnly"><span class="hs-identifier hs-var hs-var">decodeComponentLengthOnly</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><span class="annottext">Text -&gt; Get Word64 -&gt; ByteString -&gt; Either DecodeError Word64
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lengthFramedArray&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *). MonadGet m =&gt; Int -&gt; m ()
</span><span class="hs-identifier hs-var">Get.skip</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m Word64 -&gt; m Word64
forall a b. m a -&gt; m b -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">m Word64
Get Word64
</span><span class="hs-identifier hs-var">Serialization.lengthFramedArray</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDeclElement"><span class="hs-identifier hs-type">decodeDeclElement</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.LocalIds.html#LocalIds"><span class="hs-identifier hs-type">LocalIds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#Decl"><span class="hs-identifier hs-type">DeclFormat.Decl</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span id="decodeDeclElement"><span class="annot"><span class="annottext">decodeDeclElement :: Word64 -&gt; ByteString -&gt; Either DecodeError (LocalIds, Decl Symbol)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeDeclElement"><span class="hs-identifier hs-var hs-var">decodeDeclElement</span></a></span></span><span> </span><span id="local-6989586621679610683"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610683"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get (LocalIds, Decl Symbol)
-&gt; ByteString
-&gt; Either DecodeError (LocalIds, Decl Symbol)
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lookupDeclElement &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">tShow</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610683"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; m (LocalIds, Decl Symbol)
forall (m :: * -&gt; *).
MonadGet m =&gt;
Word64 -&gt; m (LocalIds, Decl Symbol)
</span><a href="U.Codebase.Sqlite.Serialization.html#lookupDeclElement"><span class="hs-identifier hs-var">Serialization.lookupDeclElement</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610683"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDeclElementNumConstructors"><span class="hs-identifier hs-type">decodeDeclElementNumConstructors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-85"></span><span id="decodeDeclElementNumConstructors"><span class="annot"><span class="annottext">decodeDeclElementNumConstructors :: Word64 -&gt; ByteString -&gt; Either DecodeError Int
</span><a href="U.Codebase.Sqlite.Decode.html#decodeDeclElementNumConstructors"><span class="hs-identifier hs-var hs-var">decodeDeclElementNumConstructors</span></a></span></span><span> </span><span id="local-6989586621679610688"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610688"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="annottext">Text -&gt; Get Int -&gt; ByteString -&gt; Either DecodeError Int
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lookupDeclElementNumConstructors &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">tShow</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610688"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; m Int
forall (m :: * -&gt; *). MonadGet m =&gt; Word64 -&gt; m Int
</span><a href="U.Codebase.Sqlite.Serialization.html#lookupDeclElementNumConstructors"><span class="hs-identifier hs-var">Serialization.lookupDeclElementNumConstructors</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610688"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDeclFormat"><span class="hs-identifier hs-type">decodeDeclFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#DeclFormat"><span class="hs-identifier hs-type">DeclFormat.DeclFormat</span></a></span><span>
</span><span id="line-89"></span><span id="decodeDeclFormat"><span class="annot"><span class="annottext">decodeDeclFormat :: ByteString -&gt; Either DecodeError DeclFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeDeclFormat"><span class="hs-identifier hs-var hs-var">decodeDeclFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get DeclFormat -&gt; ByteString -&gt; Either DecodeError DeclFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getDeclFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m DeclFormat
Get DeclFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getDeclFormat"><span class="hs-identifier hs-var">Serialization.getDeclFormat</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodePatchFormat"><span class="hs-identifier hs-type">decodePatchFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Patch.Format.html#PatchFormat"><span class="hs-identifier hs-type">PatchFormat.PatchFormat</span></a></span><span>
</span><span id="line-93"></span><span id="decodePatchFormat"><span class="annot"><span class="annottext">decodePatchFormat :: ByteString -&gt; Either DecodeError PatchFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodePatchFormat"><span class="hs-identifier hs-var hs-var">decodePatchFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get PatchFormat -&gt; ByteString -&gt; Either DecodeError PatchFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getPatchFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m PatchFormat
Get PatchFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getPatchFormat"><span class="hs-identifier hs-var">Serialization.getPatchFormat</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncDeclFormat"><span class="hs-identifier hs-type">decodeSyncDeclFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#SyncDeclFormat"><span class="hs-identifier hs-type">DeclFormat.SyncDeclFormat</span></a></span><span>
</span><span id="line-97"></span><span id="decodeSyncDeclFormat"><span class="annot"><span class="annottext">decodeSyncDeclFormat :: ByteString -&gt; Either DecodeError SyncDeclFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeSyncDeclFormat"><span class="hs-identifier hs-var hs-var">decodeSyncDeclFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get SyncDeclFormat
-&gt; ByteString
-&gt; Either DecodeError SyncDeclFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;decomposeDeclFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m SyncDeclFormat
Get SyncDeclFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#decomposeDeclFormat"><span class="hs-identifier hs-var">Serialization.decomposeDeclFormat</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncNamespaceFormat"><span class="hs-identifier hs-type">decodeSyncNamespaceFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Branch.Format.html#SyncBranchFormat"><span class="hs-identifier hs-type">NamespaceFormat.SyncBranchFormat</span></a></span><span>
</span><span id="line-101"></span><span id="decodeSyncNamespaceFormat"><span class="annot"><span class="annottext">decodeSyncNamespaceFormat :: ByteString -&gt; Either DecodeError SyncBranchFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeSyncNamespaceFormat"><span class="hs-identifier hs-var hs-var">decodeSyncNamespaceFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get SyncBranchFormat
-&gt; ByteString
-&gt; Either DecodeError SyncBranchFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;decomposeNamespaceFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m SyncBranchFormat
Get SyncBranchFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#decomposeBranchFormat"><span class="hs-identifier hs-var">Serialization.decomposeBranchFormat</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncPatchFormat"><span class="hs-identifier hs-type">decodeSyncPatchFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Patch.Format.html#SyncPatchFormat"><span class="hs-identifier hs-type">PatchFormat.SyncPatchFormat</span></a></span><span>
</span><span id="line-105"></span><span id="decodeSyncPatchFormat"><span class="annot"><span class="annottext">decodeSyncPatchFormat :: ByteString -&gt; Either DecodeError SyncPatchFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeSyncPatchFormat"><span class="hs-identifier hs-var hs-var">decodeSyncPatchFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get SyncPatchFormat
-&gt; ByteString
-&gt; Either DecodeError SyncPatchFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;decomposePatchFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m SyncPatchFormat
Get SyncPatchFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#decomposePatchFormat"><span class="hs-identifier hs-var">Serialization.decomposePatchFormat</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermFormat"><span class="hs-identifier hs-type">decodeSyncTermFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#SyncTermFormat"><span class="hs-identifier hs-type">TermFormat.SyncTermFormat</span></a></span><span>
</span><span id="line-109"></span><span id="decodeSyncTermFormat"><span class="annot"><span class="annottext">decodeSyncTermFormat :: ByteString -&gt; Either DecodeError SyncTermFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermFormat"><span class="hs-identifier hs-var hs-var">decodeSyncTermFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get SyncTermFormat
-&gt; ByteString
-&gt; Either DecodeError SyncTermFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;decomposeTermFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m SyncTermFormat
Get SyncTermFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#decomposeTermFormat"><span class="hs-identifier hs-var">Serialization.decomposeTermFormat</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- | N.B. The bytestring here is not the entire object.bytes column --</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- it's just the serialized term and type from 'TermFormat.SyncTermFormat'.</span><span>
</span><span id="line-114"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermAndType"><span class="hs-identifier hs-type">decodeSyncTermAndType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#Term"><span class="hs-identifier hs-type">TermFormat.Term</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#Type"><span class="hs-identifier hs-type">TermFormat.Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span id="decodeSyncTermAndType"><span class="annot"><span class="annottext">decodeSyncTermAndType :: ByteString -&gt; Either DecodeError (Term, Type)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermAndType"><span class="hs-identifier hs-var hs-var">decodeSyncTermAndType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get (Term, Type)
-&gt; ByteString
-&gt; Either DecodeError (Term, Type)
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTermAndType&quot;</span></span><span> </span><span class="annot"><span class="annottext">m (Term, Type)
Get (Term, Type)
</span><a href="U.Codebase.Sqlite.Serialization.html#getTermAndType"><span class="hs-identifier hs-var">Serialization.getTermAndType</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | N.B. The bytestring here is not the entire object.bytes column --</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- it's just the serialized decl from 'DeclFormat.SyncDeclFormat'.</span><span>
</span><span id="line-120"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeDecl"><span class="hs-identifier hs-type">decodeDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#Decl"><span class="hs-identifier hs-type">DeclFormat.Decl</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span id="decodeDecl"><span class="annot"><span class="annottext">decodeDecl :: ByteString -&gt; Either DecodeError (Decl Symbol)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeDecl"><span class="hs-identifier hs-var hs-var">decodeDecl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get (Decl Symbol)
-&gt; ByteString
-&gt; Either DecodeError (Decl Symbol)
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getDeclElement&quot;</span></span><span> </span><span class="annot"><span class="annottext">m (Decl Symbol)
Get (Decl Symbol)
</span><a href="U.Codebase.Sqlite.Serialization.html#getDeclElement"><span class="hs-identifier hs-var">Serialization.getDeclElement</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermFormat"><span class="hs-identifier hs-type">decodeTermFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#TermFormat"><span class="hs-identifier hs-type">TermFormat.TermFormat</span></a></span><span>
</span><span id="line-125"></span><span id="decodeTermFormat"><span class="annot"><span class="annottext">decodeTermFormat :: ByteString -&gt; Either DecodeError TermFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTermFormat"><span class="hs-identifier hs-var hs-var">decodeTermFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get TermFormat -&gt; ByteString -&gt; Either DecodeError TermFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTermFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m TermFormat
Get TermFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getTermFormat"><span class="hs-identifier hs-var">Serialization.getTermFormat</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementDiscardingTerm"><span class="hs-identifier hs-type">decodeTermElementDiscardingTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.Reference.Pos</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.LocalIds.html#LocalIds"><span class="hs-identifier hs-type">LocalIds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#Type"><span class="hs-identifier hs-type">TermFormat.Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span id="decodeTermElementDiscardingTerm"><span class="annot"><span class="annottext">decodeTermElementDiscardingTerm :: Word64 -&gt; ByteString -&gt; Either DecodeError (LocalIds, Type)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementDiscardingTerm"><span class="hs-identifier hs-var hs-var">decodeTermElementDiscardingTerm</span></a></span></span><span> </span><span id="local-6989586621679610721"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610721"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get (LocalIds, Type)
-&gt; ByteString
-&gt; Either DecodeError (LocalIds, Type)
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lookupTermElementDiscardingTerm &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">tShow</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610721"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; m (LocalIds, Type)
forall (m :: * -&gt; *). MonadGet m =&gt; Word64 -&gt; m (LocalIds, Type)
</span><a href="U.Codebase.Sqlite.Serialization.html#lookupTermElementDiscardingTerm"><span class="hs-identifier hs-var">Serialization.lookupTermElementDiscardingTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610721"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementDiscardingType"><span class="hs-identifier hs-type">decodeTermElementDiscardingType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">C.Reference.Pos</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.LocalIds.html#LocalIds"><span class="hs-identifier hs-type">LocalIds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#Term"><span class="hs-identifier hs-type">TermFormat.Term</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span id="decodeTermElementDiscardingType"><span class="annot"><span class="annottext">decodeTermElementDiscardingType :: Word64 -&gt; ByteString -&gt; Either DecodeError (LocalIds, Term)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementDiscardingType"><span class="hs-identifier hs-var hs-var">decodeTermElementDiscardingType</span></a></span></span><span> </span><span id="local-6989586621679610725"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610725"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get (LocalIds, Term)
-&gt; ByteString
-&gt; Either DecodeError (LocalIds, Term)
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lookupTermElementDiscardingType &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">tShow</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610725"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; m (LocalIds, Term)
forall (m :: * -&gt; *). MonadGet m =&gt; Word64 -&gt; m (LocalIds, Term)
</span><a href="U.Codebase.Sqlite.Serialization.html#lookupTermElementDiscardingType"><span class="hs-identifier hs-var">Serialization.lookupTermElementDiscardingType</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610725"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementWithType"><span class="hs-identifier hs-type">decodeTermElementWithType</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">C.Reference.Pos</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.LocalIds.html#LocalIds"><span class="hs-identifier hs-type">LocalIds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#Term"><span class="hs-identifier hs-type">TermFormat.Term</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#Type"><span class="hs-identifier hs-type">TermFormat.Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span id="decodeTermElementWithType"><span class="annot"><span class="annottext">decodeTermElementWithType :: Word64 -&gt; ByteString -&gt; Either DecodeError (LocalIds, Term, Type)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTermElementWithType"><span class="hs-identifier hs-var hs-var">decodeTermElementWithType</span></a></span></span><span> </span><span id="local-6989586621679610729"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610729"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get (LocalIds, Term, Type)
-&gt; ByteString
-&gt; Either DecodeError (LocalIds, Term, Type)
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lookupTermElement&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">tShow</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610729"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; m (LocalIds, Term, Type)
forall (m :: * -&gt; *).
MonadGet m =&gt;
Word64 -&gt; m (LocalIds, Term, Type)
</span><a href="U.Codebase.Sqlite.Serialization.html#lookupTermElement"><span class="hs-identifier hs-var">Serialization.lookupTermElement</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610729"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">------------------------------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- temp_entity.blob</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempCausalFormat"><span class="hs-identifier hs-type">decodeTempCausalFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.TempEntity.html#TempCausalFormat"><span class="hs-identifier hs-type">TempEntity.TempCausalFormat</span></a></span><span>
</span><span id="line-147"></span><span id="decodeTempCausalFormat"><span class="annot"><span class="annottext">decodeTempCausalFormat :: ByteString -&gt; Either DecodeError TempCausalFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTempCausalFormat"><span class="hs-identifier hs-var hs-var">decodeTempCausalFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get TempCausalFormat
-&gt; ByteString
-&gt; Either DecodeError TempCausalFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTempCausalFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m TempCausalFormat
Get TempCausalFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getTempCausalFormat"><span class="hs-identifier hs-var">Serialization.getTempCausalFormat</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempDeclFormat"><span class="hs-identifier hs-type">decodeTempDeclFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.TempEntity.html#TempDeclFormat"><span class="hs-identifier hs-type">TempEntity.TempDeclFormat</span></a></span><span>
</span><span id="line-151"></span><span id="decodeTempDeclFormat"><span class="annot"><span class="annottext">decodeTempDeclFormat :: ByteString -&gt; Either DecodeError TempDeclFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTempDeclFormat"><span class="hs-identifier hs-var hs-var">decodeTempDeclFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get TempDeclFormat
-&gt; ByteString
-&gt; Either DecodeError TempDeclFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTempDeclFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m TempDeclFormat
Get TempDeclFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getTempDeclFormat"><span class="hs-identifier hs-var">Serialization.getTempDeclFormat</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempNamespaceFormat"><span class="hs-identifier hs-type">decodeTempNamespaceFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.TempEntity.html#TempNamespaceFormat"><span class="hs-identifier hs-type">TempEntity.TempNamespaceFormat</span></a></span><span>
</span><span id="line-155"></span><span id="decodeTempNamespaceFormat"><span class="annot"><span class="annottext">decodeTempNamespaceFormat :: ByteString -&gt; Either DecodeError TempNamespaceFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTempNamespaceFormat"><span class="hs-identifier hs-var hs-var">decodeTempNamespaceFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get TempNamespaceFormat
-&gt; ByteString
-&gt; Either DecodeError TempNamespaceFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTempNamespaceFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m TempNamespaceFormat
Get TempNamespaceFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getTempNamespaceFormat"><span class="hs-identifier hs-var">Serialization.getTempNamespaceFormat</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempPatchFormat"><span class="hs-identifier hs-type">decodeTempPatchFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.TempEntity.html#TempPatchFormat"><span class="hs-identifier hs-type">TempEntity.TempPatchFormat</span></a></span><span>
</span><span id="line-159"></span><span id="decodeTempPatchFormat"><span class="annot"><span class="annottext">decodeTempPatchFormat :: ByteString -&gt; Either DecodeError TempPatchFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTempPatchFormat"><span class="hs-identifier hs-var hs-var">decodeTempPatchFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-160"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get TempPatchFormat
-&gt; ByteString
-&gt; Either DecodeError TempPatchFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTempPatchFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m TempPatchFormat
Get TempPatchFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getTempPatchFormat"><span class="hs-identifier hs-var">Serialization.getTempPatchFormat</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeTempTermFormat"><span class="hs-identifier hs-type">decodeTempTermFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.TempEntity.html#TempTermFormat"><span class="hs-identifier hs-type">TempEntity.TempTermFormat</span></a></span><span>
</span><span id="line-163"></span><span id="decodeTempTermFormat"><span class="annot"><span class="annottext">decodeTempTermFormat :: ByteString -&gt; Either DecodeError TempTermFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeTempTermFormat"><span class="hs-identifier hs-var hs-var">decodeTempTermFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get TempTermFormat
-&gt; ByteString
-&gt; Either DecodeError TempTermFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getTempTermFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m TempTermFormat
Get TempTermFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getTempTermFormat"><span class="hs-identifier hs-var">Serialization.getTempTermFormat</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-comment">------------------------------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- watch_result.result</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#decodeWatchResultFormat"><span class="hs-identifier hs-type">decodeWatchResultFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#WatchResultFormat"><span class="hs-identifier hs-type">TermFormat.WatchResultFormat</span></a></span><span>
</span><span id="line-170"></span><span id="decodeWatchResultFormat"><span class="annot"><span class="annottext">decodeWatchResultFormat :: ByteString -&gt; Either DecodeError WatchResultFormat
</span><a href="U.Codebase.Sqlite.Decode.html#decodeWatchResultFormat"><span class="hs-identifier hs-var hs-var">decodeWatchResultFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; Get WatchResultFormat
-&gt; ByteString
-&gt; Either DecodeError WatchResultFormat
forall a. Text -&gt; Get a -&gt; ByteString -&gt; Either DecodeError a
</span><a href="U.Codebase.Sqlite.Decode.html#getFromBytesOr"><span class="hs-identifier hs-var">getFromBytesOr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;getWatchResultFormat&quot;</span></span><span> </span><span class="annot"><span class="annottext">m WatchResultFormat
Get WatchResultFormat
</span><a href="U.Codebase.Sqlite.Serialization.html#getWatchResultFormat"><span class="hs-identifier hs-var">Serialization.getWatchResultFormat</span></a></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">------------------------------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- unsyncs</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span id="local-6989586621679610526"><span id="local-6989586621679610527"><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#unsyncTermComponent"><span class="hs-identifier hs-type">unsyncTermComponent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#SyncLocallyIndexedComponent%27"><span class="hs-identifier hs-type">TermFormat.SyncLocallyIndexedComponent'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610526"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610527"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#LocallyIndexedComponent%27"><span class="hs-identifier hs-type">TermFormat.LocallyIndexedComponent'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610526"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610527"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-177"></span><span id="unsyncTermComponent"><span class="annot"><span class="annottext">unsyncTermComponent :: forall t d.
HasCallStack =&gt;
SyncLocallyIndexedComponent' t d
-&gt; Either DecodeError (LocallyIndexedComponent' t d)
</span><a href="U.Codebase.Sqlite.Decode.html#unsyncTermComponent"><span class="hs-identifier hs-var hs-var">unsyncTermComponent</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Term.Format.html#SyncLocallyIndexedComponent"><span class="hs-identifier hs-type">TermFormat.SyncLocallyIndexedComponent</span></a></span><span> </span><span id="local-6989586621679610759"><span class="annot"><span class="annottext">Vector (LocalIds' t d, ByteString)
</span><a href="#local-6989586621679610759"><span class="hs-identifier hs-var">terms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679610763"><span class="annot"><span class="annottext">phi :: (a, ByteString) -&gt; Either DecodeError (a, Term, Type)
</span><a href="#local-6989586621679610763"><span class="hs-identifier hs-var hs-var">phi</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679610764"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679610764"><span class="hs-identifier hs-var">localIds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679610765"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679610765"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-179"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679610766"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679610766"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679610767"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679610767"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DecodeError (Term, Type)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeSyncTermAndType"><span class="hs-identifier hs-var">decodeSyncTermAndType</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679610765"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-180"></span><span>        </span><span class="annot"><span class="annottext">(a, Term, Type) -&gt; Either DecodeError (a, Term, Type)
forall a. a -&gt; Either DecodeError a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((a, Term, Type) -&gt; Either DecodeError (a, Term, Type))
-&gt; (a, Term, Type) -&gt; Either DecodeError (a, Term, Type)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679610764"><span class="hs-identifier hs-var">localIds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679610766"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679610767"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">Vector (LocalIds' t d, Term, Type) -&gt; LocallyIndexedComponent' t d
forall t d.
Vector (LocalIds' t d, Term, Type) -&gt; LocallyIndexedComponent' t d
</span><a href="U.Codebase.Sqlite.Term.Format.html#LocallyIndexedComponent"><span class="hs-identifier hs-var">TermFormat.LocallyIndexedComponent</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (LocalIds' t d, Term, Type)
 -&gt; LocallyIndexedComponent' t d)
-&gt; Either DecodeError (Vector (LocalIds' t d, Term, Type))
-&gt; Either DecodeError (LocallyIndexedComponent' t d)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((LocalIds' t d, ByteString)
 -&gt; Either DecodeError (LocalIds' t d, Term, Type))
-&gt; Vector (LocalIds' t d, ByteString)
-&gt; Either DecodeError (Vector (LocalIds' t d, Term, Type))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Vector a -&gt; f (Vector b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">(LocalIds' t d, ByteString)
-&gt; Either DecodeError (LocalIds' t d, Term, Type)
forall {a}. (a, ByteString) -&gt; Either DecodeError (a, Term, Type)
</span><a href="#local-6989586621679610763"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (LocalIds' t d, ByteString)
</span><a href="#local-6989586621679610759"><span class="hs-identifier hs-var">terms</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span id="local-6989586621679610552"><span id="local-6989586621679610553"><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#unsyncDeclComponent"><span class="hs-identifier hs-type">unsyncDeclComponent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#SyncLocallyIndexedComponent%27"><span class="hs-identifier hs-type">DeclFormat.SyncLocallyIndexedComponent'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610552"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610553"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="U.Codebase.Sqlite.Decode.html#DecodeError"><span class="hs-identifier hs-type">DecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#LocallyIndexedComponent%27"><span class="hs-identifier hs-type">DeclFormat.LocallyIndexedComponent'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610552"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610553"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-184"></span><span id="unsyncDeclComponent"><span class="annot"><span class="annottext">unsyncDeclComponent :: forall t d.
SyncLocallyIndexedComponent' t d
-&gt; Either DecodeError (LocallyIndexedComponent' t d)
</span><a href="U.Codebase.Sqlite.Decode.html#unsyncDeclComponent"><span class="hs-identifier hs-var hs-var">unsyncDeclComponent</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Sqlite.Decl.Format.html#SyncLocallyIndexedComponent"><span class="hs-identifier hs-type">DeclFormat.SyncLocallyIndexedComponent</span></a></span><span> </span><span id="local-6989586621679610775"><span class="annot"><span class="annottext">Vector (LocalIds' t d, ByteString)
</span><a href="#local-6989586621679610775"><span class="hs-identifier hs-var">decls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679610777"><span class="annot"><span class="annottext">phi :: (a, ByteString) -&gt; Either DecodeError (a, Decl Symbol)
</span><a href="#local-6989586621679610777"><span class="hs-identifier hs-var hs-var">phi</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679610778"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679610778"><span class="hs-identifier hs-var">localIds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679610779"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679610779"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-186"></span><span>        </span><span id="local-6989586621679610780"><span class="annot"><span class="annottext">Decl Symbol
</span><a href="#local-6989586621679610780"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DecodeError (Decl Symbol)
</span><a href="U.Codebase.Sqlite.Decode.html#decodeDecl"><span class="hs-identifier hs-var">decodeDecl</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679610779"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-187"></span><span>        </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679610778"><span class="hs-identifier hs-var">localIds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Decl Symbol
</span><a href="#local-6989586621679610780"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><span class="annottext">Vector (LocalIds' t d, Decl Symbol) -&gt; LocallyIndexedComponent' t d
forall t d.
Vector (LocalIds' t d, Decl Symbol) -&gt; LocallyIndexedComponent' t d
</span><a href="U.Codebase.Sqlite.Decl.Format.html#LocallyIndexedComponent"><span class="hs-identifier hs-var">DeclFormat.LocallyIndexedComponent</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (LocalIds' t d, Decl Symbol)
 -&gt; LocallyIndexedComponent' t d)
-&gt; Either DecodeError (Vector (LocalIds' t d, Decl Symbol))
-&gt; Either DecodeError (LocallyIndexedComponent' t d)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((LocalIds' t d, ByteString)
 -&gt; Either DecodeError (LocalIds' t d, Decl Symbol))
-&gt; Vector (LocalIds' t d, ByteString)
-&gt; Either DecodeError (Vector (LocalIds' t d, Decl Symbol))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Vector a -&gt; f (Vector b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">(LocalIds' t d, ByteString)
-&gt; Either DecodeError (LocalIds' t d, Decl Symbol)
forall {a}. (a, ByteString) -&gt; Either DecodeError (a, Decl Symbol)
</span><a href="#local-6989586621679610777"><span class="hs-identifier hs-var">phi</span></a></span><span> </span><span class="annot"><span class="annottext">Vector (LocalIds' t d, ByteString)
</span><a href="#local-6989586621679610775"><span class="hs-identifier hs-var">decls</span></a></span><span>
</span><span id="line-189"></span></pre></body></html>