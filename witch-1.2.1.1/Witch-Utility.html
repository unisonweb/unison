<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Witch.Utility</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">witch-1.2.1.1: Convert values from one type into another.</span><ul class="links" id="page-menu"><li><a href="src/Witch.Utility.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Witch.Utility</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:as">as</a> :: <span class="keyword">forall</span> source. source -&gt; source</li><li class="src short"><a href="#v:into">into</a> :: <span class="keyword">forall</span> target source. <a href="Witch-From.html#t:From" title="Witch.From">From</a> source target =&gt; source -&gt; target</li><li class="src short"><a href="#v:over">over</a> :: <span class="keyword">forall</span> target source. (<a href="Witch-From.html#t:From" title="Witch.From">From</a> source target, <a href="Witch-From.html#t:From" title="Witch.From">From</a> target source) =&gt; (target -&gt; target) -&gt; source -&gt; source</li><li class="src short"><a href="#v:via">via</a> :: <span class="keyword">forall</span> through source target. (<a href="Witch-From.html#t:From" title="Witch.From">From</a> source through, <a href="Witch-From.html#t:From" title="Witch.From">From</a> through target) =&gt; source -&gt; target</li><li class="src short"><a href="#v:tryInto">tryInto</a> :: <span class="keyword">forall</span> target source. <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source target =&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target</li><li class="src short"><a href="#v:tryVia">tryVia</a> :: <span class="keyword">forall</span> through source target. (<a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source through, <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> through target) =&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target</li><li class="src short"><a href="#v:maybeTryFrom">maybeTryFrom</a> :: (source -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> target) -&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target</li><li class="src short"><a href="#v:eitherTryFrom">eitherTryFrom</a> :: <a href="../base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> exception =&gt; (source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> exception target) -&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target</li><li class="src short"><a href="#v:unsafeFrom">unsafeFrom</a> :: <span class="keyword">forall</span> source target. (<a href="../base-4.18.2.1/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source target, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> target) =&gt; source -&gt; target</li><li class="src short"><a href="#v:unsafeInto">unsafeInto</a> :: <span class="keyword">forall</span> target source. (<a href="../base-4.18.2.1/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source target, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> target) =&gt; source -&gt; target</li><li class="src short"><a href="#v:withSource">withSource</a> :: newSource -&gt; <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> oldSource target -&gt; <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> newSource target</li><li class="src short"><a href="#v:withTarget">withTarget</a> :: <span class="keyword">forall</span> newTarget source oldTarget. <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source oldTarget -&gt; <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source newTarget</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:as" class="def">as</a> :: <span class="keyword">forall</span> source. source -&gt; source <a href="src/Witch.Utility.html#as" class="link">Source</a> <a href="#v:as" class="selflink">#</a></p><div class="doc"><p>This is the same as <code><a href="../base-4.18.2.1/Data-Function.html#v:id" title="Data.Function">id</a></code>. This can be an ergonomic way to pin down a
 polymorphic type in a function pipeline. For example:</p><pre>-- Avoid this:
f . (\ x -&gt; x :: Int) . g

-- Prefer this:
f . as @Int . g</pre></div></div><div class="top"><p class="src"><a id="v:into" class="def">into</a> :: <span class="keyword">forall</span> target source. <a href="Witch-From.html#t:From" title="Witch.From">From</a> source target =&gt; source -&gt; target <a href="src/Witch.Utility.html#into" class="link">Source</a> <a href="#v:into" class="selflink">#</a></p><div class="doc"><p>This is the same as <code><a href="Witch-From.html#v:from" title="Witch.From">from</a></code> except that the type variables are in the
 opposite order.</p><pre>-- Avoid this:
from x :: t

-- Prefer this:
into @t x</pre></div></div><div class="top"><p class="src"><a id="v:over" class="def">over</a> :: <span class="keyword">forall</span> target source. (<a href="Witch-From.html#t:From" title="Witch.From">From</a> source target, <a href="Witch-From.html#t:From" title="Witch.From">From</a> target source) =&gt; (target -&gt; target) -&gt; source -&gt; source <a href="src/Witch.Utility.html#over" class="link">Source</a> <a href="#v:over" class="selflink">#</a></p><div class="doc"><p>This function converts from some <code>source</code> type into some <code>target</code> type,
 applies the given function, then converts back into the <code>source</code> type. This
 is useful when you have two types that are isomorphic but some function
 that only works with one of them.</p><pre>-- Avoid this:
from @t . f . into @t

-- Prefer this:
over @t f</pre></div></div><div class="top"><p class="src"><a id="v:via" class="def">via</a> :: <span class="keyword">forall</span> through source target. (<a href="Witch-From.html#t:From" title="Witch.From">From</a> source through, <a href="Witch-From.html#t:From" title="Witch.From">From</a> through target) =&gt; source -&gt; target <a href="src/Witch.Utility.html#via" class="link">Source</a> <a href="#v:via" class="selflink">#</a></p><div class="doc"><p>This function first converts from some <code>source</code> type into some <code>through</code>
 type, and then converts that into some <code>target</code> type. Usually this is used
 when writing <code><a href="Witch-From.html#t:From" title="Witch.From">From</a></code> instances. Sometimes this can be used to work
 around the lack of an instance that should probably exist.</p><pre>-- Avoid this:
from @u . into @u

-- Prefer this:
via @u</pre></div></div><div class="top"><p class="src"><a id="v:tryInto" class="def">tryInto</a> :: <span class="keyword">forall</span> target source. <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source target =&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target <a href="src/Witch.Utility.html#tryInto" class="link">Source</a> <a href="#v:tryInto" class="selflink">#</a></p><div class="doc"><p>This is the same as <code><a href="Witch-TryFrom.html#v:tryFrom" title="Witch.TryFrom">tryFrom</a></code> except that the type variables are
 in the opposite order.</p><pre>-- Avoid this:
tryFrom x :: Either (TryFromException s t) t

-- Prefer this:
tryInto @t x</pre></div></div><div class="top"><p class="src"><a id="v:tryVia" class="def">tryVia</a> :: <span class="keyword">forall</span> through source target. (<a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source through, <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> through target) =&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target <a href="src/Witch.Utility.html#tryVia" class="link">Source</a> <a href="#v:tryVia" class="selflink">#</a></p><div class="doc"><p>This is similar to <code><a href="Witch-Utility.html#v:via" title="Witch.Utility">via</a></code> except that it works with <code><a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a></code>
 instances instead. This function is especially convenient because juggling
 the types in the <code><a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a></code> can be tedious.</p><pre>-- Avoid this:
case tryInto @u x of
  Left (TryFromException _ e) -&gt; Left $ TryFromException x e
  Right y -&gt; case tryFrom @u y of
    Left (TryFromException _ e) -&gt; Left $ TryFromException x e
    Right z -&gt; Right z

-- Prefer this:
tryVia @u</pre></div></div><div class="top"><p class="src"><a id="v:maybeTryFrom" class="def">maybeTryFrom</a> :: (source -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> target) -&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target <a href="src/Witch.Utility.html#maybeTryFrom" class="link">Source</a> <a href="#v:maybeTryFrom" class="selflink">#</a></p><div class="doc"><p>This function can be used to implement <code><a href="Witch-TryFrom.html#v:tryFrom" title="Witch.TryFrom">tryFrom</a></code> with a function
 that returns <code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>. For example:</p><pre>-- Avoid this:
tryFrom s = case f s of
  Nothing -&gt; Left $ TryFromException s Nothing
  Just t -&gt; Right t

-- Prefer this:
tryFrom = maybeTryFrom f</pre></div></div><div class="top"><p class="src"><a id="v:eitherTryFrom" class="def">eitherTryFrom</a> :: <a href="../base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> exception =&gt; (source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> exception target) -&gt; source -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source target) target <a href="src/Witch.Utility.html#eitherTryFrom" class="link">Source</a> <a href="#v:eitherTryFrom" class="selflink">#</a></p><div class="doc"><p>This function can be used to implement <code><a href="Witch-TryFrom.html#v:tryFrom" title="Witch.TryFrom">tryFrom</a></code> with a function
 that returns <code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code>. For example:</p><pre>-- Avoid this:
tryFrom s = case f s of
  Left e -&gt; Left . TryFromException s . Just $ toException e
  Right t -&gt; Right t

-- Prefer this:
tryFrom = eitherTryFrom f</pre></div></div><div class="top"><p class="src"><a id="v:unsafeFrom" class="def">unsafeFrom</a> :: <span class="keyword">forall</span> source target. (<a href="../base-4.18.2.1/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source target, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> target) =&gt; source -&gt; target <a href="src/Witch.Utility.html#unsafeFrom" class="link">Source</a> <a href="#v:unsafeFrom" class="selflink">#</a></p><div class="doc"><p>This function is like <code><a href="Witch-TryFrom.html#v:tryFrom" title="Witch.TryFrom">tryFrom</a></code> except that it will throw an
 impure exception if the conversion fails.</p><pre>-- Avoid this:
either throw id . tryFrom @s

-- Prefer this:
unsafeFrom @s</pre></div></div><div class="top"><p class="src"><a id="v:unsafeInto" class="def">unsafeInto</a> :: <span class="keyword">forall</span> target source. (<a href="../base-4.18.2.1/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, <a href="Witch-TryFrom.html#t:TryFrom" title="Witch.TryFrom">TryFrom</a> source target, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> source, <a href="../base-4.18.2.1/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> target) =&gt; source -&gt; target <a href="src/Witch.Utility.html#unsafeInto" class="link">Source</a> <a href="#v:unsafeInto" class="selflink">#</a></p><div class="doc"><p>This function is like <code><a href="Witch-Utility.html#v:tryInto" title="Witch.Utility">tryInto</a></code> except that it will throw an impure
 exception if the conversion fails.</p><pre>-- Avoid this:
either throw id . tryInto @t

-- Prefer this:
unsafeInto @t</pre></div></div><div class="top"><p class="src"><a id="v:withSource" class="def">withSource</a> :: newSource -&gt; <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> oldSource target -&gt; <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> newSource target <a href="src/Witch.Utility.html#withSource" class="link">Source</a> <a href="#v:withSource" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withTarget" class="def">withTarget</a> :: <span class="keyword">forall</span> newTarget source oldTarget. <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source oldTarget -&gt; <a href="Witch-TryFromException.html#t:TryFromException" title="Witch.TryFromException">TryFromException</a> source newTarget <a href="src/Witch.Utility.html#withTarget" class="link">Source</a> <a href="#v:withTarget" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>