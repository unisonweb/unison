<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ki</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ki-1.0.1.1: A lightweight structured concurrency library</span><ul class="links" id="page-menu"><li><a href="src/Ki.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ki</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Introduction</a></li><li><a href="#g:2">Core API</a></li><li><a href="#g:3">Extended API</a><ul><li><a href="#g:4">Thread options</a></li><li><a href="#g:5">Byte count</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p><code>ki</code> is a lightweight structured concurrency library.</p><p>For a variant of this API generalized to
 <code><a href="https://hackage.haskell.org/package/unliftio-core/docs/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a></code>,
 see <code><a href="https://hackage.haskell.org/package/ki-unlifted">ki-unlifted</a></code>.</p><p>Remember to link your program with <code>-threaded</code> to use the threaded runtime!</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Scope">Scope</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Thread">Thread</a> a</li><li class="src short"><a href="#v:scoped">scoped</a> :: (<a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:fork">fork</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> a)</li><li class="src short"><a href="#v:forkTry">forkTry</a> :: <span class="keyword">forall</span> e a. <a href="../base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a))</li><li class="src short"><a href="#v:await">await</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a</li><li class="src short"><a href="#v:awaitAll">awaitAll</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> ()</li><li class="src short"><a href="#v:fork_">fork_</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:forkWith">forkWith</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> a)</li><li class="src short"><a href="#v:forkWith_">forkWith_</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:forkTryWith">forkTryWith</a> :: <span class="keyword">forall</span> e a. <a href="../base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a))</li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreadOptions">ThreadOptions</a> = <a href="#v:ThreadOptions">ThreadOptions</a> {<ul class="subs"><li><a href="#v:affinity">affinity</a> :: <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a></li><li><a href="#v:allocationLimit">allocationLimit</a> :: <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></li><li><a href="#v:label">label</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:maskingState">maskingState</a> :: <a href="../base-4.18.2.1/Control-Exception-Base.html#t:MaskingState" title="Control.Exception.Base">MaskingState</a></li></ul>}</li><li class="src short"><a href="#v:defaultThreadOptions">defaultThreadOptions</a> :: <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreadAffinity">ThreadAffinity</a><ul class="subs"><li>= <a href="#v:Unbound">Unbound</a></li><li>| <a href="#v:Capability">Capability</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:OsThread">OsThread</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ByteCount">ByteCount</a></li><li class="src short"><a href="#v:kilobytes">kilobytes</a> :: <a href="../base-4.18.2.1/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></li><li class="src short"><a href="#v:megabytes">megabytes</a> :: <a href="../base-4.18.2.1/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Introduction</h1></a><div class="doc"><p>Structured concurrency is a paradigm of concurrent programming in which a lexical scope delimits the lifetime of each
 thread. Threads therefore form a &quot;call tree&quot; hierarchy in which no child can outlive its parent.</p><p>Exceptions are propagated promptly from child to parent and vice-versa:</p><ul><li>If an exception is raised in a child thread, the child raises the same exception in its parent, then
       terminates.</li><li>If an exception is raised in a parent thread, the parent first raises an exception in all of its living
       children, waits for them to terminate, then re-raises the original exception.</li></ul><p>All together, this library:</p><ul><li>Guarantees the absence of &quot;ghost threads&quot; (<em>i.e.</em> threads that accidentally continue to run alongside the main
       thread after the function that spawned them returns).</li><li>Performs prompt, bidirectional exception propagation when an exception is raised anywhere in the call tree.</li><li>Provides a safe and flexible API that can be used directly, or with which higher-level concurrency patterns can
       be built on top, such as worker queues, pub-sub pipelines, and supervision trees.</li></ul><p>For a longer introduction to structured concurrency, including an educative analogy to structured programming, please
 read Nathaniel J. Smith's blog post,
 <a href="https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/">&quot;Notes on structured concurrency, or: Go statement considered harmful&quot;</a>.</p><h4 class="subheading details-toggle-control details-toggle" data-details-id="ch:noid:0">&#128073; Quick start examples</h4><details id="ch:noid:0"><summary class="hide-when-js-enabled">Expand</summary><ul><li><p>Perform two actions concurrently, and wait for both of them to complete.</p><pre>concurrently :: IO a -&gt; IO b -&gt; IO (a, b)
concurrently action1 action2 =
  Ki.<code><a href="Ki.html#v:scoped" title="Ki">scoped</a></code> \scope -&gt; do
    thread1 &lt;- Ki.<code><a href="Ki.html#v:fork" title="Ki">fork</a></code> scope action1
    result2 &lt;- action2
    result1 &lt;- atomically (Ki.<code><a href="Ki.html#v:await" title="Ki">await</a></code> thread1)
    pure (result1, result2)
</pre></li><li><p>Perform two actions concurrently, and when the first action terminates, stop executing the other.</p><pre>race :: IO a -&gt; IO a -&gt; IO a
race action1 action2 =
  Ki.<code><a href="Ki.html#v:scoped" title="Ki">scoped</a></code> \scope -&gt; do
    resultVar &lt;- newEmptyMVar
    _ &lt;- Ki.<code><a href="Ki.html#v:fork" title="Ki">fork</a></code> scope (action1 &gt;&gt;= tryPutMVar resultVar)
    _ &lt;- Ki.<code><a href="Ki.html#v:fork" title="Ki">fork</a></code> scope (action2 &gt;&gt;= tryPutMVar resultVar)
    takeMVar resultVar
</pre></li></ul></details></div><a href="#g:2" id="g:2"><h1>Core API</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Scope" class="def">Scope</a> <a href="src/Ki.Internal.Scope.html#Scope" class="link">Source</a> <a href="#t:Scope" class="selflink">#</a></p><div class="doc"><p>A scope.</p><h4 class="subheading details-toggle-control details-toggle" data-details-id="ch:Scope0">&#128073; Details</h4><details id="ch:Scope0"><summary class="hide-when-js-enabled">Expand</summary><ul><li>A scope delimits the lifetime of all threads created within it.</li><li>A scope is only valid during the callback provided to <code><a href="Ki.html#v:scoped" title="Ki">scoped</a></code>.</li><li>The thread that creates a scope is considered the parent of all threads created within it.</li><li>All threads created within a scope can be awaited together (see <code><a href="Ki.html#v:awaitAll" title="Ki">awaitAll</a></code>).</li><li>All threads created within a scope are terminated when the scope closes.</li></ul></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Thread" class="def">Thread</a> a <a href="src/Ki.Internal.Thread.html#Thread" class="link">Source</a> <a href="#t:Thread" class="selflink">#</a></p><div class="doc"><p>A thread.</p><h4 class="subheading details-toggle-control details-toggle" data-details-id="ch:Thread0">&#128073; Details</h4><details id="ch:Thread0"><summary class="hide-when-js-enabled">Expand</summary><ul><li>A thread's lifetime is delimited by the scope in which it was created.</li><li>The thread that creates a scope is considered the parent of all threads created within it.</li><li>If an exception is raised in a child thread, the child either propagates the exception to its parent (see
   <code><a href="Ki.html#v:fork" title="Ki">fork</a></code>), or returns the exception as a value (see <code><a href="Ki.html#v:forkTry" title="Ki">forkTry</a></code>).</li><li>All threads created within a scope are terminated when the scope closes.</li></ul></details></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Thread">Instances</h4><details id="i:Thread" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Thread:Functor:1"></span> <a href="../base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Ki.html#t:Thread" title="Ki">Thread</a></span> <a href="src/Ki.Internal.Thread.html#line-44" class="link">Source</a> <a href="#t:Thread" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Thread:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> b -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Thread:Eq:2"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> a)</span> <a href="src/Ki.Internal.Thread.html#line-46" class="link">Source</a> <a href="#t:Thread" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Thread:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Thread:Ord:3"></span> <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> a)</span> <a href="src/Ki.Internal.Thread.html#line-50" class="link">Source</a> <a href="#t:Thread" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Thread:Ord:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="Ki.html#t:Thread" title="Ki">Thread</a> a <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:scoped" class="def">scoped</a> :: (<a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Ki.Internal.Scope.html#scoped" class="link">Source</a> <a href="#v:scoped" class="selflink">#</a></p><div class="doc"><p>Open a scope, perform an IO action with it, then close the scope.</p><h4 class="subheading details-toggle-control details-toggle" data-details-id="ch:scoped0">&#128073; Details</h4><details id="ch:scoped0"><summary class="hide-when-js-enabled">Expand</summary><ul><li>The thread that creates a scope is considered the parent of all threads created within it.</li><li>A scope is only valid during the callback provided to <code><a href="Ki.html#v:scoped" title="Ki">scoped</a></code>.</li><li><p>When a scope closes (<em>i.e.</em> just before <code><a href="Ki.html#v:scoped" title="Ki">scoped</a></code> returns):</p><ul><li>The parent thread raises an exception in all of its living children.</li><li>The parent thread blocks until those threads terminate.</li></ul></li></ul></details></div></div><div class="top"><p class="src"><a id="v:fork" class="def">fork</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> a) <a href="src/Ki.Internal.Scope.html#fork" class="link">Source</a> <a href="#v:fork" class="selflink">#</a></p><div class="doc"><p>Create a child thread to execute an action within a scope.</p><p><em>Note</em>: The child thread does not mask asynchronous exceptions, regardless of the parent thread's masking state. To
 create a child thread with a different initial masking state, use <code><a href="Ki.html#v:forkWith" title="Ki">forkWith</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:forkTry" class="def">forkTry</a> :: <span class="keyword">forall</span> e a. <a href="../base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a)) <a href="src/Ki.Internal.Scope.html#forkTry" class="link">Source</a> <a href="#v:forkTry" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Ki.html#v:fork" title="Ki">fork</a></code>, but the child thread does not propagate exceptions that are both:</p><ul><li>Synchronous (<em>i.e.</em> not an instance of <code>SomeAsyncException</code>).</li><li>An instance of <code>e</code>.</li></ul></div></div><div class="top"><p class="src"><a id="v:await" class="def">await</a> :: <a href="Ki.html#t:Thread" title="Ki">Thread</a> a -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a <a href="src/Ki.Internal.Thread.html#await" class="link">Source</a> <a href="#v:await" class="selflink">#</a></p><div class="doc"><p>Wait for a thread to terminate.</p></div></div><div class="top"><p class="src"><a id="v:awaitAll" class="def">awaitAll</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> () <a href="src/Ki.Internal.Scope.html#awaitAll" class="link">Source</a> <a href="#v:awaitAll" class="selflink">#</a></p><div class="doc"><p>Wait until all threads created within a scope terminate.</p></div></div><a href="#g:3" id="g:3"><h1>Extended API</h1></a><div class="top"><p class="src"><a id="v:fork_" class="def">fork_</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Ki.Internal.Scope.html#fork_" class="link">Source</a> <a href="#v:fork_" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Ki.html#v:fork" title="Ki">fork</a></code> for threads that never return.</p></div></div><div class="top"><p class="src"><a id="v:forkWith" class="def">forkWith</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> a) <a href="src/Ki.Internal.Scope.html#forkWith" class="link">Source</a> <a href="#v:forkWith" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Ki.html#v:fork" title="Ki">fork</a></code> that takes an additional options argument.</p></div></div><div class="top"><p class="src"><a id="v:forkWith_" class="def">forkWith_</a> :: <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Ki.Internal.Scope.html#forkWith_" class="link">Source</a> <a href="#v:forkWith_" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Ki.html#v:forkWith" title="Ki">forkWith</a></code> for threads that never return.</p></div></div><div class="top"><p class="src"><a id="v:forkTryWith" class="def">forkTryWith</a> :: <span class="keyword">forall</span> e a. <a href="../base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="Ki.html#t:Scope" title="Ki">Scope</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ki.html#t:Thread" title="Ki">Thread</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a)) <a href="src/Ki.Internal.Scope.html#forkTryWith" class="link">Source</a> <a href="#v:forkTryWith" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Ki.html#v:forkTry" title="Ki">forkTry</a></code> that takes an additional options argument.</p></div></div><a href="#g:4" id="g:4"><h2>Thread options</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ThreadOptions" class="def">ThreadOptions</a> <a href="src/Ki.Internal.Thread.html#ThreadOptions" class="link">Source</a> <a href="#t:ThreadOptions" class="selflink">#</a></p><div class="doc"><dl><dt><code>affinity</code></dt><dd><p>The affinity of a thread. A thread can be unbound, bound to a specific capability, or bound to a specific OS
thread.</p><p>Default: <code><a href="Ki.html#v:Unbound" title="Ki">Unbound</a></code></p></dd><dt><code>allocationLimit</code></dt><dd><p>The maximum number of bytes a thread may allocate before it is delivered an
<code><a href="../base-4.18.2.1/Control-Exception.html#v:AllocationLimitExceeded" title="Control.Exception">AllocationLimitExceeded</a></code> exception. If caught, the thread is allowed to allocate an additional
100kb (tunable with <code>+RTS -xq</code>) to perform any necessary cleanup actions; if exceeded, the thread is delivered
another.</p><p>Default: <code>Nothing</code> (no limit)</p></dd><dt><code>label</code></dt><dd><p>The label of a thread, visible in the <a href="https://downloads.haskell.org/ghc/latest/docs/html/users_guide/runtime_control.html#rts-eventlog">event log</a> (<code>+RTS -l</code>).</p><p>Default: <code>&quot;&quot;</code> (no label)</p></dd><dt><code>maskingState</code></dt><dd><p>The masking state a thread is created in. To unmask, use <code><a href="../base-4.18.2.1/GHC-IO.html#v:unsafeUnmask" title="GHC.IO">unsafeUnmask</a></code>.</p><p>Default: <code>Unmasked</code></p></dd></dl></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ThreadOptions" class="def">ThreadOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:affinity" class="def">affinity</a> :: <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:allocationLimit" class="def">allocationLimit</a> :: <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:label" class="def">label</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maskingState" class="def">maskingState</a> :: <a href="../base-4.18.2.1/Control-Exception-Base.html#t:MaskingState" title="Control.Exception.Base">MaskingState</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ThreadOptions">Instances</h4><details id="i:ThreadOptions" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadOptions:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a></span> <a href="src/Ki.Internal.Thread.html#line-120" class="link">Source</a> <a href="#t:ThreadOptions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadOptions:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadOptions:Eq:2"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a></span> <a href="src/Ki.Internal.Thread.html#line-120" class="link">Source</a> <a href="#t:ThreadOptions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadOptions:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultThreadOptions" class="def">defaultThreadOptions</a> :: <a href="Ki.html#t:ThreadOptions" title="Ki">ThreadOptions</a> <a href="src/Ki.Internal.Thread.html#defaultThreadOptions" class="link">Source</a> <a href="#v:defaultThreadOptions" class="selflink">#</a></p><div class="doc"><p>Default thread options.</p><pre><code><a href="Ki.html#v:ThreadOptions" title="Ki">ThreadOptions</a></code>
  { <code><a href="Ki.html#v:affinity" title="Ki">affinity</a></code> = <code><a href="Ki.html#v:Unbound" title="Ki">Unbound</a></code>
  , <code><a href="Ki.html#v:allocationLimit" title="Ki">allocationLimit</a></code> = Nothing
  , <code><a href="Ki.html#v:label" title="Ki">label</a></code> = &quot;&quot;
  , <code><a href="Ki.html#v:maskingState" title="Ki">maskingState</a></code> = <code><a href="../base-4.18.2.1/Control-Exception-Base.html#v:Unmasked" title="Control.Exception.Base">Unmasked</a></code>
  }
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ThreadAffinity" class="def">ThreadAffinity</a> <a href="src/Ki.Internal.Thread.html#ThreadAffinity" class="link">Source</a> <a href="#t:ThreadAffinity" class="selflink">#</a></p><div class="doc"><p>What, if anything, a thread is bound to.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Unbound" class="def">Unbound</a></td><td class="doc"><p>Unbound.</p></td></tr><tr><td class="src"><a id="v:Capability" class="def">Capability</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Bound to a capability.</p></td></tr><tr><td class="src"><a id="v:OsThread" class="def">OsThread</a></td><td class="doc"><p>Bound to an OS thread.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ThreadAffinity">Instances</h4><details id="i:ThreadAffinity" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadAffinity:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a></span> <a href="src/Ki.Internal.Thread.html#line-76" class="link">Source</a> <a href="#t:ThreadAffinity" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadAffinity:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadAffinity:Eq:2"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a></span> <a href="src/Ki.Internal.Thread.html#line-76" class="link">Source</a> <a href="#t:ThreadAffinity" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadAffinity:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-Thread.html">Ki.Internal.Thread</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a> -&gt; <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a> -&gt; <a href="Ki.html#t:ThreadAffinity" title="Ki">ThreadAffinity</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:5" id="g:5"><h2>Byte count</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ByteCount" class="def">ByteCount</a> <a href="src/Ki.Internal.ByteCount.html#ByteCount" class="link">Source</a> <a href="#t:ByteCount" class="selflink">#</a></p><div class="doc"><p>A number of bytes.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ByteCount">Instances</h4><details id="i:ByteCount" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteCount:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></span> <a href="src/Ki.Internal.ByteCount.html#line-17" class="link">Source</a> <a href="#t:ByteCount" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteCount:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-ByteCount.html">Ki.Internal.ByteCount</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteCount:Eq:2"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></span> <a href="src/Ki.Internal.ByteCount.html#line-15" class="link">Source</a> <a href="#t:ByteCount" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteCount:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-ByteCount.html">Ki.Internal.ByteCount</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteCount:Ord:3"></span> <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a></span> <a href="src/Ki.Internal.ByteCount.html#line-15" class="link">Source</a> <a href="#t:ByteCount" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteCount:Ord:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ki-Internal-ByteCount.html">Ki.Internal.ByteCount</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:kilobytes" class="def">kilobytes</a> :: <a href="../base-4.18.2.1/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> <a href="src/Ki.Internal.ByteCount.html#kilobytes" class="link">Source</a> <a href="#v:kilobytes" class="selflink">#</a></p><div class="doc"><p>A number of kilobytes.</p></div></div><div class="top"><p class="src"><a id="v:megabytes" class="def">megabytes</a> :: <a href="../base-4.18.2.1/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Ki.html#t:ByteCount" title="Ki">ByteCount</a> <a href="src/Ki.Internal.ByteCount.html#megabytes" class="link">Source</a> <a href="#v:megabytes" class="selflink">#</a></p><div class="doc"><p>A number of megabytes.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>