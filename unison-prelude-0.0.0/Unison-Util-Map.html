<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Unison.Util.Map</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unison-prelude-0.0.0</span><ul class="links" id="page-menu"><li><a href="src/Unison.Util.Map.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Unison.Util.Map</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p><code>Map</code> utilities.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:alignWithKey">alignWithKey</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (k -&gt; <a href="../these-1.2.1/Data-These.html#t:These" title="Data.These">These</a> a b -&gt; c) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k b -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k c</li><li class="src short"><a href="#v:bimap">bimap</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a' =&gt; (a -&gt; a') -&gt; (b -&gt; b') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a b -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a' b'</li><li class="src short"><a href="#v:bitraverse">bitraverse</a> :: (<a href="Unison-Prelude.html#t:Applicative" title="Unison.Prelude">Applicative</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a') =&gt; (a -&gt; f a') -&gt; (b -&gt; f b') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a b -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a' b')</li><li class="src short"><a href="#v:bitraversed">bitraversed</a> :: (<a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a', <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k') =&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> k k' a a' -&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> v v' a a' -&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v') a a'</li><li class="src short"><a href="#v:deleteLookup">deleteLookup</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v)</li><li class="src short"><a href="#v:deleteLookupJust">deleteLookupJust</a> :: (<a href="Unison-Prelude.html#t:HasCallStack" title="Unison.Prelude">HasCallStack</a>, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v)</li><li class="src short"><a href="#v:elemsSet">elemsSet</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> v =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="Unison-Prelude.html#t:Set" title="Unison.Prelude">Set</a> v</li><li class="src short"><a href="#v:foldM">foldM</a> :: <a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m =&gt; (acc -&gt; k -&gt; v -&gt; m acc) -&gt; acc -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; m acc</li><li class="src short"><a href="#v:foldMapM">foldMapM</a> :: (<a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k, <a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m, <a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> t) =&gt; (a -&gt; m (k, v)) -&gt; t a -&gt; m (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v)</li><li class="src short"><a href="#v:for_">for_</a> :: <a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (k -&gt; v -&gt; m ()) -&gt; m ()</li><li class="src short"><a href="#v:insertLookup">insertLookup</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; k -&gt; v -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v)</li><li class="src short"><a href="#v:invert">invert</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> v =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> v k</li><li class="src short"><a href="#v:mergeMap">mergeMap</a> :: <span class="keyword">forall</span> a b k m. (<a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; (k -&gt; a -&gt; m) -&gt; (k -&gt; b -&gt; m) -&gt; (k -&gt; a -&gt; b -&gt; m) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k b -&gt; m</li><li class="src short"><a href="#v:unionWithM">unionWithM</a> :: <span class="keyword">forall</span> m k a. (<a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; (a -&gt; a -&gt; m a) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; m (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a)</li><li class="src short"><a href="#v:remap">remap</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k1 =&gt; ((k0, v0) -&gt; (k1, v1)) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k0 v0 -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k1 v1</li><li class="src short"><a href="#v:traverseKeys">traverseKeys</a> :: (<a href="Unison-Prelude.html#t:Applicative" title="Unison.Prelude">Applicative</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k') =&gt; (k -&gt; f k') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v)</li><li class="src short"><a href="#v:traverseKeysWith">traverseKeysWith</a> :: (<a href="Unison-Prelude.html#t:Applicative" title="Unison.Prelude">Applicative</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k') =&gt; (v -&gt; v -&gt; v) -&gt; (k -&gt; f k') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v)</li><li class="src short"><a href="#v:swap">swap</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> b =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a b -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> b a</li><li class="src short"><a href="#v:upsert">upsert</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v -&gt; v) -&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v</li><li class="src short"><a href="#v:upsertF">upsertF</a> :: (<a href="Unison-Prelude.html#t:Functor" title="Unison.Prelude">Functor</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v -&gt; f v) -&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v)</li><li class="src short"><a href="#v:upsertLookup">upsertLookup</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v -&gt; v) -&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v)</li><li class="src short"><a href="#v:valuesVector">valuesVector</a> :: <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="../vector-0.13.1.0/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> v</li><li class="src short"><a href="#v:asList_">asList_</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k' =&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v') [(k, v)] [(k', v')]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:alignWithKey" class="def">alignWithKey</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (k -&gt; <a href="../these-1.2.1/Data-These.html#t:These" title="Data.These">These</a> a b -&gt; c) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k b -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k c <a href="src/Unison.Util.Map.html#alignWithKey" class="link">Source</a> <a href="#v:alignWithKey" class="selflink">#</a></p><div class="doc"><p>A common case of <code>Map.merge</code>. Like <code>alignWith</code>, but includes the key.</p></div></div><div class="top"><p class="src"><a id="v:bimap" class="def">bimap</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a' =&gt; (a -&gt; a') -&gt; (b -&gt; b') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a b -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a' b' <a href="src/Unison.Util.Map.html#bimap" class="link">Source</a> <a href="#v:bimap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bitraverse" class="def">bitraverse</a> :: (<a href="Unison-Prelude.html#t:Applicative" title="Unison.Prelude">Applicative</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a') =&gt; (a -&gt; f a') -&gt; (b -&gt; f b') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a b -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a' b') <a href="src/Unison.Util.Map.html#bitraverse" class="link">Source</a> <a href="#v:bitraverse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bitraversed" class="def">bitraversed</a> :: (<a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a', <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k') =&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> k k' a a' -&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> v v' a a' -&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v') a a' <a href="src/Unison.Util.Map.html#bitraversed" class="link">Source</a> <a href="#v:bitraversed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deleteLookup" class="def">deleteLookup</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) <a href="src/Unison.Util.Map.html#deleteLookup" class="link">Source</a> <a href="#v:deleteLookup" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../containers-0.6.7/Data-Map-Strict.html#v:delete" title="Data.Map.Strict">delete</a></code>, but returns the value as well.</p></div></div><div class="top"><p class="src"><a id="v:deleteLookupJust" class="def">deleteLookupJust</a> :: (<a href="Unison-Prelude.html#t:HasCallStack" title="Unison.Prelude">HasCallStack</a>, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) <a href="src/Unison.Util.Map.html#deleteLookupJust" class="link">Source</a> <a href="#v:deleteLookupJust" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Unison-Util-Map.html#v:deleteLookup" title="Unison.Util.Map">deleteLookup</a></code>, but asserts the value is in the map prior to deletion.</p></div></div><div class="top"><p class="src"><a id="v:elemsSet" class="def">elemsSet</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> v =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="Unison-Prelude.html#t:Set" title="Unison.Prelude">Set</a> v <a href="src/Unison.Util.Map.html#elemsSet" class="link">Source</a> <a href="#v:elemsSet" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../containers-0.6.7/Data-Map-Strict.html#v:elems" title="Data.Map.Strict">elems</a></code>, but return the values as a set.</p></div></div><div class="top"><p class="src"><a id="v:foldM" class="def">foldM</a> :: <a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m =&gt; (acc -&gt; k -&gt; v -&gt; m acc) -&gt; acc -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; m acc <a href="src/Unison.Util.Map.html#foldM" class="link">Source</a> <a href="#v:foldM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../containers-0.6.7/Data-Map-Strict.html#v:foldlWithKey-39-" title="Data.Map.Strict">foldlWithKey'</a></code>, but with a monadic accumulator.</p></div></div><div class="top"><p class="src"><a id="v:foldMapM" class="def">foldMapM</a> :: (<a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k, <a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m, <a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> t) =&gt; (a -&gt; m (k, v)) -&gt; t a -&gt; m (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) <a href="src/Unison.Util.Map.html#foldMapM" class="link">Source</a> <a href="#v:foldMapM" class="selflink">#</a></p><div class="doc"><p>Construct a map from a foldable container by mapping each element to monadic action that returns a key and a value.</p><p>The map is constructed from the left: if two elements map to the same key, the second will overwrite the first.</p></div></div><div class="top"><p class="src"><a id="v:for_" class="def">for_</a> :: <a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (k -&gt; v -&gt; m ()) -&gt; m () <a href="src/Unison.Util.Map.html#for_" class="link">Source</a> <a href="#v:for_" class="selflink">#</a></p><div class="doc"><p>Run a monadic action for each key/value pair in a map.</p></div></div><div class="top"><p class="src"><a id="v:insertLookup" class="def">insertLookup</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; k -&gt; v -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) <a href="src/Unison.Util.Map.html#insertLookup" class="link">Source</a> <a href="#v:insertLookup" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../containers-0.6.7/Data-Map-Strict.html#v:insert" title="Data.Map.Strict">insert</a></code>, but returns the old value as well.</p></div></div><div class="top"><p class="src"><a id="v:invert" class="def">invert</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> v =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> v k <a href="src/Unison.Util.Map.html#invert" class="link">Source</a> <a href="#v:invert" class="selflink">#</a></p><div class="doc"><p>Invert a map's keys and values. This probably only makes sense with injective maps, but otherwise, later key/value
 pairs (ordered by the original map's keys) overwrite earlier ones.</p></div></div><div class="top"><p class="src"><a id="v:mergeMap" class="def">mergeMap</a> <a href="src/Unison.Util.Map.html#mergeMap" class="link">Source</a> <a href="#v:mergeMap" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> a b k m. (<a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; a -&gt; m)</td><td class="doc"><p>Function to apply when a key exists in the first map, but not the second.</p></td></tr><tr><td class="src">-&gt; (k -&gt; b -&gt; m)</td><td class="doc"><p>Function to apply when a key exists in the second map, but not the first.</p></td></tr><tr><td class="src">-&gt; (k -&gt; a -&gt; b -&gt; m)</td><td class="doc"><p>Function to apply when a key exists in both maps.</p></td></tr><tr><td class="src">-&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code>mergeMap</code> is like a <code>foldMap</code> version of <code>merge</code>: summarize the merging of two maps together as a monoidal value.</p></div></div><div class="top"><p class="src"><a id="v:unionWithM" class="def">unionWithM</a> :: <span class="keyword">forall</span> m k a. (<a href="Unison-Prelude.html#t:Monad" title="Unison.Prelude">Monad</a> m, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; (a -&gt; a -&gt; m a) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a -&gt; m (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k a) <a href="src/Unison.Util.Map.html#unionWithM" class="link">Source</a> <a href="#v:unionWithM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:remap" class="def">remap</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k1 =&gt; ((k0, v0) -&gt; (k1, v1)) -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k0 v0 -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k1 v1 <a href="src/Unison.Util.Map.html#remap" class="link">Source</a> <a href="#v:remap" class="selflink">#</a></p><div class="doc"><p>Reconstruct a map entirely, given a function from old key<em>value to new key</em>value.</p><pre>remap f = Map.fromList . map f . Map.toList
</pre></div></div><div class="top"><p class="src"><a id="v:traverseKeys" class="def">traverseKeys</a> :: (<a href="Unison-Prelude.html#t:Applicative" title="Unison.Prelude">Applicative</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k') =&gt; (k -&gt; f k') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v) <a href="src/Unison.Util.Map.html#traverseKeys" class="link">Source</a> <a href="#v:traverseKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:traverseKeysWith" class="def">traverseKeysWith</a> :: (<a href="Unison-Prelude.html#t:Applicative" title="Unison.Prelude">Applicative</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k') =&gt; (v -&gt; v -&gt; v) -&gt; (k -&gt; f k') -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v) <a href="src/Unison.Util.Map.html#traverseKeysWith" class="link">Source</a> <a href="#v:traverseKeysWith" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:swap" class="def">swap</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> b =&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> a b -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> b a <a href="src/Unison.Util.Map.html#swap" class="link">Source</a> <a href="#v:swap" class="selflink">#</a></p><div class="doc"><p><code><a href="Unison-Util-Map.html#v:swap" title="Unison.Util.Map">swap</a></code> throws away data if the input contains duplicate values</p></div></div><div class="top"><p class="src"><a id="v:upsert" class="def">upsert</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v -&gt; v) -&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v <a href="src/Unison.Util.Map.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><div class="doc"><p>Upsert an element into a map.</p></div></div><div class="top"><p class="src"><a id="v:upsertF" class="def">upsertF</a> :: (<a href="Unison-Prelude.html#t:Functor" title="Unison.Prelude">Functor</a> f, <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v -&gt; f v) -&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; f (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) <a href="src/Unison.Util.Map.html#upsertF" class="link">Source</a> <a href="#v:upsertF" class="selflink">#</a></p><div class="doc"><p>Upsert an element into a map.</p></div></div><div class="top"><p class="src"><a id="v:upsertLookup" class="def">upsertLookup</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v -&gt; v) -&gt; k -&gt; <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; (<a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> v, <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) <a href="src/Unison.Util.Map.html#upsertLookup" class="link">Source</a> <a href="#v:upsertLookup" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Unison-Util-Map.html#v:upsert" title="Unison.Util.Map">upsert</a></code>, but returns the old value as well.</p></div></div><div class="top"><p class="src"><a id="v:valuesVector" class="def">valuesVector</a> :: <a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v -&gt; <a href="../vector-0.13.1.0/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> v <a href="src/Unison.Util.Map.html#valuesVector" class="link">Source</a> <a href="#v:valuesVector" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:asList_" class="def">asList_</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k' =&gt; <a href="../lens-5.2.3/Control-Lens-Type.html#t:Traversal" title="Control.Lens.Type">Traversal</a> (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k v) (<a href="Unison-Prelude.html#t:Map" title="Unison.Prelude">Map</a> k' v') [(k, v)] [(k', v')] <a href="src/Unison.Util.Map.html#asList_" class="link">Source</a> <a href="#v:asList_" class="selflink">#</a></p><div class="doc"><p>Traverse a map as a list of key-value pairs.
 Note: This can have unexpected results if the result contains duplicate keys.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>