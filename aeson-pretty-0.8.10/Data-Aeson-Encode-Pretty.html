<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Aeson.Encode.Pretty</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">aeson-pretty-0.8.10: JSON pretty-printing library and command-line tool.</span><ul class="links" id="page-menu"><li><a href="src/Data.Aeson.Encode.Pretty.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Aeson.Encode.Pretty</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Simple Pretty-Printing</a></li><li><a href="#g:2">Pretty-Printing with Configuration Options</a><ul><li><a href="#g:3">Sorting Keys in Objects</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Aeson-compatible pretty-printing of JSON <code><a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a></code>s.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:encodePretty">encodePretty</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; a -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></li><li class="src short"><a href="#v:encodePrettyToTextBuilder">encodePrettyToTextBuilder</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; a -&gt; <a href="../text-2.0.2/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a></li><li class="src short"><a href="#v:encodePretty-39-">encodePretty'</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; <a href="Data-Aeson-Encode-Pretty.html#t:Config" title="Data.Aeson.Encode.Pretty">Config</a> -&gt; a -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></li><li class="src short"><a href="#v:encodePrettyToTextBuilder-39-">encodePrettyToTextBuilder'</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; <a href="Data-Aeson-Encode-Pretty.html#t:Config" title="Data.Aeson.Encode.Pretty">Config</a> -&gt; a -&gt; <a href="../text-2.0.2/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Config">Config</a> = <a href="#v:Config">Config</a> {<ul class="subs"><li><a href="#v:confIndent">confIndent</a> :: <a href="Data-Aeson-Encode-Pretty.html#t:Indent" title="Data.Aeson.Encode.Pretty">Indent</a></li><li><a href="#v:confCompare">confCompare</a> :: <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li><li><a href="#v:confNumFormat">confNumFormat</a> :: <a href="Data-Aeson-Encode-Pretty.html#t:NumberFormat" title="Data.Aeson.Encode.Pretty">NumberFormat</a></li><li><a href="#v:confTrailingNewline">confTrailingNewline</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:defConfig">defConfig</a> :: <a href="Data-Aeson-Encode-Pretty.html#t:Config" title="Data.Aeson.Encode.Pretty">Config</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Indent">Indent</a><ul class="subs"><li>= <a href="#v:Spaces">Spaces</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:Tab">Tab</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:NumberFormat">NumberFormat</a><ul class="subs"><li>= <a href="#v:Generic">Generic</a></li><li>| <a href="#v:Scientific">Scientific</a></li><li>| <a href="#v:Decimal">Decimal</a></li><li>| <a href="#v:Custom">Custom</a> (<a href="../scientific-0.3.7.0/Data-Scientific.html#t:Scientific" title="Data.Scientific">Scientific</a> -&gt; <a href="../text-2.0.2/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>)</li></ul></li><li class="src short"><a href="#v:mempty">mempty</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; a</li><li class="src short"><a href="#v:compare">compare</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; a -&gt; a -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li><li class="src short"><a href="#v:keyOrder">keyOrder</a> :: [<a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>] -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Simple Pretty-Printing</h1></a><div class="top"><p class="src"><a id="v:encodePretty" class="def">encodePretty</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; a -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="src/Data.Aeson.Encode.Pretty.html#encodePretty" class="link">Source</a> <a href="#v:encodePretty" class="selflink">#</a></p><div class="doc"><p>A drop-in replacement for aeson's <code><a href="Aeson.html#v:encode" title="Aeson">encode</a></code> function, producing
  JSON-ByteStrings for human readers.</p><p>Follows the default configuration in <code><a href="Data-Aeson-Encode-Pretty.html#v:defConfig" title="Data.Aeson.Encode.Pretty">defConfig</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:encodePrettyToTextBuilder" class="def">encodePrettyToTextBuilder</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; a -&gt; <a href="../text-2.0.2/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> <a href="src/Data.Aeson.Encode.Pretty.html#encodePrettyToTextBuilder" class="link">Source</a> <a href="#v:encodePrettyToTextBuilder" class="selflink">#</a></p><div class="doc"><p>A drop-in replacement for aeson's <code><a href="../aeson-2.1.2.1/Data-Aeson-Text.html#v:encodeToTextBuilder" title="Data.Aeson.Text">encodeToTextBuilder</a></code> function,
  producing JSON-ByteStrings for human readers.</p><p>Follows the default configuration in <code><a href="Data-Aeson-Encode-Pretty.html#v:defConfig" title="Data.Aeson.Encode.Pretty">defConfig</a></code>.</p></div></div><a href="#g:2" id="g:2"><h1>Pretty-Printing with Configuration Options</h1></a><div class="top"><p class="src"><a id="v:encodePretty-39-" class="def">encodePretty'</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; <a href="Data-Aeson-Encode-Pretty.html#t:Config" title="Data.Aeson.Encode.Pretty">Config</a> -&gt; a -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="src/Data.Aeson.Encode.Pretty.html#encodePretty%27" class="link">Source</a> <a href="#v:encodePretty-39-" class="selflink">#</a></p><div class="doc"><p>A variant of <code><a href="Data-Aeson-Encode-Pretty.html#v:encodePretty" title="Data.Aeson.Encode.Pretty">encodePretty</a></code> that takes an additional configuration
  parameter.</p></div></div><div class="top"><p class="src"><a id="v:encodePrettyToTextBuilder-39-" class="def">encodePrettyToTextBuilder'</a> :: <a href="../aeson-2.1.2.1/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; <a href="Data-Aeson-Encode-Pretty.html#t:Config" title="Data.Aeson.Encode.Pretty">Config</a> -&gt; a -&gt; <a href="../text-2.0.2/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> <a href="src/Data.Aeson.Encode.Pretty.html#encodePrettyToTextBuilder%27" class="link">Source</a> <a href="#v:encodePrettyToTextBuilder-39-" class="selflink">#</a></p><div class="doc"><p>A variant of <code><a href="../aeson-2.1.2.1/Data-Aeson-Text.html#v:encodeToTextBuilder" title="Data.Aeson.Text">encodeToTextBuilder</a></code> that takes an additional configuration
  parameter.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Config" class="def">Config</a> <a href="src/Data.Aeson.Encode.Pretty.html#Config" class="link">Source</a> <a href="#t:Config" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Config" class="def">Config</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:confIndent" class="def">confIndent</a> :: <a href="Data-Aeson-Encode-Pretty.html#t:Indent" title="Data.Aeson.Encode.Pretty">Indent</a></dfn><div class="doc"><p>Indentation per level of nesting</p></div></li><li><dfn class="src"><a id="v:confCompare" class="def">confCompare</a> :: <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></dfn><div class="doc"><p>Function used to sort keys in objects</p></div></li><li><dfn class="src"><a id="v:confNumFormat" class="def">confNumFormat</a> :: <a href="Data-Aeson-Encode-Pretty.html#t:NumberFormat" title="Data.Aeson.Encode.Pretty">NumberFormat</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:confTrailingNewline" class="def">confTrailingNewline</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Whether to add a trailing newline to the output</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defConfig" class="def">defConfig</a> :: <a href="Data-Aeson-Encode-Pretty.html#t:Config" title="Data.Aeson.Encode.Pretty">Config</a> <a href="src/Data.Aeson.Encode.Pretty.html#defConfig" class="link">Source</a> <a href="#v:defConfig" class="selflink">#</a></p><div class="doc"><p>The default configuration: indent by four spaces per level of nesting, do
  not sort objects by key, do not add trailing newline.</p><pre>defConfig = Config { confIndent = Spaces 4, confCompare = mempty, confNumFormat = Generic, confTrailingNewline = False }</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Indent" class="def">Indent</a> <a href="src/Data.Aeson.Encode.Pretty.html#Indent" class="link">Source</a> <a href="#t:Indent" class="selflink">#</a></p><div class="doc"><p>Indentation per level of nesting. <code><code><a href="Data-Aeson-Encode-Pretty.html#v:Spaces" title="Data.Aeson.Encode.Pretty">Spaces</a></code> 0</code> removes <strong>all</strong> whitespace
   from the output.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Spaces" class="def">Spaces</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Tab" class="def">Tab</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NumberFormat" class="def">NumberFormat</a> <a href="src/Data.Aeson.Encode.Pretty.html#NumberFormat" class="link">Source</a> <a href="#t:NumberFormat" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Generic" class="def">Generic</a></td><td class="doc"><p>The standard behaviour of the <code><a href="Aeson.html#v:encode" title="Aeson">encode</a></code> function. Uses
   integer literals for integers (1, 2, 3...), simple decimals
   for fractional values between 0.1 and 9,999,999, and scientific
   notation otherwise.</p></td></tr><tr><td class="src"><a id="v:Scientific" class="def">Scientific</a></td><td class="doc"><p>Scientific notation (e.g. 2.3e123).</p></td></tr><tr><td class="src"><a id="v:Decimal" class="def">Decimal</a></td><td class="doc"><p>Standard decimal notation</p></td></tr><tr><td class="src"><a id="v:Custom" class="def">Custom</a> (<a href="../scientific-0.3.7.0/Data-Scientific.html#t:Scientific" title="Data.Scientific">Scientific</a> -&gt; <a href="../text-2.0.2/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>)</td><td class="doc"><p>Custom formatting function</p></td></tr></table></div></div><a href="#g:3" id="g:3"><h2>Sorting Keys in Objects</h2></a><div class="doc"><p>With the Aeson library, the order of keys in objects is undefined due to
  objects being implemented as HashMaps. To allow user-specified key
  orders in the pretty-printed JSON, <code><a href="Data-Aeson-Encode-Pretty.html#v:encodePretty-39-" title="Data.Aeson.Encode.Pretty">encodePretty'</a></code> can be configured
  with a comparison function. These comparison functions can be composed
  using the <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> interface. Some other useful helper functions to keep
  in mind are <code><a href="../base-4.18.2.1/Data-Ord.html#v:comparing" title="Data.Ord">comparing</a></code> and <code><a href="../base-4.18.2.1/Data-Function.html#v:on" title="Data.Function">on</a></code>.</p><p>Consider the following deliberately convoluted example, demonstrating
  the use of comparison functions:</p><p>An  object might pretty-print as follows</p><pre>{
  &quot;baz&quot;: ...,
  &quot;bar&quot;: ...,
  &quot;foo&quot;: ...,
  &quot;quux&quot;: ...,
}</pre><p>which is clearly a confusing order of keys. By using a comparison
  function such as</p><pre>comp :: Text -&gt; Text -&gt; Ordering
comp = keyOrder [&quot;foo&quot;,&quot;bar&quot;] `mappend` comparing length</pre><p>we can achieve the desired neat result:</p><pre>{
  &quot;foo&quot;: ...,
  &quot;bar&quot;: ...,
  &quot;baz&quot;: ...,
  &quot;quux&quot;: ...,
}</pre></div><div class="top"><p class="src"><a id="v:mempty" class="def">mempty</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; a <a href="#v:mempty" class="selflink">#</a></p><div class="doc"><p>Identity of <code><a href="../base-4.18.2.1/Data-Monoid.html#v:mappend" title="Data.Monoid">mappend</a></code></p><h4 class="subheading details-toggle-control details-toggle" data-details-id="ch:mempty0">Examples</h4><details id="ch:mempty0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;Hello world&quot; &lt;&gt; mempty
</code></strong>&quot;Hello world&quot;
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>mempty &lt;&gt; [1, 2, 3]
</code></strong>[1,2,3]
</pre></details></div></div><div class="doc"><p>Serves as an order-preserving (non-)sort function. Re-exported from
  <a href="../base-4.18.2.1/Data-Monoid.html">Data.Monoid</a>.</p></div><div class="top"><p class="src"><a id="v:compare" class="def">compare</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; a -&gt; a -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p></div><div class="doc"><p>Sort keys in their natural order, i.e. by comparing character codes.
 Re-exported from the Prelude and <a href="../base-4.18.2.1/Data-Ord.html">Data.Ord</a></p></div><div class="top"><p class="src"><a id="v:keyOrder" class="def">keyOrder</a> :: [<a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>] -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.18.2.1/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Data.Aeson.Encode.Pretty.html#keyOrder" class="link">Source</a> <a href="#v:keyOrder" class="selflink">#</a></p><div class="doc"><p>Sort keys by their order of appearance in the argument list.</p><p>Keys that are not present in the argument list are considered to be greater
  than any key in the list and equal to all keys not in the list. I.e. keys
  not in the argument list are moved to the end, while their order is
  preserved.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>