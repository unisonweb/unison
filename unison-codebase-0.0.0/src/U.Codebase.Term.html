<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">U.Codebase.Term</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">List</span></span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Writer</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Writer</span></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Foldable</span></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Reference</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Reference</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Reference'</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Reference</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Reference</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html"><span class="hs-identifier">U.Codebase.Referent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Referent.html#Referent%27"><span class="hs-identifier">Referent'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html"><span class="hs-identifier">U.Codebase.Referent</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Referent</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Type.html"><span class="hs-identifier">U.Codebase.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Type.html#TypeR"><span class="hs-identifier">TypeR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Type.html"><span class="hs-identifier">U.Codebase.Type</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Core.ABT</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ABT</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Core.ABT.Var</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ABT</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Prelude</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Util.Recursion</span></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">type</span><span> </span><span id="ConstructorId"><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-var">ConstructorId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">type</span><span> </span><span id="Term"><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span id="local-6989586621679144483"><span class="annot"><a href="#local-6989586621679144483"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144483"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144483"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-comment">-- | A version of 'Term' but where TermRefs never have a 'Nothing' Hash, but instead self references</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- are filled with User Variable references</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- to the relevant piece of the component in a component map.</span><span>
</span><span id="line-28"></span><span class="hs-keyword">type</span><span> </span><span id="HashableTerm"><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-var">HashableTerm</span></a></span></span><span> </span><span id="local-6989586621679144484"><span class="annot"><a href="#local-6989586621679144484"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTermRef"><span class="hs-identifier hs-type">HashableTermRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-type">TypeRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTermLink"><span class="hs-identifier hs-type">HashableTermLink</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144484"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144484"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">type</span><span> </span><span id="Type"><span class="annot"><a href="U.Codebase.Term.html#Type"><span class="hs-identifier hs-var">Type</span></a></span></span><span> </span><span id="local-6989586621679144488"><span class="annot"><a href="#local-6989586621679144488"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="U.Codebase.Type.html#TypeR"><span class="hs-identifier hs-type">TypeR</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-type">TypeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144488"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">type</span><span> </span><span id="TermRef"><span class="annot"><a href="U.Codebase.Term.html#TermRef"><span class="hs-identifier hs-var">TermRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">type</span><span> </span><span id="HashableTermRef"><span class="annot"><a href="U.Codebase.Term.html#HashableTermRef"><span class="hs-identifier hs-var">HashableTermRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">type</span><span> </span><span id="TypeRef"><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-var">TypeRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference</span></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">type</span><span> </span><span id="TermLink"><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html#Referent%27"><span class="hs-identifier hs-type">Referent'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">type</span><span> </span><span id="HashableTermLink"><span class="annot"><a href="U.Codebase.Term.html#HashableTermLink"><span class="hs-identifier hs-var">HashableTermLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html#Referent%27"><span class="hs-identifier hs-type">Referent'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">type</span><span> </span><span id="TypeLink"><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference</span></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="annot"><span class="hs-comment">-- | Base functor for terms in the Unison codebase</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">type</span><span> </span><span id="F"><span class="annot"><a href="U.Codebase.Term.html#F"><span class="hs-identifier hs-var">F</span></a></span></span><span> </span><span id="local-6989586621679144490"><span class="annot"><a href="#local-6989586621679144490"><span class="hs-identifier hs-type">vt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TermRef"><span class="hs-identifier hs-type">TermRef</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-type">TypeRef</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="#local-6989586621679144490"><span class="hs-identifier hs-type">vt</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">-- | Generalized version.  We could generalize further to allow sharing within</span><span>
</span><span id="line-55"></span><span class="hs-comment">--  terms.</span><span>
</span><span id="line-56"></span><span class="hs-keyword">data</span><span> </span><span id="F%27"><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-var">F'</span></a></span></span><span> </span><span id="local-6989586621679144243"><span class="annot"><a href="#local-6989586621679144243"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679144244"><span class="annot"><a href="#local-6989586621679144244"><span class="hs-identifier hs-type">termRef</span></a></span></span><span> </span><span id="local-6989586621679144245"><span class="annot"><a href="#local-6989586621679144245"><span class="hs-identifier hs-type">typeRef</span></a></span></span><span> </span><span id="local-6989586621679144246"><span class="annot"><a href="#local-6989586621679144246"><span class="hs-identifier hs-type">termLink</span></a></span></span><span> </span><span id="local-6989586621679144247"><span class="annot"><a href="#local-6989586621679144247"><span class="hs-identifier hs-type">typeLink</span></a></span></span><span> </span><span id="local-6989586621679144248"><span class="annot"><a href="#local-6989586621679144248"><span class="hs-identifier hs-type">vt</span></a></span></span><span> </span><span id="local-6989586621679144249"><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Int"><span class="annot"><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-var">Int</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Nat"><span class="annot"><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-var">Nat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Float"><span class="annot"><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-var">Float</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Boolean"><span class="annot"><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-var">Boolean</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Text"><span class="annot"><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-var">Text</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144243"><span class="hs-identifier hs-type">text</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Char"><span class="annot"><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-var">Char</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Ref"><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144244"><span class="hs-identifier hs-type">termRef</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- First argument identifies the data type,</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-comment">-- second argument identifies the constructor</span><span>
</span><span id="line-66"></span><span>    </span><span id="Constructor"><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144245"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Request"><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-var">Request</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144245"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Handle"><span class="annot"><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-var">Handle</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="App"><span class="annot"><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-var">App</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Ann"><span class="annot"><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-var">Ann</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Type.html#TypeR"><span class="hs-identifier hs-type">TypeR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144245"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144248"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="List"><span class="annot"><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-var">List</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="If"><span class="annot"><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-var">If</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="And"><span class="annot"><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-var">And</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Or"><span class="annot"><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-var">Or</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Lam"><span class="annot"><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Note: let rec blocks have an outer ABT.Cycle which introduces as many</span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-comment">-- variables as there are bindings</span><span>
</span><span id="line-78"></span><span>    </span><span id="LetRec"><span class="annot"><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-var">LetRec</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Note: first parameter is the binding, second is the expression which may refer</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-comment">-- to this let bound variable. Constructed as `Let b (abs v e)`</span><span>
</span><span id="line-81"></span><span>    </span><span id="Let"><span class="annot"><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-var">Let</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Pattern matching / eliminating data types, example:</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-comment">--  case x of</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-comment">--    Just n -&gt; rhs1</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-comment">--    Nothing -&gt; rhs2</span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-comment">-- translates to</span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-comment">--   Match x</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-comment">--     [ (Constructor 0 [Var], ABT.abs n rhs1)</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-comment">--     , (Constructor 1 [], rhs2) ]</span><span>
</span><span id="line-92"></span><span>    </span><span id="Match"><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-var">Match</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144243"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144245"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144249"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TermLink"><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144246"><span class="hs-identifier hs-type">termLink</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TypeLink"><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679144247"><span class="hs-identifier hs-type">typeLink</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679144514"><span id="local-6989586621679144520"><span id="local-6989586621679144554"><span id="local-6989586621679144559"><span id="local-6989586621679144565"><span id="local-6989586621679144568"><span id="local-6989586621679144571"><span id="local-6989586621679144574"><span id="local-6989586621679144577"><span id="local-6989586621679144580"><span id="local-6989586621679144583"><span id="local-6989586621679144586"><span id="local-6989586621679144589"><span id="local-6989586621679144594"><span id="local-6989586621679144599"><span id="local-6989586621679144604"><span id="local-6989586621679144609"><span class="annot"><span class="annottext">(forall m.
 Monoid m =&gt;
 F' text termRef typeRef termLink typeLink vt m -&gt; m)
-&gt; (forall m a.
    Monoid m =&gt;
    (a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m)
-&gt; (forall m a.
    Monoid m =&gt;
    (a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m)
-&gt; (forall a b.
    (a -&gt; b -&gt; b)
    -&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b)
-&gt; (forall a b.
    (a -&gt; b -&gt; b)
    -&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b)
-&gt; (forall b a.
    (b -&gt; a -&gt; b)
    -&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b)
-&gt; (forall b a.
    (b -&gt; a -&gt; b)
    -&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b)
-&gt; (forall a.
    (a -&gt; a -&gt; a)
    -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a)
-&gt; (forall a.
    (a -&gt; a -&gt; a)
    -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a)
-&gt; (forall a.
    F' text termRef typeRef termLink typeLink vt a -&gt; [a])
-&gt; (forall a.
    F' text termRef typeRef termLink typeLink vt a -&gt; Bool)
-&gt; (forall a.
    F' text termRef typeRef termLink typeLink vt a -&gt; Int)
-&gt; (forall a.
    Eq a =&gt;
    a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool)
-&gt; (forall a.
    Ord a =&gt;
    F' text termRef typeRef termLink typeLink vt a -&gt; a)
-&gt; (forall a.
    Ord a =&gt;
    F' text termRef typeRef termLink typeLink vt a -&gt; a)
-&gt; (forall a.
    Num a =&gt;
    F' text termRef typeRef termLink typeLink vt a -&gt; a)
-&gt; (forall a.
    Num a =&gt;
    F' text termRef typeRef termLink typeLink vt a -&gt; a)
-&gt; Foldable (F' text termRef typeRef termLink typeLink vt)
forall a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
forall a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
forall m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Int
forall a. F' text termRef typeRef termLink typeLink vt a -&gt; [a]
forall a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
forall m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
forall b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall text termRef typeRef termLink typeLink vt a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall text termRef typeRef termLink typeLink vt a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
forall text termRef typeRef termLink typeLink vt a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
forall text termRef typeRef termLink typeLink vt m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Int
forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; [a]
forall text termRef typeRef termLink typeLink vt a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
forall text termRef typeRef termLink typeLink vt m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
forall text termRef typeRef termLink typeLink vt b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall text termRef typeRef termLink typeLink vt m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
fold :: forall m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
$cfoldMap :: forall text termRef typeRef termLink typeLink vt m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
foldMap :: forall m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
$cfoldMap' :: forall text termRef typeRef termLink typeLink vt m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
foldMap' :: forall m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
$cfoldr :: forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldr :: forall a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldr' :: forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldr' :: forall a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldl :: forall text termRef typeRef termLink typeLink vt b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldl :: forall b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldl' :: forall text termRef typeRef termLink typeLink vt b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldl' :: forall b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldr1 :: forall text termRef typeRef termLink typeLink vt a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
foldr1 :: forall a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
$cfoldl1 :: forall text termRef typeRef termLink typeLink vt a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
foldl1 :: forall a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
$ctoList :: forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; [a]
toList :: forall a. F' text termRef typeRef termLink typeLink vt a -&gt; [a]
$cnull :: forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Bool
null :: forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Bool
$clength :: forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Int
length :: forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Int
$celem :: forall text termRef typeRef termLink typeLink vt a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
elem :: forall a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
$cmaximum :: forall text termRef typeRef termLink typeLink vt a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
maximum :: forall a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$cminimum :: forall text termRef typeRef termLink typeLink vt a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
minimum :: forall a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$csum :: forall text termRef typeRef termLink typeLink vt a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
sum :: forall a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$cproduct :: forall text termRef typeRef termLink typeLink vt a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
product :: forall a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144615"><span id="local-6989586621679144624"><span class="annot"><span class="annottext">(forall a b.
 (a -&gt; b)
 -&gt; F' text termRef typeRef termLink typeLink vt a
 -&gt; F' text termRef typeRef termLink typeLink vt b)
-&gt; (forall a b.
    a
    -&gt; F' text termRef typeRef termLink typeLink vt b
    -&gt; F' text termRef typeRef termLink typeLink vt a)
-&gt; Functor (F' text termRef typeRef termLink typeLink vt)
forall a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
forall a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
forall text termRef typeRef termLink typeLink vt a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
fmap :: forall a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
$c&lt;$ :: forall text termRef typeRef termLink typeLink vt a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
&lt;$ :: forall a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144636"><span id="local-6989586621679144674"><span id="local-6989586621679144680"><span id="local-6989586621679144685"><span class="annot"><span class="annottext">Functor (F' text termRef typeRef termLink typeLink vt)
Foldable (F' text termRef typeRef termLink typeLink vt)
(Functor (F' text termRef typeRef termLink typeLink vt),
 Foldable (F' text termRef typeRef termLink typeLink vt)) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b)
 -&gt; F' text termRef typeRef termLink typeLink vt a
 -&gt; f (F' text termRef typeRef termLink typeLink vt b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    F' text termRef typeRef termLink typeLink vt (f a)
    -&gt; f (F' text termRef typeRef termLink typeLink vt a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b)
    -&gt; F' text termRef typeRef termLink typeLink vt a
    -&gt; m (F' text termRef typeRef termLink typeLink vt b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    F' text termRef typeRef termLink typeLink vt (m a)
    -&gt; m (F' text termRef typeRef termLink typeLink vt a))
-&gt; Traversable (F' text termRef typeRef termLink typeLink vt)
forall text termRef typeRef termLink typeLink vt.
Functor (F' text termRef typeRef termLink typeLink vt)
forall text termRef typeRef termLink typeLink vt.
Foldable (F' text termRef typeRef termLink typeLink vt)
forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
$ctraverse :: forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
$csequenceA :: forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
$cmapM :: forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
$csequence :: forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144699"><span id="local-6989586621679144768"><span id="local-6989586621679144772"><span class="annot"><span class="annottext">Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
[F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
F' text termRef typeRef termLink typeLink vt a -&gt; String
(Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS)
-&gt; (F' text termRef typeRef termLink typeLink vt a -&gt; String)
-&gt; ([F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS)
-&gt; Show (F' text termRef typeRef termLink typeLink vt a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show vt, Show a, Show termLink,
 Show typeLink, Show typeRef) =&gt;
Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show vt, Show a, Show termLink,
 Show typeLink, Show typeRef) =&gt;
[F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show vt, Show a, Show termLink,
 Show typeLink, Show typeRef) =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; String
$cshowsPrec :: forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show vt, Show a, Show termLink,
 Show typeLink, Show typeRef) =&gt;
Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
showsPrec :: Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
$cshow :: forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show vt, Show a, Show termLink,
 Show typeLink, Show typeRef) =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; String
show :: F' text termRef typeRef termLink typeLink vt a -&gt; String
$cshowList :: forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show vt, Show a, Show termLink,
 Show typeLink, Show typeRef) =&gt;
[F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
showList :: [F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">data</span><span> </span><span id="MatchCase"><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-var">MatchCase</span></a></span></span><span> </span><span id="local-6989586621679144269"><span class="annot"><a href="#local-6989586621679144269"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679144270"><span class="annot"><a href="#local-6989586621679144270"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679144271"><span class="annot"><a href="#local-6989586621679144271"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MatchCase"><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-var">MatchCase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144269"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144270"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679144271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144271"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679144778"><span id="local-6989586621679144783"><span id="local-6989586621679144790"><span id="local-6989586621679144795"><span id="local-6989586621679144798"><span id="local-6989586621679144801"><span id="local-6989586621679144804"><span id="local-6989586621679144807"><span id="local-6989586621679144810"><span id="local-6989586621679144813"><span id="local-6989586621679144816"><span id="local-6989586621679144818"><span id="local-6989586621679144821"><span id="local-6989586621679144826"><span id="local-6989586621679144831"><span id="local-6989586621679144836"><span id="local-6989586621679144841"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; MatchCase t r m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a)
-&gt; (forall a. MatchCase t r a -&gt; [a])
-&gt; (forall a. MatchCase t r a -&gt; Bool)
-&gt; (forall a. MatchCase t r a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; MatchCase t r a -&gt; a)
-&gt; (forall a. Ord a =&gt; MatchCase t r a -&gt; a)
-&gt; (forall a. Num a =&gt; MatchCase t r a -&gt; a)
-&gt; (forall a. Num a =&gt; MatchCase t r a -&gt; a)
-&gt; Foldable (MatchCase t r)
forall a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
forall a. Num a =&gt; MatchCase t r a -&gt; a
forall a. Ord a =&gt; MatchCase t r a -&gt; a
forall m. Monoid m =&gt; MatchCase t r m -&gt; m
forall a. MatchCase t r a -&gt; Bool
forall a. MatchCase t r a -&gt; Int
forall a. MatchCase t r a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall t r a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
forall t r a. Num a =&gt; MatchCase t r a -&gt; a
forall t r a. Ord a =&gt; MatchCase t r a -&gt; a
forall t r m. Monoid m =&gt; MatchCase t r m -&gt; m
forall t r a. MatchCase t r a -&gt; Bool
forall t r a. MatchCase t r a -&gt; Int
forall t r a. MatchCase t r a -&gt; [a]
forall t r a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
forall t r m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
forall t r b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall t r a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall t r m. Monoid m =&gt; MatchCase t r m -&gt; m
fold :: forall m. Monoid m =&gt; MatchCase t r m -&gt; m
$cfoldMap :: forall t r m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
$cfoldMap' :: forall t r m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
$cfoldr :: forall t r a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldr' :: forall t r a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldl :: forall t r b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldl' :: forall t r b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldr1 :: forall t r a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
$cfoldl1 :: forall t r a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
$ctoList :: forall t r a. MatchCase t r a -&gt; [a]
toList :: forall a. MatchCase t r a -&gt; [a]
$cnull :: forall t r a. MatchCase t r a -&gt; Bool
null :: forall a. MatchCase t r a -&gt; Bool
$clength :: forall t r a. MatchCase t r a -&gt; Int
length :: forall a. MatchCase t r a -&gt; Int
$celem :: forall t r a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
$cmaximum :: forall t r a. Ord a =&gt; MatchCase t r a -&gt; a
maximum :: forall a. Ord a =&gt; MatchCase t r a -&gt; a
$cminimum :: forall t r a. Ord a =&gt; MatchCase t r a -&gt; a
minimum :: forall a. Ord a =&gt; MatchCase t r a -&gt; a
$csum :: forall t r a. Num a =&gt; MatchCase t r a -&gt; a
sum :: forall a. Num a =&gt; MatchCase t r a -&gt; a
$cproduct :: forall t r a. Num a =&gt; MatchCase t r a -&gt; a
product :: forall a. Num a =&gt; MatchCase t r a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144846"><span id="local-6989586621679144850"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b)
-&gt; (forall a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a)
-&gt; Functor (MatchCase t r)
forall a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
forall a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
forall t r a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
forall t r a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall t r a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
fmap :: forall a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
$c&lt;$ :: forall t r a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
&lt;$ :: forall a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144853"><span id="local-6989586621679144855"><span class="annot"><span class="annottext">(forall x. MatchCase t r a -&gt; Rep (MatchCase t r a) x)
-&gt; (forall x. Rep (MatchCase t r a) x -&gt; MatchCase t r a)
-&gt; Generic (MatchCase t r a)
forall x. Rep (MatchCase t r a) x -&gt; MatchCase t r a
forall x. MatchCase t r a -&gt; Rep (MatchCase t r a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall t r a x. Rep (MatchCase t r a) x -&gt; MatchCase t r a
forall t r a x. MatchCase t r a -&gt; Rep (MatchCase t r a) x
$cfrom :: forall t r a x. MatchCase t r a -&gt; Rep (MatchCase t r a) x
from :: forall x. MatchCase t r a -&gt; Rep (MatchCase t r a) x
$cto :: forall t r a x. Rep (MatchCase t r a) x -&gt; MatchCase t r a
to :: forall x. Rep (MatchCase t r a) x -&gt; MatchCase t r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144859"><span id="local-6989586621679144861"><span class="annot"><span class="annottext">(forall a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a)
-&gt; (forall a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a)
-&gt; Generic1 (MatchCase t r)
forall a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a
forall a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a
forall t r a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a
forall t r a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a
forall k (f :: k -&gt; *).
(forall (a :: k). f a -&gt; Rep1 f a)
-&gt; (forall (a :: k). Rep1 f a -&gt; f a) -&gt; Generic1 f
$cfrom1 :: forall t r a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a
from1 :: forall a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a
$cto1 :: forall t r a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a
to1 :: forall a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic1</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144869"><span id="local-6989586621679144876"><span id="local-6989586621679144881"><span id="local-6989586621679144886"><span class="annot"><span class="annottext">Functor (MatchCase t r)
Foldable (MatchCase t r)
(Functor (MatchCase t r), Foldable (MatchCase t r)) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    MatchCase t r (f a) -&gt; f (MatchCase t r a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    MatchCase t r (m a) -&gt; m (MatchCase t r a))
-&gt; Traversable (MatchCase t r)
forall t r. Functor (MatchCase t r)
forall t r. Foldable (MatchCase t r)
forall t r (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
forall t r (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
forall t r (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
forall t r (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
$ctraverse :: forall t r (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
$csequenceA :: forall t r (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
$cmapM :: forall t r (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
$csequence :: forall t r (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144894"><span id="local-6989586621679144902"><span id="local-6989586621679144905"><span class="annot"><span class="annottext">Int -&gt; MatchCase t r a -&gt; ShowS
[MatchCase t r a] -&gt; ShowS
MatchCase t r a -&gt; String
(Int -&gt; MatchCase t r a -&gt; ShowS)
-&gt; (MatchCase t r a -&gt; String)
-&gt; ([MatchCase t r a] -&gt; ShowS)
-&gt; Show (MatchCase t r a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall t r a.
(Show t, Show r, Show a) =&gt;
Int -&gt; MatchCase t r a -&gt; ShowS
forall t r a.
(Show t, Show r, Show a) =&gt;
[MatchCase t r a] -&gt; ShowS
forall t r a. (Show t, Show r, Show a) =&gt; MatchCase t r a -&gt; String
$cshowsPrec :: forall t r a.
(Show t, Show r, Show a) =&gt;
Int -&gt; MatchCase t r a -&gt; ShowS
showsPrec :: Int -&gt; MatchCase t r a -&gt; ShowS
$cshow :: forall t r a. (Show t, Show r, Show a) =&gt; MatchCase t r a -&gt; String
show :: MatchCase t r a -&gt; String
$cshowList :: forall t r a.
(Show t, Show r, Show a) =&gt;
[MatchCase t r a] -&gt; ShowS
showList :: [MatchCase t r a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">data</span><span> </span><span id="Pattern"><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-var">Pattern</span></a></span></span><span> </span><span id="local-6989586621679144290"><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679144291"><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PUnbound"><span class="annot"><a href="U.Codebase.Term.html#PUnbound"><span class="hs-identifier hs-var">PUnbound</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PVar"><span class="annot"><a href="U.Codebase.Term.html#PVar"><span class="hs-identifier hs-var">PVar</span></a></span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PBoolean"><span class="annot"><a href="U.Codebase.Term.html#PBoolean"><span class="hs-identifier hs-var">PBoolean</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PInt"><span class="annot"><a href="U.Codebase.Term.html#PInt"><span class="hs-identifier hs-var">PInt</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PNat"><span class="annot"><a href="U.Codebase.Term.html#PNat"><span class="hs-identifier hs-var">PNat</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PFloat"><span class="annot"><a href="U.Codebase.Term.html#PFloat"><span class="hs-identifier hs-var">PFloat</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PText"><span class="annot"><a href="U.Codebase.Term.html#PText"><span class="hs-identifier hs-var">PText</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PChar"><span class="annot"><a href="U.Codebase.Term.html#PChar"><span class="hs-identifier hs-var">PChar</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PConstructor"><span class="annot"><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-var">PConstructor</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PAs"><span class="annot"><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-var">PAs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PEffectPure"><span class="annot"><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-var">PEffectPure</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PEffectBind"><span class="annot"><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-var">PEffectBind</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PSequenceLiteral"><span class="annot"><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-var">PSequenceLiteral</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PSequenceOp"><span class="annot"><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-var">PSequenceOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="U.Codebase.Term.html#SeqOp"><span class="hs-identifier hs-type">SeqOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144290"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144291"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679144922"><span id="local-6989586621679144924"><span class="annot"><span class="annottext">(forall x. Pattern t r -&gt; Rep (Pattern t r) x)
-&gt; (forall x. Rep (Pattern t r) x -&gt; Pattern t r)
-&gt; Generic (Pattern t r)
forall x. Rep (Pattern t r) x -&gt; Pattern t r
forall x. Pattern t r -&gt; Rep (Pattern t r) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall t r x. Rep (Pattern t r) x -&gt; Pattern t r
forall t r x. Pattern t r -&gt; Rep (Pattern t r) x
$cfrom :: forall t r x. Pattern t r -&gt; Rep (Pattern t r) x
from :: forall x. Pattern t r -&gt; Rep (Pattern t r) x
$cto :: forall t r x. Rep (Pattern t r) x -&gt; Pattern t r
to :: forall x. Rep (Pattern t r) x -&gt; Pattern t r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144927"><span id="local-6989586621679144941"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b)
-&gt; (forall a b. a -&gt; Pattern t b -&gt; Pattern t a)
-&gt; Functor (Pattern t)
forall a b. a -&gt; Pattern t b -&gt; Pattern t a
forall a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
forall t a b. a -&gt; Pattern t b -&gt; Pattern t a
forall t a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall t a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
fmap :: forall a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
$c&lt;$ :: forall t a b. a -&gt; Pattern t b -&gt; Pattern t a
&lt;$ :: forall a b. a -&gt; Pattern t b -&gt; Pattern t a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679144954"><span id="local-6989586621679144960"><span id="local-6989586621679144997"><span id="local-6989586621679145002"><span id="local-6989586621679145015"><span id="local-6989586621679145018"><span id="local-6989586621679145021"><span id="local-6989586621679145024"><span id="local-6989586621679145027"><span id="local-6989586621679145030"><span id="local-6989586621679145033"><span id="local-6989586621679145041"><span id="local-6989586621679145044"><span id="local-6989586621679145049"><span id="local-6989586621679145054"><span id="local-6989586621679145059"><span id="local-6989586621679145064"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Pattern t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a)
-&gt; (forall a. Pattern t a -&gt; [a])
-&gt; (forall a. Pattern t a -&gt; Bool)
-&gt; (forall a. Pattern t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Pattern t a -&gt; a)
-&gt; (forall a. Ord a =&gt; Pattern t a -&gt; a)
-&gt; (forall a. Num a =&gt; Pattern t a -&gt; a)
-&gt; (forall a. Num a =&gt; Pattern t a -&gt; a)
-&gt; Foldable (Pattern t)
forall a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
forall a. Num a =&gt; Pattern t a -&gt; a
forall a. Ord a =&gt; Pattern t a -&gt; a
forall m. Monoid m =&gt; Pattern t m -&gt; m
forall a. Pattern t a -&gt; Bool
forall a. Pattern t a -&gt; Int
forall a. Pattern t a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
forall t a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
forall t a. Num a =&gt; Pattern t a -&gt; a
forall t a. Ord a =&gt; Pattern t a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
forall t m. Monoid m =&gt; Pattern t m -&gt; m
forall t a. Pattern t a -&gt; Bool
forall t a. Pattern t a -&gt; Int
forall t a. Pattern t a -&gt; [a]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall t a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
forall t m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
forall t b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall t a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall t m. Monoid m =&gt; Pattern t m -&gt; m
fold :: forall m. Monoid m =&gt; Pattern t m -&gt; m
$cfoldMap :: forall t m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
$cfoldMap' :: forall t m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
$cfoldr :: forall t a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldr' :: forall t a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldl :: forall t b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldl' :: forall t b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldr1 :: forall t a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
$cfoldl1 :: forall t a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
$ctoList :: forall t a. Pattern t a -&gt; [a]
toList :: forall a. Pattern t a -&gt; [a]
$cnull :: forall t a. Pattern t a -&gt; Bool
null :: forall a. Pattern t a -&gt; Bool
$clength :: forall t a. Pattern t a -&gt; Int
length :: forall a. Pattern t a -&gt; Int
$celem :: forall t a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
$cmaximum :: forall t a. Ord a =&gt; Pattern t a -&gt; a
maximum :: forall a. Ord a =&gt; Pattern t a -&gt; a
$cminimum :: forall t a. Ord a =&gt; Pattern t a -&gt; a
minimum :: forall a. Ord a =&gt; Pattern t a -&gt; a
$csum :: forall t a. Num a =&gt; Pattern t a -&gt; a
sum :: forall a. Num a =&gt; Pattern t a -&gt; a
$cproduct :: forall t a. Num a =&gt; Pattern t a -&gt; a
product :: forall a. Num a =&gt; Pattern t a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679145073"><span id="local-6989586621679145115"><span id="local-6989586621679145120"><span id="local-6989586621679145125"><span class="annot"><span class="annottext">Functor (Pattern t)
Foldable (Pattern t)
(Functor (Pattern t), Foldable (Pattern t)) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Pattern t (f a) -&gt; f (Pattern t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Pattern t (m a) -&gt; m (Pattern t a))
-&gt; Traversable (Pattern t)
forall t. Functor (Pattern t)
forall t. Foldable (Pattern t)
forall t (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
forall t (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
forall t (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
forall t (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
$ctraverse :: forall t (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
$csequenceA :: forall t (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
$cmapM :: forall t (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
$csequence :: forall t (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679145132"><span id="local-6989586621679145167"><span id="local-6989586621679145170"><span class="annot"><span class="annottext">Int -&gt; Pattern t r -&gt; ShowS
[Pattern t r] -&gt; ShowS
Pattern t r -&gt; String
(Int -&gt; Pattern t r -&gt; ShowS)
-&gt; (Pattern t r -&gt; String)
-&gt; ([Pattern t r] -&gt; ShowS)
-&gt; Show (Pattern t r)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall t r. (Show t, Show r) =&gt; Int -&gt; Pattern t r -&gt; ShowS
forall t r. (Show t, Show r) =&gt; [Pattern t r] -&gt; ShowS
forall t r. (Show t, Show r) =&gt; Pattern t r -&gt; String
$cshowsPrec :: forall t r. (Show t, Show r) =&gt; Int -&gt; Pattern t r -&gt; ShowS
showsPrec :: Int -&gt; Pattern t r -&gt; ShowS
$cshow :: forall t r. (Show t, Show r) =&gt; Pattern t r -&gt; String
show :: Pattern t r -&gt; String
$cshowList :: forall t r. (Show t, Show r) =&gt; [Pattern t r] -&gt; ShowS
showList :: [Pattern t r] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-keyword">data</span><span> </span><span id="SeqOp"><span class="annot"><a href="U.Codebase.Term.html#SeqOp"><span class="hs-identifier hs-var">SeqOp</span></a></span></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PCons"><span class="annot"><a href="U.Codebase.Term.html#PCons"><span class="hs-identifier hs-var">PCons</span></a></span></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PSnoc"><span class="annot"><a href="U.Codebase.Term.html#PSnoc"><span class="hs-identifier hs-var">PSnoc</span></a></span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PConcat"><span class="annot"><a href="U.Codebase.Term.html#PConcat"><span class="hs-identifier hs-var">PConcat</span></a></span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679145176"><span id="local-6989586621679145178"><span class="annot"><span class="annottext">SeqOp -&gt; SeqOp -&gt; Bool
(SeqOp -&gt; SeqOp -&gt; Bool) -&gt; (SeqOp -&gt; SeqOp -&gt; Bool) -&gt; Eq SeqOp
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SeqOp -&gt; SeqOp -&gt; Bool
== :: SeqOp -&gt; SeqOp -&gt; Bool
$c/= :: SeqOp -&gt; SeqOp -&gt; Bool
/= :: SeqOp -&gt; SeqOp -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679145183"><span id="local-6989586621679145185"><span id="local-6989586621679145188"><span class="annot"><span class="annottext">Int -&gt; SeqOp -&gt; ShowS
[SeqOp] -&gt; ShowS
SeqOp -&gt; String
(Int -&gt; SeqOp -&gt; ShowS)
-&gt; (SeqOp -&gt; String) -&gt; ([SeqOp] -&gt; ShowS) -&gt; Show SeqOp
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SeqOp -&gt; ShowS
showsPrec :: Int -&gt; SeqOp -&gt; ShowS
$cshow :: SeqOp -&gt; String
show :: SeqOp -&gt; String
$cshowList :: [SeqOp] -&gt; ShowS
showList :: [SeqOp] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="annot"><a href="U.Codebase.Term.html#extraMap"><span class="hs-identifier hs-type">extraMap</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-keyword">forall</span><span>
</span><span id="line-125"></span><span>    </span><span id="local-6989586621679144167"><span class="annot"><a href="#local-6989586621679144167"><span class="hs-identifier hs-type">text</span></a></span></span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621679144169"><span class="annot"><a href="#local-6989586621679144169"><span class="hs-identifier hs-type">termRef</span></a></span></span><span>
</span><span id="line-127"></span><span>    </span><span id="local-6989586621679144171"><span class="annot"><a href="#local-6989586621679144171"><span class="hs-identifier hs-type">typeRef</span></a></span></span><span>
</span><span id="line-128"></span><span>    </span><span id="local-6989586621679144173"><span class="annot"><a href="#local-6989586621679144173"><span class="hs-identifier hs-type">termLink</span></a></span></span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679144175"><span class="annot"><a href="#local-6989586621679144175"><span class="hs-identifier hs-type">typeLink</span></a></span></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679144177"><span class="annot"><a href="#local-6989586621679144177"><span class="hs-identifier hs-type">vt</span></a></span></span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679144168"><span class="annot"><a href="#local-6989586621679144168"><span class="hs-identifier hs-type">text'</span></a></span></span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679144170"><span class="annot"><a href="#local-6989586621679144170"><span class="hs-identifier hs-type">termRef'</span></a></span></span><span>
</span><span id="line-133"></span><span>    </span><span id="local-6989586621679144172"><span class="annot"><a href="#local-6989586621679144172"><span class="hs-identifier hs-type">typeRef'</span></a></span></span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679144174"><span class="annot"><a href="#local-6989586621679144174"><span class="hs-identifier hs-type">termLink'</span></a></span></span><span>
</span><span id="line-135"></span><span>    </span><span id="local-6989586621679144176"><span class="annot"><a href="#local-6989586621679144176"><span class="hs-identifier hs-type">typeLink'</span></a></span></span><span>
</span><span id="line-136"></span><span>    </span><span id="local-6989586621679144166"><span class="annot"><a href="#local-6989586621679144166"><span class="hs-identifier hs-type">vt'</span></a></span></span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679144165"><span class="annot"><a href="#local-6989586621679144165"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621679144178"><span class="annot"><a href="#local-6989586621679144178"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144165"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144166"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144167"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144168"><span class="hs-identifier hs-type">text'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144169"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144170"><span class="hs-identifier hs-type">termRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144171"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144172"><span class="hs-identifier hs-type">typeRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144173"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144174"><span class="hs-identifier hs-type">termLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144175"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144176"><span class="hs-identifier hs-type">typeLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144177"><span class="hs-identifier hs-type">vt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144166"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144167"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144169"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144171"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144173"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144175"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144177"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144178"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144168"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144170"><span class="hs-identifier hs-type">termRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144172"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144174"><span class="hs-identifier hs-type">termLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144176"><span class="hs-identifier hs-type">typeLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144166"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144178"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-148"></span><span id="extraMap"><span class="annot"><span class="annottext">extraMap :: forall text termRef typeRef termLink typeLink vt text' termRef'
       typeRef' termLink' typeLink' vt' v a.
(Ord v, Ord vt') =&gt;
(text -&gt; text')
-&gt; (termRef -&gt; termRef')
-&gt; (typeRef -&gt; typeRef')
-&gt; (termLink -&gt; termLink')
-&gt; (typeLink -&gt; typeLink')
-&gt; (vt -&gt; vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a
</span><a href="U.Codebase.Term.html#extraMap"><span class="hs-identifier hs-var hs-var">extraMap</span></a></span></span><span> </span><span id="local-6989586621679145204"><span class="annot"><span class="annottext">text -&gt; text'
</span><a href="#local-6989586621679145204"><span class="hs-identifier hs-var">ftext</span></a></span></span><span> </span><span id="local-6989586621679145205"><span class="annot"><span class="annottext">termRef -&gt; termRef'
</span><a href="#local-6989586621679145205"><span class="hs-identifier hs-var">ftermRef</span></a></span></span><span> </span><span id="local-6989586621679145206"><span class="annot"><span class="annottext">typeRef -&gt; typeRef'
</span><a href="#local-6989586621679145206"><span class="hs-identifier hs-var">ftypeRef</span></a></span></span><span> </span><span id="local-6989586621679145207"><span class="annot"><span class="annottext">termLink -&gt; termLink'
</span><a href="#local-6989586621679145207"><span class="hs-identifier hs-var">ftermLink</span></a></span></span><span> </span><span id="local-6989586621679145208"><span class="annot"><span class="annottext">typeLink -&gt; typeLink'
</span><a href="#local-6989586621679145208"><span class="hs-identifier hs-var">ftypeLink</span></a></span></span><span> </span><span id="local-6989586621679145209"><span class="annot"><span class="annottext">vt -&gt; vt'
</span><a href="#local-6989586621679145209"><span class="hs-identifier hs-var">fvt</span></a></span></span><span> </span><span id="local-6989586621679145210"><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><a href="#local-6989586621679145210"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><span class="annottext">Identity
  (Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
-&gt; Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a
forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">(Identity
   (Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
 -&gt; Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
-&gt; Identity
     (Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
-&gt; Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(text -&gt; Identity text')
-&gt; (termRef -&gt; Identity termRef')
-&gt; (typeRef -&gt; Identity typeRef')
-&gt; (termLink -&gt; Identity termLink')
-&gt; (typeLink -&gt; Identity typeLink')
-&gt; (vt -&gt; Identity vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; Identity
     (Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
forall (m :: * -&gt; *) text termRef typeRef termLink typeLink vt
       text' termRef' typeRef' termLink' typeLink' vt' v a.
(Ord v, Ord vt', Monad m) =&gt;
(text -&gt; m text')
-&gt; (termRef -&gt; m termRef')
-&gt; (typeRef -&gt; m typeRef')
-&gt; (termLink -&gt; m termLink')
-&gt; (typeLink -&gt; m typeLink')
-&gt; (vt -&gt; m vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="U.Codebase.Term.html#extraMapM"><span class="hs-identifier hs-var">extraMapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text' -&gt; Identity text'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(text' -&gt; Identity text')
-&gt; (text -&gt; text') -&gt; text -&gt; Identity text'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">text -&gt; text'
</span><a href="#local-6989586621679145204"><span class="hs-identifier hs-var">ftext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">termRef' -&gt; Identity termRef'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(termRef' -&gt; Identity termRef')
-&gt; (termRef -&gt; termRef') -&gt; termRef -&gt; Identity termRef'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">termRef -&gt; termRef'
</span><a href="#local-6989586621679145205"><span class="hs-identifier hs-var">ftermRef</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">typeRef' -&gt; Identity typeRef'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(typeRef' -&gt; Identity typeRef')
-&gt; (typeRef -&gt; typeRef') -&gt; typeRef -&gt; Identity typeRef'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; typeRef'
</span><a href="#local-6989586621679145206"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">termLink' -&gt; Identity termLink'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(termLink' -&gt; Identity termLink')
-&gt; (termLink -&gt; termLink') -&gt; termLink -&gt; Identity termLink'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">termLink -&gt; termLink'
</span><a href="#local-6989586621679145207"><span class="hs-identifier hs-var">ftermLink</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">typeLink' -&gt; Identity typeLink'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(typeLink' -&gt; Identity typeLink')
-&gt; (typeLink -&gt; typeLink') -&gt; typeLink -&gt; Identity typeLink'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">typeLink -&gt; typeLink'
</span><a href="#local-6989586621679145208"><span class="hs-identifier hs-var">ftypeLink</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vt' -&gt; Identity vt'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(vt' -&gt; Identity vt') -&gt; (vt -&gt; vt') -&gt; vt -&gt; Identity vt'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">vt -&gt; vt'
</span><a href="#local-6989586621679145209"><span class="hs-identifier hs-var">fvt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><a href="#local-6989586621679145210"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><a href="U.Codebase.Term.html#extraMapM"><span class="hs-identifier hs-type">extraMapM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-keyword">forall</span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621679144200"><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679144201"><span class="annot"><a href="#local-6989586621679144201"><span class="hs-identifier hs-type">text</span></a></span></span><span>
</span><span id="line-155"></span><span>    </span><span id="local-6989586621679144203"><span class="annot"><a href="#local-6989586621679144203"><span class="hs-identifier hs-type">termRef</span></a></span></span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621679144205"><span class="annot"><a href="#local-6989586621679144205"><span class="hs-identifier hs-type">typeRef</span></a></span></span><span>
</span><span id="line-157"></span><span>    </span><span id="local-6989586621679144207"><span class="annot"><a href="#local-6989586621679144207"><span class="hs-identifier hs-type">termLink</span></a></span></span><span>
</span><span id="line-158"></span><span>    </span><span id="local-6989586621679144209"><span class="annot"><a href="#local-6989586621679144209"><span class="hs-identifier hs-type">typeLink</span></a></span></span><span>
</span><span id="line-159"></span><span>    </span><span id="local-6989586621679144211"><span class="annot"><a href="#local-6989586621679144211"><span class="hs-identifier hs-type">vt</span></a></span></span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621679144202"><span class="annot"><a href="#local-6989586621679144202"><span class="hs-identifier hs-type">text'</span></a></span></span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621679144204"><span class="annot"><a href="#local-6989586621679144204"><span class="hs-identifier hs-type">termRef'</span></a></span></span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621679144206"><span class="annot"><a href="#local-6989586621679144206"><span class="hs-identifier hs-type">typeRef'</span></a></span></span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679144208"><span class="annot"><a href="#local-6989586621679144208"><span class="hs-identifier hs-type">termLink'</span></a></span></span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679144210"><span class="annot"><a href="#local-6989586621679144210"><span class="hs-identifier hs-type">typeLink'</span></a></span></span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621679144199"><span class="annot"><a href="#local-6989586621679144199"><span class="hs-identifier hs-type">vt'</span></a></span></span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621679144198"><span class="annot"><a href="#local-6989586621679144198"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-167"></span><span>    </span><span id="local-6989586621679144212"><span class="annot"><a href="#local-6989586621679144212"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144198"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144199"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144201"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144202"><span class="hs-identifier hs-type">text'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144203"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144204"><span class="hs-identifier hs-type">termRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144205"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144206"><span class="hs-identifier hs-type">typeRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144207"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144208"><span class="hs-identifier hs-type">termLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144209"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144210"><span class="hs-identifier hs-type">typeLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144211"><span class="hs-identifier hs-type">vt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144199"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144201"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144203"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144205"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144207"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144209"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144211"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144198"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144212"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144202"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144204"><span class="hs-identifier hs-type">termRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144206"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144208"><span class="hs-identifier hs-type">termLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144210"><span class="hs-identifier hs-type">typeLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144199"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144198"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144212"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span id="extraMapM"><span class="annot"><span class="annottext">extraMapM :: forall (m :: * -&gt; *) text termRef typeRef termLink typeLink vt
       text' termRef' typeRef' termLink' typeLink' vt' v a.
(Ord v, Ord vt', Monad m) =&gt;
(text -&gt; m text')
-&gt; (termRef -&gt; m termRef')
-&gt; (typeRef -&gt; m typeRef')
-&gt; (termLink -&gt; m termLink')
-&gt; (typeLink -&gt; m typeLink')
-&gt; (vt -&gt; m vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="U.Codebase.Term.html#extraMapM"><span class="hs-identifier hs-var hs-var">extraMapM</span></a></span></span><span> </span><span id="local-6989586621679145224"><span class="annot"><span class="annottext">text -&gt; m text'
</span><a href="#local-6989586621679145224"><span class="hs-identifier hs-var">ftext</span></a></span></span><span> </span><span id="local-6989586621679145225"><span class="annot"><span class="annottext">termRef -&gt; m termRef'
</span><a href="#local-6989586621679145225"><span class="hs-identifier hs-var">ftermRef</span></a></span></span><span> </span><span id="local-6989586621679145226"><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679145226"><span class="hs-identifier hs-var">ftypeRef</span></a></span></span><span> </span><span id="local-6989586621679145227"><span class="annot"><span class="annottext">termLink -&gt; m termLink'
</span><a href="#local-6989586621679145227"><span class="hs-identifier hs-var">ftermLink</span></a></span></span><span> </span><span id="local-6989586621679145228"><span class="annot"><span class="annottext">typeLink -&gt; m typeLink'
</span><a href="#local-6989586621679145228"><span class="hs-identifier hs-var">ftypeLink</span></a></span></span><span> </span><span id="local-6989586621679145229"><span class="annot"><span class="annottext">vt -&gt; m vt'
</span><a href="#local-6989586621679145229"><span class="hs-identifier hs-var">fvt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="#local-6989586621679145230"><span class="hs-identifier hs-var">go'</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>    </span><span id="local-6989586621679145230"><span class="annot"><span class="annottext">go' :: Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="#local-6989586621679145230"><span class="hs-identifier hs-var hs-var">go'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a1.
 F' text termRef typeRef termLink typeLink vt a1
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' a1))
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
forall v (m :: * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a.
(Ord v, Monad m, Traversable g) =&gt;
(forall a1. f a1 -&gt; m (g a1)) -&gt; Term f v a -&gt; m (Term g v a)
</span><span class="hs-identifier hs-var">ABT.transformM</span></span><span> </span><span class="annot"><span class="annottext">F' text termRef typeRef termLink typeLink vt a1
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' a1)
forall a1.
F' text termRef typeRef termLink typeLink vt a1
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' a1)
</span><a href="#local-6989586621679145232"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><a href="#local-6989586621679145232"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679145233"><span class="annot"><a href="#local-6989586621679145233"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144201"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144203"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144205"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144207"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144209"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144211"><span class="hs-identifier hs-type">vt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679145233"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144202"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144204"><span class="hs-identifier hs-type">termRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144206"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144208"><span class="hs-identifier hs-type">termLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144210"><span class="hs-identifier hs-type">typeLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144199"><span class="hs-identifier hs-type">vt'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679145233"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621679145232"><span class="annot"><span class="annottext">go :: forall a1.
F' text termRef typeRef termLink typeLink vt a1
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' a1)
</span><a href="#local-6989586621679145232"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span id="local-6989586621679145271"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679145271"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
Int64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-var">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679145271"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span id="local-6989586621679145272"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145272"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-var">Nat</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145272"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-type">Float</span></a></span><span> </span><span id="local-6989586621679145273"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679145273"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
Double -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-var">Float</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679145273"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-type">Boolean</span></a></span><span> </span><span id="local-6989586621679145274"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679145274"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
Bool -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-var">Boolean</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679145274"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span id="local-6989586621679145275"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679145275"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">text' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
text -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-var">Text</span></a></span><span> </span><span class="annot"><span class="annottext">(text' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m text'
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">text -&gt; m text'
</span><a href="#local-6989586621679145224"><span class="hs-identifier hs-var">ftext</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679145275"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span id="local-6989586621679145277"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679145277"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
Char -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-var">Char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679145277"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span id="local-6989586621679145278"><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679145278"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">termRef' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
termRef -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span> </span><span class="annot"><span class="annottext">(termRef' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m termRef'
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">termRef -&gt; m termRef'
</span><a href="#local-6989586621679145225"><span class="hs-identifier hs-var">ftermRef</span></a></span><span> </span><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679145278"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span id="local-6989586621679145279"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145279"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679145280"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145280"><span class="hs-identifier hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeRef'
-&gt; Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span><span> </span><span class="annot"><span class="annottext">(typeRef'
 -&gt; Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m typeRef'
-&gt; m (Word64
      -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679145226"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145279"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m Word64
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; m Word64
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145280"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679145281"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145281"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679145282"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145282"><span class="hs-identifier hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeRef'
-&gt; Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">(typeRef'
 -&gt; Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m typeRef'
-&gt; m (Word64
      -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679145226"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145281"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">m (Word64 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m Word64
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; m Word64
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145282"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-type">Handle</span></a></span><span> </span><span id="local-6989586621679145283"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145283"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679145284"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145284"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-var">Handle</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145283"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145284"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span id="local-6989586621679145285"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145285"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679145286"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145286"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145285"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145286"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-type">Ann</span></a></span><span> </span><span id="local-6989586621679145287"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145287"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679145288"><span class="annot"><span class="annottext">TypeR typeRef vt
</span><a href="#local-6989586621679145288"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x
-&gt; TypeR typeRef' vt'
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a
-&gt; TypeR typeRef vt
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-var">Ann</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145287"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeR typeRef' vt'
 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m (TypeR typeRef' vt')
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(vt -&gt; m vt') -&gt; TypeR typeRef vt -&gt; m (Term (F' typeRef) vt' ())
forall (m :: * -&gt; *) (f :: * -&gt; *) v2 v a.
(Applicative m, Traversable f, Foldable f, Ord v2) =&gt;
(v -&gt; m v2) -&gt; Term f v a -&gt; m (Term f v2 a)
</span><span class="hs-identifier hs-var">ABT.vmapM</span></span><span> </span><span class="annot"><span class="annottext">vt -&gt; m vt'
</span><a href="#local-6989586621679145229"><span class="hs-identifier hs-var">fvt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeR typeRef vt
</span><a href="#local-6989586621679145288"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">m (Term (F' typeRef) vt' ())
-&gt; (Term (F' typeRef) vt' () -&gt; m (TypeR typeRef' vt'))
-&gt; m (TypeR typeRef' vt')
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(typeRef -&gt; m typeRef')
-&gt; Term (F' typeRef) vt' () -&gt; m (TypeR typeRef' vt')
forall v (f :: * -&gt; *) r r' a.
(Ord v, Monad f) =&gt;
(r -&gt; f r') -&gt; Term (F' r) v a -&gt; f (Term (F' r') v a)
</span><a href="U.Codebase.Type.html#rmapM"><span class="hs-identifier hs-var">Type.rmapM</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679145226"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679145291"><span class="annot"><span class="annottext">Seq x
</span><a href="#local-6989586621679145291"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Seq x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
Seq a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">Seq x
</span><a href="#local-6989586621679145291"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-type">If</span></a></span><span> </span><span id="local-6989586621679145292"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145292"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679145293"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145293"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679145294"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145294"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-var">If</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145292"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145293"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145294"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-type">And</span></a></span><span> </span><span id="local-6989586621679145295"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145295"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679145296"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145296"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-var">And</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145295"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145296"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-type">Or</span></a></span><span> </span><span id="local-6989586621679145297"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145297"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679145298"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145298"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145297"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145298"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span id="local-6989586621679145299"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145299"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145299"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-type">LetRec</span></a></span><span> </span><span id="local-6989586621679145300"><span class="annot"><span class="annottext">[x]
</span><a href="#local-6989586621679145300"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679145301"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145301"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[x] -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
[a] -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-var">LetRec</span></a></span><span> </span><span class="annot"><span class="annottext">[x]
</span><a href="#local-6989586621679145300"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145301"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span> </span><span id="local-6989586621679145302"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145302"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679145303"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145303"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(F' text' termRef' typeRef' termLink' typeLink' vt' x
 -&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x))
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-var">Let</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145302"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145303"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span id="local-6989586621679145304"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145304"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679145305"><span class="annot"><span class="annottext">[MatchCase text typeRef x]
</span><a href="#local-6989586621679145305"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x
-&gt; [MatchCase text' typeRef' x]
-&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
a
-&gt; [MatchCase text typeRef a]
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-var">Match</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145304"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">([MatchCase text' typeRef' x]
 -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m [MatchCase text' typeRef' x]
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MatchCase text typeRef x -&gt; m (MatchCase text' typeRef' x))
-&gt; [MatchCase text typeRef x] -&gt; m [MatchCase text' typeRef' x]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">MatchCase text typeRef x -&gt; m (MatchCase text' typeRef' x)
forall x.
MatchCase text typeRef x -&gt; m (MatchCase text' typeRef' x)
</span><a href="#local-6989586621679145307"><span class="hs-identifier hs-var">goCase</span></a></span><span> </span><span class="annot"><span class="annottext">[MatchCase text typeRef x]
</span><a href="#local-6989586621679145305"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span> </span><span id="local-6989586621679145308"><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679145308"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">termLink' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="annot"><span class="annottext">(termLink' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m termLink'
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">termLink -&gt; m termLink'
</span><a href="#local-6989586621679145227"><span class="hs-identifier hs-var">ftermLink</span></a></span><span> </span><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679145308"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span id="local-6989586621679145309"><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679145309"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeLink' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x
forall text termRef typeRef termLink typeLink vt a.
typeLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span><span> </span><span class="annot"><span class="annottext">(typeLink' -&gt; F' text' termRef' typeRef' termLink' typeLink' vt' x)
-&gt; m typeLink'
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">typeLink -&gt; m typeLink'
</span><a href="#local-6989586621679145228"><span class="hs-identifier hs-var">ftypeLink</span></a></span><span> </span><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679145309"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span id="local-6989586621679144267"><span class="annot"><a href="#local-6989586621679145307"><span class="hs-identifier hs-type">goCase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144201"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144205"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144267"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144202"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144206"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144267"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679145307"><span class="annot"><span class="annottext">goCase :: forall x.
MatchCase text typeRef x -&gt; m (MatchCase text' typeRef' x)
</span><a href="#local-6989586621679145307"><span class="hs-identifier hs-var hs-var">goCase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span id="local-6989586621679145315"><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679145315"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679145316"><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679145316"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679145317"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145317"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern text' typeRef'
-&gt; Maybe x -&gt; x -&gt; MatchCase text' typeRef' x
forall t r a. Pattern t r -&gt; Maybe a -&gt; a -&gt; MatchCase t r a
</span><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-var">MatchCase</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern text' typeRef'
 -&gt; Maybe x -&gt; x -&gt; MatchCase text' typeRef' x)
-&gt; m (Pattern text' typeRef')
-&gt; m (Maybe x -&gt; x -&gt; MatchCase text' typeRef' x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef -&gt; m (Pattern text' typeRef')
</span><a href="#local-6989586621679145318"><span class="hs-identifier hs-var">goPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679145315"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">m (Maybe x -&gt; x -&gt; MatchCase text' typeRef' x)
-&gt; m (Maybe x) -&gt; m (x -&gt; MatchCase text' typeRef' x)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe x -&gt; m (Maybe x)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679145316"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">m (x -&gt; MatchCase text' typeRef' x)
-&gt; m x -&gt; m (MatchCase text' typeRef' x)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; m x
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679145317"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621679145318"><span class="annot"><span class="annottext">goPat :: Pattern text typeRef -&gt; m (Pattern text' typeRef')
</span><a href="#local-6989586621679145318"><span class="hs-identifier hs-var hs-var">goPat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(text -&gt; m text')
-&gt; (typeRef -&gt; m typeRef')
-&gt; Pattern text typeRef
-&gt; m (Pattern text' typeRef')
forall (m :: * -&gt; *) t t' r r'.
Applicative m =&gt;
(t -&gt; m t') -&gt; (r -&gt; m r') -&gt; Pattern t r -&gt; m (Pattern t' r')
</span><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-var">rmapPatternM</span></a></span><span> </span><span class="annot"><span class="annottext">text -&gt; m text'
</span><a href="#local-6989586621679145224"><span class="hs-identifier hs-var">ftext</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679145226"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span id="local-6989586621679144277"><span id="local-6989586621679144278"><span id="local-6989586621679144279"><span id="local-6989586621679144280"><span class="annot"><a href="U.Codebase.Term.html#rmapPattern"><span class="hs-identifier hs-type">rmapPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144277"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144278"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144279"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144280"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144277"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144279"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144278"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144280"><span class="hs-identifier hs-type">r'</span></a></span></span></span></span></span><span>
</span><span id="line-209"></span><span id="rmapPattern"><span class="annot"><span class="annottext">rmapPattern :: forall t t' r r'.
(t -&gt; t') -&gt; (r -&gt; r') -&gt; Pattern t r -&gt; Pattern t' r'
</span><a href="U.Codebase.Term.html#rmapPattern"><span class="hs-identifier hs-var hs-var">rmapPattern</span></a></span></span><span> </span><span id="local-6989586621679145324"><span class="annot"><span class="annottext">t -&gt; t'
</span><a href="#local-6989586621679145324"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span id="local-6989586621679145325"><span class="annot"><span class="annottext">r -&gt; r'
</span><a href="#local-6989586621679145325"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span id="local-6989586621679145326"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145326"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identity (Pattern t' r') -&gt; Pattern t' r'
forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">(Identity (Pattern t' r') -&gt; Pattern t' r')
-&gt; (Pattern t r -&gt; Identity (Pattern t' r'))
-&gt; Pattern t r
-&gt; Pattern t' r'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(t -&gt; Identity t')
-&gt; (r -&gt; Identity r') -&gt; Pattern t r -&gt; Identity (Pattern t' r')
forall (m :: * -&gt; *) t t' r r'.
Applicative m =&gt;
(t -&gt; m t') -&gt; (r -&gt; m r') -&gt; Pattern t r -&gt; m (Pattern t' r')
</span><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-var">rmapPatternM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t' -&gt; Identity t'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(t' -&gt; Identity t') -&gt; (t -&gt; t') -&gt; t -&gt; Identity t'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t'
</span><a href="#local-6989586621679145324"><span class="hs-identifier hs-var">ft</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r' -&gt; Identity r'
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(r' -&gt; Identity r') -&gt; (r -&gt; r') -&gt; r -&gt; Identity r'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r'
</span><a href="#local-6989586621679145325"><span class="hs-identifier hs-var">fr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Pattern t r -&gt; Pattern t' r') -&gt; Pattern t r -&gt; Pattern t' r'
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145326"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span id="local-6989586621679144272"><span id="local-6989586621679144273"><span id="local-6989586621679144274"><span id="local-6989586621679144275"><span id="local-6989586621679144276"><span class="annot"><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-type">rmapPatternM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679144272"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144273"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144274"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144275"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144276"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144273"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144275"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144274"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144276"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-212"></span><span id="rmapPatternM"><span class="annot"><span class="annottext">rmapPatternM :: forall (m :: * -&gt; *) t t' r r'.
Applicative m =&gt;
(t -&gt; m t') -&gt; (r -&gt; m r') -&gt; Pattern t r -&gt; m (Pattern t' r')
</span><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-var hs-var">rmapPatternM</span></a></span></span><span> </span><span id="local-6989586621679145359"><span class="annot"><span class="annottext">t -&gt; m t'
</span><a href="#local-6989586621679145359"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span id="local-6989586621679145360"><span class="annot"><span class="annottext">r -&gt; m r'
</span><a href="#local-6989586621679145360"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-214"></span><span>    </span><span id="local-6989586621679145361"><span class="annot"><span class="annottext">go :: Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="U.Codebase.Term.html#PUnbound"><span class="hs-identifier hs-var">PUnbound</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pattern t' r'
forall t r. Pattern t r
</span><a href="U.Codebase.Term.html#PUnbound"><span class="hs-identifier hs-var">PUnbound</span></a></span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="U.Codebase.Term.html#PVar"><span class="hs-identifier hs-var">PVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pattern t' r'
forall t r. Pattern t r
</span><a href="U.Codebase.Term.html#PVar"><span class="hs-identifier hs-var">PVar</span></a></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PBoolean"><span class="hs-identifier hs-type">PBoolean</span></a></span><span> </span><span id="local-6989586621679145362"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679145362"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Pattern t' r'
forall t r. Bool -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PBoolean"><span class="hs-identifier hs-var">PBoolean</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679145362"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PInt"><span class="hs-identifier hs-type">PInt</span></a></span><span> </span><span id="local-6989586621679145363"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679145363"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Pattern t' r'
forall t r. Int64 -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PInt"><span class="hs-identifier hs-var">PInt</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679145363"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PNat"><span class="hs-identifier hs-type">PNat</span></a></span><span> </span><span id="local-6989586621679145364"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145364"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Pattern t' r'
forall t r. Word64 -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PNat"><span class="hs-identifier hs-var">PNat</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145364"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-220"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PFloat"><span class="hs-identifier hs-type">PFloat</span></a></span><span> </span><span id="local-6989586621679145365"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679145365"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Pattern t' r'
forall t r. Double -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PFloat"><span class="hs-identifier hs-var">PFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679145365"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PText"><span class="hs-identifier hs-type">PText</span></a></span><span> </span><span id="local-6989586621679145366"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679145366"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t' -&gt; Pattern t' r'
forall t r. t -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PText"><span class="hs-identifier hs-var">PText</span></a></span><span> </span><span class="annot"><span class="annottext">(t' -&gt; Pattern t' r') -&gt; m t' -&gt; m (Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; m t'
</span><a href="#local-6989586621679145359"><span class="hs-identifier hs-var">ft</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679145366"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PChar"><span class="hs-identifier hs-type">PChar</span></a></span><span> </span><span id="local-6989586621679145367"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679145367"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; m (Pattern t' r')
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; m (Pattern t' r'))
-&gt; Pattern t' r' -&gt; m (Pattern t' r')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Pattern t' r'
forall t r. Char -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PChar"><span class="hs-identifier hs-var">PChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679145367"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-type">PConstructor</span></a></span><span> </span><span id="local-6989586621679145368"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679145368"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679145369"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145369"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679145370"><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679145370"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r' -&gt; Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r'
forall t r. r -&gt; Word64 -&gt; [Pattern t r] -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-var">PConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">(r' -&gt; Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r')
-&gt; m r' -&gt; m (Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r'
</span><a href="#local-6989586621679145360"><span class="hs-identifier hs-var">fr</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679145368"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">m (Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r')
-&gt; m Word64 -&gt; m ([Pattern t' r'] -&gt; Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; m Word64
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145369"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">m ([Pattern t' r'] -&gt; Pattern t' r')
-&gt; m [Pattern t' r'] -&gt; m (Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pattern t r -&gt; m (Pattern t' r'))
-&gt; [Pattern t r] -&gt; m [Pattern t' r']
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679145370"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-type">PAs</span></a></span><span> </span><span id="local-6989586621679145371"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145371"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; Pattern t' r'
forall t r. Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-var">PAs</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; Pattern t' r')
-&gt; m (Pattern t' r') -&gt; m (Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145371"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-type">PEffectPure</span></a></span><span> </span><span id="local-6989586621679145372"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145372"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; Pattern t' r'
forall t r. Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-var">PEffectPure</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; Pattern t' r')
-&gt; m (Pattern t' r') -&gt; m (Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145372"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-type">PEffectBind</span></a></span><span> </span><span id="local-6989586621679145373"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679145373"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679145374"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145374"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679145375"><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679145375"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679145376"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145376"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r' -&gt; Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r' -&gt; Pattern t' r'
forall t r.
r -&gt; Word64 -&gt; [Pattern t r] -&gt; Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-var">PEffectBind</span></a></span><span> </span><span class="annot"><span class="annottext">(r' -&gt; Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r' -&gt; Pattern t' r')
-&gt; m r'
-&gt; m (Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r' -&gt; Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r'
</span><a href="#local-6989586621679145360"><span class="hs-identifier hs-var">fr</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679145373"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">m (Word64 -&gt; [Pattern t' r'] -&gt; Pattern t' r' -&gt; Pattern t' r')
-&gt; m Word64
-&gt; m ([Pattern t' r'] -&gt; Pattern t' r' -&gt; Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; m Word64
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145374"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">m ([Pattern t' r'] -&gt; Pattern t' r' -&gt; Pattern t' r')
-&gt; m [Pattern t' r'] -&gt; m (Pattern t' r' -&gt; Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t r -&gt; m (Pattern t' r'))
-&gt; [Pattern t r] -&gt; m [Pattern t' r']
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679145375"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">m (Pattern t' r' -&gt; Pattern t' r')
-&gt; m (Pattern t' r') -&gt; m (Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145376"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-type">PSequenceLiteral</span></a></span><span> </span><span id="local-6989586621679145377"><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679145377"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pattern t' r'] -&gt; Pattern t' r'
forall t r. [Pattern t r] -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-var">PSequenceLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">([Pattern t' r'] -&gt; Pattern t' r')
-&gt; m [Pattern t' r'] -&gt; m (Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t r -&gt; m (Pattern t' r'))
-&gt; [Pattern t r] -&gt; m [Pattern t' r']
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679145377"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-type">PSequenceOp</span></a></span><span> </span><span id="local-6989586621679145378"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145378"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679145379"><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679145379"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621679145380"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145380"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t' r' -&gt; SeqOp -&gt; Pattern t' r' -&gt; Pattern t' r'
forall t r. Pattern t r -&gt; SeqOp -&gt; Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-var">PSequenceOp</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern t' r' -&gt; SeqOp -&gt; Pattern t' r' -&gt; Pattern t' r')
-&gt; m (Pattern t' r') -&gt; m (SeqOp -&gt; Pattern t' r' -&gt; Pattern t' r')
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145378"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">m (SeqOp -&gt; Pattern t' r' -&gt; Pattern t' r')
-&gt; m SeqOp -&gt; m (Pattern t' r' -&gt; Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SeqOp -&gt; m SeqOp
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679145379"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">m (Pattern t' r' -&gt; Pattern t' r')
-&gt; m (Pattern t' r') -&gt; m (Pattern t' r')
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679145361"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679145380"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span id="local-6989586621679144292"><span id="local-6989586621679144293"><span id="local-6989586621679144294"><span id="local-6989586621679144295"><span id="local-6989586621679144296"><span id="local-6989586621679144297"><span id="local-6989586621679144298"><span id="local-6989586621679144299"><span class="annot"><a href="U.Codebase.Term.html#dependencies"><span class="hs-identifier hs-type">dependencies</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144292"><span class="hs-identifier hs-type">termRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144293"><span class="hs-identifier hs-type">typeRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144294"><span class="hs-identifier hs-type">termLink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144295"><span class="hs-identifier hs-type">typeLink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679144296"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144297"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144292"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144293"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144294"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144295"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144298"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144296"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144299"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679144292"><span class="hs-identifier hs-type">termRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679144293"><span class="hs-identifier hs-type">typeRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679144294"><span class="hs-identifier hs-type">termLink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679144295"><span class="hs-identifier hs-type">typeLink</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-234"></span><span id="dependencies"><span class="annot"><span class="annottext">dependencies :: forall termRef typeRef termLink typeLink v text vt a.
(Ord termRef, Ord typeRef, Ord termLink, Ord typeLink, Ord v) =&gt;
Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; (Set termRef, Set typeRef, Set termLink, Set typeLink)
</span><a href="U.Codebase.Term.html#dependencies"><span class="hs-identifier hs-var hs-var">dependencies</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><span class="annottext">Writer
  (Set termRef, Set typeRef, Set termLink, Set typeLink)
  (Term (F' text termRef typeRef termLink typeLink vt) v a)
-&gt; (Set termRef, Set typeRef, Set termLink, Set typeLink)
forall w a. Writer w a -&gt; w
</span><span class="hs-identifier hs-var">Writer.execWriter</span></span><span> </span><span class="annot"><span class="annottext">(Writer
   (Set termRef, Set typeRef, Set termLink, Set typeLink)
   (Term (F' text termRef typeRef termLink typeLink vt) v a)
 -&gt; (Set termRef, Set typeRef, Set termLink, Set typeLink))
-&gt; (Term (F' text termRef typeRef termLink typeLink vt) v a
    -&gt; Writer
         (Set termRef, Set typeRef, Set termLink, Set typeLink)
         (Term (F' text termRef typeRef termLink typeLink vt) v a))
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; (Set termRef, Set typeRef, Set termLink, Set typeLink)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(F'
   text
   termRef
   typeRef
   termLink
   typeLink
   vt
   (Term (F' text termRef typeRef termLink typeLink vt) v a)
 -&gt; WriterT
      (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ())
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; Writer
     (Set termRef, Set typeRef, Set termLink, Set typeLink)
     (Term (F' text termRef typeRef termLink typeLink vt) v a)
forall (f :: * -&gt; *) (g :: * -&gt; *) v a.
(Traversable f, Applicative g, Ord v) =&gt;
(f (Term f v a) -&gt; g ()) -&gt; Term f v a -&gt; g (Term f v a)
</span><span class="hs-identifier hs-var">ABT.visit_</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span id="local-6989586621679145433"><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679145433"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">termRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {b} {c} {d} {m :: * -&gt; *}.
(MonadWriter (Set a, b, c, d) m, Monoid b, Monoid c, Monoid d,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145434"><span class="hs-identifier hs-var">termRef</span></a></span><span> </span><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679145433"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span id="local-6989586621679145435"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145435"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145436"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145435"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679145437"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145437"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145436"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145437"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679145438"><span class="annot"><span class="annottext">[MatchCase
   text
   typeRef
   (Term (F' text termRef typeRef termLink typeLink vt) v a)]
</span><a href="#local-6989586621679145438"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[MatchCase
   text
   typeRef
   (Term (F' text termRef typeRef termLink typeLink vt) v a)]
-&gt; (MatchCase
      text
      typeRef
      (Term (F' text termRef typeRef termLink typeLink vt) v a)
    -&gt; WriterT
         (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ())
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.for_</span></span><span> </span><span class="annot"><span class="annottext">[MatchCase
   text
   typeRef
   (Term (F' text termRef typeRef termLink typeLink vt) v a)]
</span><a href="#local-6989586621679145438"><span class="hs-identifier hs-var">cases</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span id="local-6989586621679145440"><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679145440"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621679145441"><span class="annot"><span class="annottext">Maybe (Term (F' text termRef typeRef termLink typeLink vt) v a)
</span><a href="#local-6989586621679145441"><span class="hs-identifier hs-var">_guard</span></a></span></span><span> </span><span id="local-6989586621679145442"><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><a href="#local-6989586621679145442"><span class="hs-identifier hs-var">_body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {t}.
Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679145440"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>          </span><span id="local-6989586621679145443"><span class="annot"><span class="annottext">go :: Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-243"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-type">PConstructor</span></a></span><span> </span><span id="local-6989586621679145486"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145486"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679145487"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145487"><span class="hs-identifier hs-var">_i</span></a></span></span><span> </span><span id="local-6989586621679145488"><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679145488"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145436"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145486"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall a b.
WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity a
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t typeRef
 -&gt; WriterT
      (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ())
-&gt; [Pattern t typeRef]
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.traverse_</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679145488"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-244"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-type">PAs</span></a></span><span> </span><span id="local-6989586621679145490"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145490"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145490"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-245"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-type">PEffectPure</span></a></span><span> </span><span id="local-6989586621679145491"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145491"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145491"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-246"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-type">PEffectBind</span></a></span><span> </span><span id="local-6989586621679145492"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145492"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679145493"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145493"><span class="hs-identifier hs-var">_i</span></a></span></span><span> </span><span id="local-6989586621679145494"><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679145494"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621679145495"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145495"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145436"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679145492"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall a b.
WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity a
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Pattern t typeRef
 -&gt; WriterT
      (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ())
-&gt; [Pattern t typeRef]
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.traverse_</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679145494"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall a b.
WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity a
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145495"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-type">PSequenceLiteral</span></a></span><span> </span><span id="local-6989586621679145496"><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679145496"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Pattern t typeRef
 -&gt; WriterT
      (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ())
-&gt; [Pattern t typeRef]
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.traverse_</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679145496"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-248"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-type">PSequenceOp</span></a></span><span> </span><span id="local-6989586621679145497"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145497"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679145498"><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679145498"><span class="hs-identifier hs-var">_op</span></a></span></span><span> </span><span id="local-6989586621679145499"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145499"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145497"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall a b.
WriterT
  (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity a
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679145443"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679145499"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-249"></span><span>            </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall a.
a
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span> </span><span id="local-6989586621679145500"><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679145500"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">termLink
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {b} {a} {d} {m :: * -&gt; *}.
(MonadWriter (a, b, Set a, d) m, Monoid a, Monoid b, Monoid d,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145501"><span class="hs-identifier hs-var">termLink</span></a></span><span> </span><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679145500"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span id="local-6989586621679145502"><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679145502"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">typeLink
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall {a} {b} {c} {a} {m :: * -&gt; *}.
(MonadWriter (a, b, c, Set a) m, Monoid a, Monoid b, Monoid c,
 Ord a) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679145503"><span class="hs-identifier hs-var">typeLink</span></a></span><span> </span><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679145502"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><span class="annottext">F'
  text
  termRef
  typeRef
  termLink
  typeLink
  vt
  (Term (F' text termRef typeRef termLink typeLink vt) v a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
forall a.
a
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679145434"><span class="annot"><span class="annottext">termRef :: a -&gt; m ()
</span><a href="#local-6989586621679145434"><span class="hs-identifier hs-var hs-var">termRef</span></a></span></span><span> </span><span id="local-6989586621679145534"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145534"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Set a, b, c, d) -&gt; m ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Set a
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145534"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">d
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679145436"><span class="annot"><span class="annottext">typeRef :: a -&gt; m ()
</span><a href="#local-6989586621679145436"><span class="hs-identifier hs-var hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679145565"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145565"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Set a, c, d) -&gt; m ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; Set a
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145565"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">d
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>    </span><span id="local-6989586621679145501"><span class="annot"><span class="annottext">termLink :: a -&gt; m ()
</span><a href="#local-6989586621679145501"><span class="hs-identifier hs-var hs-var">termLink</span></a></span></span><span> </span><span id="local-6989586621679145594"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145594"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, b, Set a, d) -&gt; m ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; Set a
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145594"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">d
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>    </span><span id="local-6989586621679145503"><span class="annot"><span class="annottext">typeLink :: a -&gt; m ()
</span><a href="#local-6989586621679145503"><span class="hs-identifier hs-var hs-var">typeLink</span></a></span></span><span> </span><span id="local-6989586621679145623"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145623"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, b, c, Set a) -&gt; m ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; Set a
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679145623"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-comment">-- | Given the pieces of a single term component,</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- replaces all 'Nothing' self-referential hashes with a variable reference</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- to the relevant piece of the component in the component map.</span><span>
</span><span id="line-262"></span><span class="annot"><a href="U.Codebase.Term.html#unhashComponent"><span class="hs-identifier hs-type">unhashComponent</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679144372"><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679144377"><span class="annot"><a href="#local-6989586621679144377"><span class="hs-identifier hs-type">extra</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ABT.Var</span></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The hash of the component, this is used to fill in self-references.</span></span><span>
</span><span id="line-266"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function to convert a reference to a variable. The actual var names aren't important.</span></span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-comment">-- A SINGLE term component. Self references should have a 'Nothing' hash in term</span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-comment">-- references/term links</span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679144377"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The component with all self-references replaced with variable references.</span></span><span>
</span><span id="line-273"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679144377"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span id="unhashComponent"><span class="annot"><span class="annottext">unhashComponent :: forall v extra.
Var v =&gt;
Hash
-&gt; (Id -&gt; v)
-&gt; Map Id (Term v, extra)
-&gt; Map Id (v, HashableTerm v, extra)
</span><a href="U.Codebase.Term.html#unhashComponent"><span class="hs-identifier hs-var hs-var">unhashComponent</span></a></span></span><span> </span><span id="local-6989586621679145708"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679145708"><span class="hs-identifier hs-var">componentHash</span></a></span></span><span> </span><span id="local-6989586621679145709"><span class="annot"><span class="annottext">Id -&gt; v
</span><a href="#local-6989586621679145709"><span class="hs-identifier hs-var">refToVar</span></a></span></span><span> </span><span id="local-6989586621679145710"><span class="annot"><span class="annottext">Map Id (Term v, extra)
</span><a href="#local-6989586621679145710"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
</span><a href="#local-6989586621679145711"><span class="hs-identifier hs-var">withGeneratedVars</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
-&gt; (Map Id (v, Term v, extra) -&gt; Map Id (v, HashableTerm v, extra))
-&gt; Map Id (v, HashableTerm v, extra)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">((v, Term v, extra) -&gt; Identity (v, HashableTerm v, extra))
-&gt; Map Id (v, Term v, extra)
-&gt; Identity (Map Id (v, HashableTerm v, extra))
forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
IndexedTraversal
  Int
  (Map Id (v, Term v, extra))
  (Map Id (v, HashableTerm v, extra))
  (v, Term v, extra)
  (v, HashableTerm v, extra)
</span><span class="hs-identifier hs-var">traversed</span></span><span> </span><span class="annot"><span class="annottext">(((v, Term v, extra) -&gt; Identity (v, HashableTerm v, extra))
 -&gt; Map Id (v, Term v, extra)
 -&gt; Identity (Map Id (v, HashableTerm v, extra)))
-&gt; ((Term v -&gt; Identity (HashableTerm v))
    -&gt; (v, Term v, extra) -&gt; Identity (v, HashableTerm v, extra))
-&gt; (Term v -&gt; Identity (HashableTerm v))
-&gt; Map Id (v, Term v, extra)
-&gt; Identity (Map Id (v, HashableTerm v, extra))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Term v -&gt; Identity (HashableTerm v))
-&gt; (v, Term v, extra) -&gt; Identity (v, HashableTerm v, extra)
forall s t a b. Field2 s t a b =&gt; Lens s t a b
Lens
  (v, Term v, extra)
  (v, HashableTerm v, extra)
  (Term v)
  (HashableTerm v)
</span><span class="hs-identifier hs-var">_2</span></span><span> </span><span class="annot"><span class="annottext">((Term v -&gt; Identity (HashableTerm v))
 -&gt; Map Id (v, Term v, extra)
 -&gt; Identity (Map Id (v, HashableTerm v, extra)))
-&gt; (Term v -&gt; HashableTerm v)
-&gt; Map Id (v, Term v, extra)
-&gt; Map Id (v, HashableTerm v, extra)
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">Term v -&gt; HashableTerm v
</span><a href="#local-6989586621679145716"><span class="hs-identifier hs-var">fillSelfReferences</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><a href="#local-6989586621679145717"><span class="hs-identifier hs-type">usedVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span id="local-6989586621679145717"><span class="annot"><span class="annottext">usedVars :: Set v
</span><a href="#local-6989586621679145717"><span class="hs-identifier hs-var hs-var">usedVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Term v, extra) -&gt; Set v) -&gt; Map Id (Term v, extra) -&gt; Set v
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Map Id a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">([v] -&gt; Set v)
-&gt; ((Term v, extra) -&gt; [v]) -&gt; (Term v, extra) -&gt; Set v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Term v -&gt; [v]
forall (f :: * -&gt; *) v a. Foldable f =&gt; Term f v a -&gt; [v]
</span><span class="hs-identifier hs-var">ABT.allVars</span></span><span> </span><span class="annot"><span class="annottext">(Term v -&gt; [v])
-&gt; ((Term v, extra) -&gt; Term v) -&gt; (Term v, extra) -&gt; [v]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Term v, extra) -&gt; Term v
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Id (Term v, extra)
</span><a href="#local-6989586621679145710"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><a href="#local-6989586621679145711"><span class="hs-identifier hs-type">withGeneratedVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679144377"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679145711"><span class="annot"><span class="annottext">withGeneratedVars :: Map Id (v, Term v, extra)
</span><a href="#local-6989586621679145711"><span class="hs-identifier hs-var hs-var">withGeneratedVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (Set v) (Map Id (v, Term v, extra))
-&gt; Set v -&gt; Map Id (v, Term v, extra)
forall s a. State s a -&gt; s -&gt; a
</span><span class="hs-identifier hs-var">evalState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Id
 -&gt; (Term v, extra) -&gt; StateT (Set v) Identity (v, Term v, extra))
-&gt; Map Id (Term v, extra)
-&gt; State (Set v) (Map Id (v, Term v, extra))
forall (t :: * -&gt; *) k a b.
Applicative t =&gt;
(k -&gt; a -&gt; t b) -&gt; Map k a -&gt; t (Map k b)
</span><span class="hs-identifier hs-var">Map.traverseWithKey</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; (Term v, extra) -&gt; StateT (Set v) Identity (v, Term v, extra)
forall trm.
Id -&gt; (trm, extra) -&gt; StateT (Set v) Identity (v, trm, extra)
</span><a href="#local-6989586621679145724"><span class="hs-identifier hs-var">assignVar</span></a></span><span> </span><span class="annot"><span class="annottext">Map Id (Term v, extra)
</span><a href="#local-6989586621679145710"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621679145717"><span class="hs-identifier hs-var">usedVars</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621679144436"><span class="annot"><a href="#local-6989586621679145724"><span class="hs-identifier hs-type">assignVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144436"><span class="hs-identifier hs-type">trm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679144377"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679144436"><span class="hs-identifier hs-type">trm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679144377"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-283"></span><span>    </span><span id="local-6989586621679145724"><span class="annot"><span class="annottext">assignVar :: forall trm.
Id -&gt; (trm, extra) -&gt; StateT (Set v) Identity (v, trm, extra)
</span><a href="#local-6989586621679145724"><span class="hs-identifier hs-var hs-var">assignVar</span></a></span></span><span> </span><span id="local-6989586621679145730"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621679145730"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679145731"><span class="annot"><span class="annottext">trm
</span><a href="#local-6989586621679145731"><span class="hs-identifier hs-var">trm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679145732"><span class="annot"><span class="annottext">extra
</span><a href="#local-6989586621679145732"><span class="hs-identifier hs-var">extra</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">trm
</span><a href="#local-6989586621679145731"><span class="hs-identifier hs-var">trm</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">extra
</span><a href="#local-6989586621679145732"><span class="hs-identifier hs-var">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(v -&gt; (v, trm, extra))
-&gt; StateT (Set v) Identity v
-&gt; StateT (Set v) Identity (v, trm, extra)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; StateT (Set v) Identity v
forall v (m :: * -&gt; *). (Var v, MonadState (Set v) m) =&gt; v -&gt; m v
</span><span class="hs-identifier hs-var">ABT.freshenS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; v
</span><a href="#local-6989586621679145709"><span class="hs-identifier hs-var">refToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621679145730"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>    </span><span class="annot"><a href="#local-6989586621679145716"><span class="hs-identifier hs-type">fillSelfReferences</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621679145716"><span class="annot"><span class="annottext">fillSelfReferences :: Term v -&gt; HashableTerm v
</span><a href="#local-6989586621679145716"><span class="hs-identifier hs-var hs-var">fillSelfReferences</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Algebra (Term' (F v) v ()) (HashableTerm v)
-&gt; Term v -&gt; HashableTerm v
forall a. Algebra (Term' (F v) v ()) a -&gt; Term v -&gt; a
forall t (f :: * -&gt; *) a. Recursive t f =&gt; Algebra f a -&gt; t -&gt; a
</span><span class="hs-identifier hs-var">cata</span></span><span> </span><span class="annot"><span class="annottext">Algebra (Term' (F v) v ()) (HashableTerm v)
</span><a href="#local-6989586621679145735"><span class="hs-identifier hs-var">alg</span></a></span><span>
</span><span id="line-286"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><a href="#local-6989586621679145736"><span class="hs-identifier hs-type">rewriteTermReference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Reference</span></span><span>
</span><span id="line-288"></span><span>        </span><span id="local-6989586621679145736"><span class="annot"><span class="annottext">rewriteTermReference :: Id' (Maybe Hash) -&gt; Either v HashableTermRef
</span><a href="#local-6989586621679145736"><span class="hs-identifier hs-var hs-var">rewriteTermReference</span></a></span></span><span> </span><span id="local-6989586621679145737"><span class="annot"><span class="annottext">rid :: Id' (Maybe Hash)
</span><a href="#local-6989586621679145737"><span class="hs-identifier hs-var">rid</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span id="local-6989586621679145739"><span class="annot"><span class="annottext">Maybe Hash
</span><a href="#local-6989586621679145739"><span class="hs-identifier hs-var">mayH</span></a></span></span><span> </span><span id="local-6989586621679145740"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145740"><span class="hs-identifier hs-var">pos</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-289"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Hash
</span><a href="#local-6989586621679145739"><span class="hs-identifier hs-var">mayH</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-290"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679145741"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679145741"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-291"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Map Id (v, Term v, extra) -&gt; Maybe (v, Term v, extra)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Word64 -&gt; Id
forall h. h -&gt; Word64 -&gt; Id' h
</span><span class="hs-identifier hs-var">Reference.Id</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679145741"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145740"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
</span><a href="#local-6989586621679145711"><span class="hs-identifier hs-var">withGeneratedVars</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-292"></span><span>                </span><span class="hs-comment">-- No entry in the component map, so this is NOT a self-reference, keep it but</span><span>
</span><span id="line-293"></span><span>                </span><span class="hs-comment">-- replace the 'Maybe Hash' with a 'Hash'.</span><span>
</span><span id="line-294"></span><span>                </span><span class="annot"><span class="annottext">Maybe (v, Term v, extra)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashableTermRef -&gt; Either v HashableTermRef
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; HashableTermRef
forall t h. Id' h -&gt; Reference' t h
</span><span class="hs-identifier hs-var">Reference.ReferenceDerived</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Word64 -&gt; Id
forall h. h -&gt; Word64 -&gt; Id' h
</span><span class="hs-identifier hs-var">Reference.Id</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679145741"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145740"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>                </span><span class="hs-comment">-- Entry in the component map, so this is a self-reference, replace it with a</span><span>
</span><span id="line-296"></span><span>                </span><span class="hs-comment">-- Var.</span><span>
</span><span id="line-297"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679145744"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145744"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term v
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">extra
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; Either v HashableTermRef
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145744"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-298"></span><span>            </span><span class="annot"><span class="annottext">Maybe Hash
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-299"></span><span>              </span><span class="hs-comment">-- This is a self-reference, so we expect to find it in the component map.</span><span>
</span><span id="line-300"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Map Id (v, Term v, extra) -&gt; Maybe (v, Term v, extra)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Maybe Hash -&gt; Hash
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679145708"><span class="hs-identifier hs-var">componentHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Hash -&gt; Hash) -&gt; Id' (Maybe Hash) -&gt; Id
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679145737"><span class="hs-identifier hs-var">rid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
</span><a href="#local-6989586621679145711"><span class="hs-identifier hs-var">withGeneratedVars</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-301"></span><span>                </span><span class="annot"><span class="annottext">Maybe (v, Term v, extra)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either v HashableTermRef
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unhashComponent: self-reference not found in component map&quot;</span></span><span>
</span><span id="line-302"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679145747"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145747"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term v
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">extra
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; Either v HashableTermRef
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145747"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span class="annot"><a href="#local-6989586621679145735"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679144372"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span id="local-6989586621679145735"><span class="annot"><span class="annottext">alg :: Algebra (Term' (F v) v ()) (HashableTerm v)
</span><a href="#local-6989586621679145735"><span class="hs-identifier hs-var hs-var">alg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ABT.Term'</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679145749"><span class="annot"><span class="annottext">ABT (F v) v (HashableTerm v)
</span><a href="#local-6989586621679145749"><span class="hs-identifier hs-var">abt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ABT (F v) v (HashableTerm v)
</span><a href="#local-6989586621679145749"><span class="hs-identifier hs-var">abt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Var</span></span><span> </span><span id="local-6989586621679145751"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145751"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; v -&gt; HashableTerm v
forall a v (f :: * -&gt; *). a -&gt; v -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145751"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Cycle</span></span><span> </span><span id="local-6989586621679145754"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145754"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; HashableTerm v -&gt; HashableTerm v
forall a (f :: * -&gt; *) v. a -&gt; Term f v a -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.cycle</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145754"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Abs</span></span><span> </span><span id="local-6989586621679145757"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145757"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679145758"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145758"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; v -&gt; HashableTerm v -&gt; HashableTerm v
forall v a (f :: * -&gt; *).
Ord v =&gt;
a -&gt; v -&gt; Term f v a -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.abs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679145757"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145758"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-308"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Tm</span></span><span> </span><span id="local-6989586621679145761"><span class="annot"><span class="annottext">F v (HashableTerm v)
</span><a href="#local-6989586621679145761"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">F v (HashableTerm v)
</span><a href="#local-6989586621679145761"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-309"></span><span>            </span><span class="hs-comment">-- Check refs to see if they refer to the current component, replace them with</span><span>
</span><span id="line-310"></span><span>            </span><span class="hs-comment">-- vars if they do.</span><span>
</span><span id="line-311"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceDerived</span></span><span> </span><span id="local-6989586621679145762"><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679145762"><span class="hs-identifier hs-var">rid</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-312"></span><span>              </span><span class="annot"><span class="annottext">Id' (Maybe Hash) -&gt; Either v HashableTermRef
</span><a href="#local-6989586621679145736"><span class="hs-identifier hs-var">rewriteTermReference</span></a></span><span> </span><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679145762"><span class="hs-identifier hs-var">rid</span></a></span><span>
</span><span id="line-313"></span><span>                </span><span class="annot"><span class="annottext">Either v HashableTermRef
-&gt; (Either v HashableTermRef -&gt; HashableTerm v) -&gt; HashableTerm v
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(v -&gt; HashableTerm v)
-&gt; (HashableTermRef -&gt; HashableTerm v)
-&gt; Either v HashableTermRef
-&gt; HashableTerm v
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; v -&gt; HashableTerm v
forall a v (f :: * -&gt; *). a -&gt; v -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; (HashableTermRef
    -&gt; F'
         Text
         HashableTermRef
         HashableTermRef
         HashableTermLink
         HashableTermRef
         v
         (HashableTerm v))
-&gt; HashableTermRef
-&gt; HashableTerm v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
termRef -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceBuiltin</span></span><span> </span><span id="local-6989586621679145766"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679145766"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-315"></span><span>              </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
termRef -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; HashableTermRef
forall t h. t -&gt; Reference' t h
</span><span class="hs-identifier hs-var">Reference.ReferenceBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679145766"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span> </span><span id="local-6989586621679145767"><span class="annot"><span class="annottext">TermLink
</span><a href="#local-6989586621679145767"><span class="hs-identifier hs-var">referent</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TermLink
</span><a href="#local-6989586621679145767"><span class="hs-identifier hs-var">referent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-317"></span><span>              </span><span class="annot"><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-type">Referent.Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceDerived</span></span><span> </span><span id="local-6989586621679145769"><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679145769"><span class="hs-identifier hs-var">rid</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-318"></span><span>                </span><span class="annot"><span class="annottext">Id' (Maybe Hash) -&gt; Either v HashableTermRef
</span><a href="#local-6989586621679145736"><span class="hs-identifier hs-var">rewriteTermReference</span></a></span><span> </span><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679145769"><span class="hs-identifier hs-var">rid</span></a></span><span>
</span><span id="line-319"></span><span>                  </span><span class="annot"><span class="annottext">Either v HashableTermRef
-&gt; (Either v HashableTermRef -&gt; HashableTerm v) -&gt; HashableTerm v
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(v -&gt; HashableTerm v)
-&gt; (HashableTermRef -&gt; HashableTerm v)
-&gt; Either v HashableTermRef
-&gt; HashableTerm v
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; v -&gt; HashableTerm v
forall a v (f :: * -&gt; *). a -&gt; v -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; (HashableTermRef
    -&gt; F'
         Text
         HashableTermRef
         HashableTermRef
         HashableTermLink
         HashableTermRef
         v
         (HashableTerm v))
-&gt; HashableTermRef
-&gt; HashableTerm v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HashableTermLink
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="annot"><span class="annottext">(HashableTermLink
 -&gt; F'
      Text
      HashableTermRef
      HashableTermRef
      HashableTermLink
      HashableTermRef
      v
      (HashableTerm v))
-&gt; (HashableTermRef -&gt; HashableTermLink)
-&gt; HashableTermRef
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HashableTermRef -&gt; HashableTermLink
forall termRef typeRef. termRef -&gt; Referent' termRef typeRef
</span><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-var">Referent.Ref</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>              </span><span class="annot"><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-type">Referent.Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceBuiltin</span></span><span> </span><span id="local-6989586621679145770"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679145770"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-321"></span><span>                </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTermLink
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableTermRef -&gt; HashableTermLink
forall termRef typeRef. termRef -&gt; Referent' termRef typeRef
</span><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-var">Referent.Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; HashableTermRef
forall t h. t -&gt; Reference' t h
</span><span class="hs-identifier hs-var">Reference.ReferenceBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679145770"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>              </span><span class="annot"><a href="U.Codebase.Referent.html#Con"><span class="hs-identifier hs-type">Referent.Con</span></a></span><span> </span><span id="local-6989586621679145772"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145772"><span class="hs-identifier hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679145773"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145773"><span class="hs-identifier hs-var">conId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTermLink
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableTermRef -&gt; Word64 -&gt; HashableTermLink
forall termRef typeRef.
typeRef -&gt; Word64 -&gt; Referent' termRef typeRef
</span><a href="U.Codebase.Referent.html#Con"><span class="hs-identifier hs-var">Referent.Con</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145772"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145773"><span class="hs-identifier hs-var">conId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>            </span><span class="hs-comment">-- All other cases are unchanged, but we need to manually reconstruct them to</span><span>
</span><span id="line-324"></span><span>            </span><span class="hs-comment">-- safely coerce the term types.</span><span>
</span><span id="line-325"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span id="local-6989586621679145774"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679145774"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
Int64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-var">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679145774"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-326"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span id="local-6989586621679145775"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145775"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-var">Nat</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145775"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-327"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-type">Float</span></a></span><span> </span><span id="local-6989586621679145776"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679145776"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
Double -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-var">Float</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679145776"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-328"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-type">Boolean</span></a></span><span> </span><span id="local-6989586621679145777"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679145777"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
Bool -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-var">Boolean</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679145777"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-329"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span id="local-6989586621679145778"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679145778"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
text -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-var">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679145778"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-330"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span id="local-6989586621679145779"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679145779"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
Char -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-var">Char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679145779"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-331"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span id="local-6989586621679145780"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145780"><span class="hs-identifier hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679145781"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145781"><span class="hs-identifier hs-var">conId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
-&gt; Word64
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145780"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145781"><span class="hs-identifier hs-var">conId</span></a></span><span>
</span><span id="line-332"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679145782"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145782"><span class="hs-identifier hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679145783"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145783"><span class="hs-identifier hs-var">conId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
-&gt; Word64
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145782"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679145783"><span class="hs-identifier hs-var">conId</span></a></span><span>
</span><span id="line-333"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-type">Handle</span></a></span><span> </span><span id="local-6989586621679145784"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145784"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679145785"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145785"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-var">Handle</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145784"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145785"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-334"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span id="local-6989586621679145786"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145786"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679145787"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145787"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145786"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145787"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-335"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-type">Ann</span></a></span><span> </span><span id="local-6989586621679145788"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145788"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679145789"><span class="annot"><span class="annottext">TypeR HashableTermRef v
</span><a href="#local-6989586621679145789"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; TypeR HashableTermRef v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a
-&gt; TypeR typeRef vt
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-var">Ann</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145788"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">TypeR HashableTermRef v
</span><a href="#local-6989586621679145789"><span class="hs-identifier hs-var">typ</span></a></span><span>
</span><span id="line-336"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679145790"><span class="annot"><span class="annottext">Seq (HashableTerm v)
</span><a href="#local-6989586621679145790"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Seq (HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
Seq a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (HashableTerm v)
</span><a href="#local-6989586621679145790"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-337"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-type">If</span></a></span><span> </span><span id="local-6989586621679145791"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145791"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679145792"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145792"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679145793"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145793"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; HashableTerm v
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-var">If</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145791"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145792"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145793"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-338"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-type">And</span></a></span><span> </span><span id="local-6989586621679145794"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145794"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679145795"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145795"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-var">And</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145794"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145795"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-339"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-type">Or</span></a></span><span> </span><span id="local-6989586621679145796"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145796"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679145797"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145797"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145796"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145797"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-340"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span id="local-6989586621679145798"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145798"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145798"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-341"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-type">LetRec</span></a></span><span> </span><span id="local-6989586621679145799"><span class="annot"><span class="annottext">[HashableTerm v]
</span><a href="#local-6989586621679145799"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679145800"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145800"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[HashableTerm v]
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
[a] -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-var">LetRec</span></a></span><span> </span><span class="annot"><span class="annottext">[HashableTerm v]
</span><a href="#local-6989586621679145799"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145800"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-342"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span> </span><span id="local-6989586621679145801"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145801"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679145802"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145802"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; HashableTerm v
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-var">Let</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145801"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145802"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-343"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span id="local-6989586621679145803"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145803"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679145804"><span class="annot"><span class="annottext">[MatchCase Text HashableTermRef (HashableTerm v)]
</span><a href="#local-6989586621679145804"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
-&gt; [MatchCase Text HashableTermRef (HashableTerm v)]
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
a
-&gt; [MatchCase text typeRef a]
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-var">Match</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679145803"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[MatchCase Text HashableTermRef (HashableTerm v)]
</span><a href="#local-6989586621679145804"><span class="hs-identifier hs-var">cases</span></a></span><span>
</span><span id="line-344"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span id="local-6989586621679145805"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145805"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">()
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(F'
   Text
   HashableTermRef
   HashableTermRef
   HashableTermLink
   HashableTermRef
   v
   (HashableTerm v)
 -&gt; HashableTerm v)
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
-&gt; HashableTerm v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
-&gt; F'
     Text
     HashableTermRef
     HashableTermRef
     HashableTermLink
     HashableTermRef
     v
     (HashableTerm v)
forall text termRef typeRef termLink typeLink vt a.
typeLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679145805"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-345"></span></pre></body></html>