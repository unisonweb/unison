<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Clear to write, read and edit DSL for writing HTML</span><span>
</span><span id="line-2"></span><span class="hs-comment">--</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- See &quot;Lucid.Html5&quot; for a complete list of Html5 combinators. That</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- module is re-exported from this module for your convenience.</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- See &quot;Lucid.Base&quot; for lower level functions like</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- `makeElement`, `makeAttribute`, 'termRaw', etc.</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- To convert html to the lucid DSL, use the (experimental) program</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- &lt;https://github.com/dbaynard/lucid-from-html lucid-from-html&gt;</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- which may eventually be integrated into lucid itself.</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lucid</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-comment">-- * Intro</span></span><span>
</span><span id="line-15"></span><span>   </span><span class="annot"><span class="hs-comment">-- $intro</span></span><span>
</span><span id="line-16"></span><span>   </span><span class="annot"><a href="Lucid.Base.html#renderText"><span class="hs-identifier">renderText</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#renderBS"><span class="hs-identifier">renderBS</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#renderTextT"><span class="hs-identifier">renderTextT</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#renderBST"><span class="hs-identifier">renderBST</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#renderToFile"><span class="hs-identifier">renderToFile</span></a></span><span>
</span><span id="line-21"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Running</span></span><span>
</span><span id="line-22"></span><span>   </span><span class="annot"><span class="hs-comment">-- $running</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#execHtmlT"><span class="hs-identifier">execHtmlT</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#evalHtmlT"><span class="hs-identifier">evalHtmlT</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#runHtmlT"><span class="hs-identifier">runHtmlT</span></a></span><span>
</span><span id="line-26"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#Html"><span class="hs-identifier">Html</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#HtmlT"><span class="hs-identifier">HtmlT</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#Attribute"><span class="hs-identifier">Attribute</span></a></span><span>
</span><span id="line-30"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Classes</span></span><span>
</span><span id="line-31"></span><span>   </span><span class="annot"><span class="hs-comment">-- $overloaded</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#Term"><span class="hs-identifier">Term</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#ToHtml"><span class="hs-identifier">ToHtml</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span class="annot"><a href="Lucid.Base.html#With"><span class="hs-identifier">With</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Lucid.Html5.html"><span class="hs-identifier">Lucid.Html5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Lucid.Base.html"><span class="hs-identifier">Lucid.Base</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Lucid.Html5.html"><span class="hs-identifier">Lucid.Html5</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- $intro</span><span>
</span><span id="line-43"></span><span class="hs-comment">--</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- HTML terms in Lucid are written with a postfix &#8216;@_@&#8217; to indicate data</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- rather than code. Some examples:</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- 'p_', 'class_', 'table_', 'style_'</span><span>
</span><span id="line-48"></span><span class="hs-comment">--</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- Note: If you're testing in the REPL you need to add a type annotation to</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- indicate that you want HTML. In normal code your top-level</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- declaration signatures handle that.</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- For GHCi:</span><span>
</span><span id="line-54"></span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- :set -XOverloadedStrings -XExtendedDefaultRules@</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- import Lucid</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-59"></span><span class="hs-comment">--</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- In a module: @{-\# LANGUAGE OverloadedStrings, ExtendedDefaultRules \#-}@</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- Plain text is written like this, and is automatically escaped:</span><span>
</span><span id="line-63"></span><span class="hs-comment">--</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- &gt;&gt;&gt; &quot;123 &lt; 456&quot; :: Html ()</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- 123 &amp;lt; 456</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- Except some elements, like 'script_':</span><span>
</span><span id="line-68"></span><span class="hs-comment">--</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- &gt;&gt;&gt; script_ &quot;alert('Hello!' &gt; 12)&quot; :: Html ()</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- &lt;script&gt;alert('Hello!' &gt; 12)&lt;/script&gt;</span><span>
</span><span id="line-71"></span><span class="hs-comment">--</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- Elements nest by function application:</span><span>
</span><span id="line-73"></span><span class="hs-comment">--</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- &gt;&gt;&gt; table_ (tr_ (td_ (p_ &quot;Hello, World!&quot;))) :: Html ()</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;Hello, World!&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span><span>
</span><span id="line-76"></span><span class="hs-comment">--</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- Elements are juxtaposed via monoidal append (remember to import &quot;Data.Monoid&quot;):</span><span>
</span><span id="line-78"></span><span class="hs-comment">--</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- &gt;&gt;&gt; p_ &quot;hello&quot; &lt;&gt; p_ &quot;sup&quot; :: Html ()</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- &lt;p&gt;hello&lt;/p&gt;&lt;p&gt;sup&lt;/p&gt;</span><span>
</span><span id="line-81"></span><span class="hs-comment">--</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- Or monadic sequencing:</span><span>
</span><span id="line-83"></span><span class="hs-comment">--</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- &gt;&gt;&gt; div_ (do p_ &quot;hello&quot;; p_ &quot;sup&quot;) :: Html ()</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- &lt;div&gt;&lt;p&gt;hello&lt;/p&gt;&lt;p&gt;sup&lt;/p&gt;&lt;/div&gt;</span><span>
</span><span id="line-86"></span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- Attributes are set by providing an argument list:</span><span>
</span><span id="line-88"></span><span class="hs-comment">--</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- &gt;&gt;&gt; p_ [class_ &quot;brand&quot;] &quot;Lucid Inc&quot; :: Html ()</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- &lt;p class=&quot;brand&quot;&gt;Lucid Inc&lt;/p&gt;</span><span>
</span><span id="line-91"></span><span class="hs-comment">--</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- &gt;&gt;&gt; p_ [data_ &quot;zot&quot; &quot;foo&quot;,checked_] &quot;Go!&quot; :: Html ()</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- &lt;p data-zot=&quot;foo&quot; checked&gt;go&lt;/p&gt;</span><span>
</span><span id="line-94"></span><span class="hs-comment">--</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- Attribute and element terms are not conflicting:</span><span>
</span><span id="line-96"></span><span class="hs-comment">--</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- &gt;&gt;&gt; style_ [style_ &quot;inception&quot;] &quot;Go deeper.&quot; :: Html ()</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- &lt;style style=&quot;inception&quot;&gt;Go deeper.&lt;/style&gt;</span><span>
</span><span id="line-99"></span><span class="hs-comment">--</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- Here is a fuller example of Lucid:</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- table_ [rows_ &quot;2&quot;]</span><span>
</span><span id="line-104"></span><span class="hs-comment">--        (tr_ (do td_ [class_ &quot;top&quot;,colspan_ &quot;2&quot;,style_ &quot;color:red&quot;]</span><span>
</span><span id="line-105"></span><span class="hs-comment">--                     (p_ &quot;Hello, attributes!&quot;)</span><span>
</span><span id="line-106"></span><span class="hs-comment">--                 td_ &quot;yay!&quot;))</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-108"></span><span class="hs-comment">--</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- Elements (and some attributes) are variadic and overloaded, see the</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- 'Term' class for more explanation about that.</span><span>
</span><span id="line-111"></span><span class="hs-comment">--</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- For proper rendering you can easily run some HTML immediately with:</span><span>
</span><span id="line-113"></span><span class="hs-comment">--</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- &gt;&gt;&gt; renderText (p_ &quot;Hello!&quot;)</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- &gt; &quot;&lt;p&gt;Hello!&lt;/p&gt;&quot;</span><span>
</span><span id="line-116"></span><span class="hs-comment">--</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- &gt;&gt;&gt; renderBS (p_ [style_ &quot;color:red&quot;] &quot;Hello!&quot;)</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- &quot;&lt;p style=\&quot;color:red\&quot;&gt;Hello!&lt;/p&gt;&quot;</span><span>
</span><span id="line-119"></span><span class="hs-comment">--</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- For ease of use in GHCi, there is a 'Show' instance, as</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- demonstrated above.</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- $overloaded</span><span>
</span><span id="line-124"></span><span class="hs-comment">--</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- To support convenient use of HTML terms, HTML terms are</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- overloaded. Here are the following types possible for an element</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- term accepting attributes and/or children:</span><span>
</span><span id="line-128"></span><span class="hs-comment">--</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- p_ :: Term arg result =&gt; arg -&gt; result</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- p_ :: Monad m =&gt; [Attribute] -&gt; HtmlT m () -&gt; HtmlT m ()</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- p_ :: Monad m =&gt; HtmlT m () -&gt; HtmlT m ()</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-134"></span><span class="hs-comment">--</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- The first is the generic form. The latter two are the possible</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- types for an element.</span><span>
</span><span id="line-137"></span><span class="hs-comment">--</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- Elements that accept no content are always concrete:</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- input_ :: Monad m =&gt; [Attribute] -&gt; HtmlT m ()</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-143"></span><span class="hs-comment">--</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- And some elements share the same name as attributes, so you can</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- also overload them as attributes:</span><span>
</span><span id="line-146"></span><span class="hs-comment">--</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- style_ :: TermRaw arg result =&gt; arg -&gt; result</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- style_ :: Monad m =&gt; [Attribute] -&gt; Text -&gt; HtmlT m ()</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- style_ :: Monad m =&gt; Text -&gt; HtmlT m ()</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- style_ :: Text -&gt; Attribute</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- $running</span><span>
</span><span id="line-155"></span><span class="hs-comment">--</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- If the above rendering functions aren't suited for your purpose,</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- you can run the monad directly and use the more low-level blaze</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- `Builder`, which has a plethora of output modes in</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- &quot;Blaze.ByteString.Builder&quot;.</span><span>
</span><span id="line-160"></span></pre></body></html>