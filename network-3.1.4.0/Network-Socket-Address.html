<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Network.Socket.Address</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">network-3.1.4.0: Low-level networking interface</span><ul class="links" id="page-menu"><li><a href="src/Network.Socket.Address.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.Socket.Address</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Socket Address</a></li><li><a href="#g:2">Socket operations</a></li><li><a href="#g:3">Sending and receiving ByteString</a></li><li><a href="#g:4">Sending and receiving data from a buffer</a></li><li><a href="#g:5">Advanced IO</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides extensible APIs for socket addresses.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="#t:SocketAddress">SocketAddress</a> sa <span class="keyword">where</span><ul class="subs"><li><a href="#v:sizeOfSocketAddress">sizeOfSocketAddress</a> :: sa -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:peekSocketAddress">peekSocketAddress</a> :: <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> sa</li><li><a href="#v:pokeSocketAddress">pokeSocketAddress</a> :: <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></li><li class="src short"><a href="#v:getPeerName">getPeerName</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> sa</li><li class="src short"><a href="#v:getSocketName">getSocketName</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> sa</li><li class="src short"><a href="#v:connect">connect</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:bind">bind</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:accept">accept</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a>, sa)</li><li class="src short"><a href="#v:sendTo">sendTo</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:sendAllTo">sendAllTo</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:recvFrom">recvFrom</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, sa)</li><li class="src short"><a href="#v:sendBufTo">sendBufTo</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:recvBufFrom">recvBufFrom</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>, sa)</li><li class="src short"><a href="#v:sendBufMsg">sendBufMsg</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; sa -&gt; [(<a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)] -&gt; [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>] -&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:recvBufMsg">recvBufMsg</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; [(<a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)] -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (sa, <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>, [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>], <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Socket Address</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:SocketAddress" class="def">SocketAddress</a> sa <span class="keyword">where</span> <a href="src/Network.Socket.Types.html#SocketAddress" class="link">Source</a> <a href="#t:SocketAddress" class="selflink">#</a></p><div class="doc"><p>The core typeclass to unify socket addresses.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:sizeOfSocketAddress" class="def">sizeOfSocketAddress</a> :: sa -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Network.Socket.Types.html#sizeOfSocketAddress" class="link">Source</a> <a href="#v:sizeOfSocketAddress" class="selflink">#</a></p><p class="src"><a id="v:peekSocketAddress" class="def">peekSocketAddress</a> :: <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> sa <a href="src/Network.Socket.Types.html#peekSocketAddress" class="link">Source</a> <a href="#v:peekSocketAddress" class="selflink">#</a></p><p class="src"><a id="v:pokeSocketAddress" class="def">pokeSocketAddress</a> :: <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Network.Socket.Types.html#pokeSocketAddress" class="link">Source</a> <a href="#v:pokeSocketAddress" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SocketAddress">Instances</h4><details id="i:SocketAddress" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SocketAddress:SocketAddress:1"></span> <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></span> <a href="src/Network.Socket.Types.html#line-1078" class="link">Source</a> <a href="#t:SocketAddress" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SocketAddress:SocketAddress:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Socket-Types.html">Network.Socket.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sizeOfSocketAddress">sizeOfSocketAddress</a> :: <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Network.Socket.Types.html#sizeOfSocketAddress" class="link">Source</a> <a href="#v:sizeOfSocketAddress" class="selflink">#</a></p><p class="src"><a href="#v:peekSocketAddress">peekSocketAddress</a> :: <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> <a href="src/Network.Socket.Types.html#peekSocketAddress" class="link">Source</a> <a href="#v:peekSocketAddress" class="selflink">#</a></p><p class="src"><a href="#v:pokeSocketAddress">pokeSocketAddress</a> :: <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Network.Socket.Types.html#pokeSocketAddress" class="link">Source</a> <a href="#v:pokeSocketAddress" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getPeerName" class="def">getPeerName</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> sa <a href="src/Network.Socket.Name.html#getPeerName" class="link">Source</a> <a href="#v:getPeerName" class="selflink">#</a></p><div class="doc"><p>Getting peer's socket address.</p></div></div><div class="top"><p class="src"><a id="v:getSocketName" class="def">getSocketName</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> sa <a href="src/Network.Socket.Name.html#getSocketName" class="link">Source</a> <a href="#v:getSocketName" class="selflink">#</a></p><div class="doc"><p>Getting my socket address.</p></div></div><a href="#g:2" id="g:2"><h1>Socket operations</h1></a><div class="top"><p class="src"><a id="v:connect" class="def">connect</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Network.Socket.Syscall.html#connect" class="link">Source</a> <a href="#v:connect" class="selflink">#</a></p><div class="doc"><p>Connect to a remote socket at address.</p></div></div><div class="top"><p class="src"><a id="v:bind" class="def">bind</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Network.Socket.Syscall.html#bind" class="link">Source</a> <a href="#v:bind" class="selflink">#</a></p><div class="doc"><p>Bind the socket to an address. The socket must not already be
 bound.  The <code><a href="Network-Socket.html#t:Family" title="Network.Socket">Family</a></code> passed to <code>bind</code> must be the
 same as that passed to <code><a href="Network-Socket.html#v:socket" title="Network.Socket">socket</a></code>.  If the special port number
 <code><a href="Network-Socket.html#v:defaultPort" title="Network.Socket">defaultPort</a></code> is passed then the system assigns the next available
 use port.</p></div></div><div class="top"><p class="src"><a id="v:accept" class="def">accept</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a>, sa) <a href="src/Network.Socket.Syscall.html#accept" class="link">Source</a> <a href="#v:accept" class="selflink">#</a></p><div class="doc"><p>Accept a connection.  The socket must be bound to an address and
 listening for connections.  The return value is a pair <code>(conn,
 address)</code> where <code>conn</code> is a new socket object usable to send and
 receive data on the connection, and <code>address</code> is the address bound
 to the socket on the other end of the connection.
 On Unix, FD_CLOEXEC is set to the new <code><a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></code>.</p></div></div><a href="#g:3" id="g:3"><h1>Sending and receiving ByteString</h1></a><div class="top"><p class="src"><a id="v:sendTo" class="def">sendTo</a> <a href="src/Network.Socket.ByteString.IO.html#sendTo" class="link">Source</a> <a href="#v:sendTo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Data to send</p></td></tr><tr><td class="src">-&gt; sa</td><td class="doc"><p>Recipient address</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Number of bytes sent</p></td></tr></table></div><div class="doc"><p>Send data to the socket.  The recipient can be specified
 explicitly, so the socket need not be in a connected state.
 Returns the number of bytes sent. Applications are responsible for
 ensuring that all data has been sent.</p></div></div><div class="top"><p class="src"><a id="v:sendAllTo" class="def">sendAllTo</a> <a href="src/Network.Socket.ByteString.IO.html#sendAllTo" class="link">Source</a> <a href="#v:sendAllTo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Data to send</p></td></tr><tr><td class="src">-&gt; sa</td><td class="doc"><p>Recipient address</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Send data to the socket. The recipient can be specified
 explicitly, so the socket need not be in a connected state.  Unlike
 <code><a href="Network-Socket-Address.html#v:sendTo" title="Network.Socket.Address">sendTo</a></code>, this function continues to send data until either all
 data has been sent or an error occurs.  On error, an exception is
 raised, and there is no way to determine how much data, if any, was
 successfully sent.</p></div></div><div class="top"><p class="src"><a id="v:recvFrom" class="def">recvFrom</a> <a href="src/Network.Socket.ByteString.IO.html#recvFrom" class="link">Source</a> <a href="#v:recvFrom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Maximum number of bytes to receive</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, sa)</td><td class="doc"><p>Data received and sender address</p></td></tr></table></div><div class="doc"><p>Receive data from the socket.  The socket need not be in a
 connected state.  Returns <code>(bytes, address)</code> where <code>bytes</code> is a
 <code><a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> representing the data received and <code>address</code> is a
 <code><a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></code> representing the address of the sending socket.</p><p>If the first return value is zero, it means EOF.</p></div></div><a href="#g:4" id="g:4"><h1>Sending and receiving data from a buffer</h1></a><div class="top"><p class="src"><a id="v:sendBufTo" class="def">sendBufTo</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; sa -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Network.Socket.Buffer.html#sendBufTo" class="link">Source</a> <a href="#v:sendBufTo" class="selflink">#</a></p><div class="doc"><p>Send data to the socket.  The recipient can be specified
 explicitly, so the socket need not be in a connected state.
 Returns the number of bytes sent.  Applications are responsible for
 ensuring that all data has been sent.</p></div></div><div class="top"><p class="src"><a id="v:recvBufFrom" class="def">recvBufFrom</a> :: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa =&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>, sa) <a href="src/Network.Socket.Buffer.html#recvBufFrom" class="link">Source</a> <a href="#v:recvBufFrom" class="selflink">#</a></p><div class="doc"><p>Receive data from the socket, writing it into buffer instead of
 creating a new string.  The socket need not be in a connected
 state. Returns <code>(nbytes, address)</code> where <code>nbytes</code> is the number of
 bytes received and <code>address</code> is a <code><a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></code> representing the
 address of the sending socket.</p><p>If the first return value is zero, it means EOF.</p><p>For <code><a href="Network-Socket.html#v:Stream" title="Network.Socket">Stream</a></code> sockets, the second return value would be invalid.</p><p>NOTE: blocking on Windows unless you compile with -threaded (see
 GHC ticket #1129)</p></div></div><a href="#g:5" id="g:5"><h1>Advanced IO</h1></a><div class="top"><p class="src"><a id="v:sendBufMsg" class="def">sendBufMsg</a> <a href="src/Network.Socket.Buffer.html#sendBufMsg" class="link">Source</a> <a href="#v:sendBufMsg" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; sa</td><td class="doc"><p>Destination address</p></td></tr><tr><td class="src">-&gt; [(<a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</td><td class="doc"><p>Data to be sent</p></td></tr><tr><td class="src">-&gt; [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>]</td><td class="doc"><p>Control messages</p></td></tr><tr><td class="src">-&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a></td><td class="doc"><p>Message flags</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The length actually sent</p></td></tr></table></div><div class="doc"><p>Send data to the socket using sendmsg(2).</p></div></div><div class="top"><p class="src"><a id="v:recvBufMsg" class="def">recvBufMsg</a> <a href="src/Network.Socket.Buffer.html#recvBufMsg" class="link">Source</a> <a href="#v:recvBufMsg" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket-Address.html#t:SocketAddress" title="Network.Socket.Address">SocketAddress</a> sa</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; [(<a href="../base-4.18.2.1/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../base-4.18.2.1/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</td><td class="doc"><p>A list of (buffer, buffer-length) pairs.
   If the total length is not large enough,
   <code><a href="Network-Socket.html#v:MSG_TRUNC" title="Network.Socket">MSG_TRUNC</a></code> is returned</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The buffer size for control messages.
   If the length is not large enough,
   <code><a href="Network-Socket.html#v:MSG_CTRUNC" title="Network.Socket">MSG_CTRUNC</a></code> is returned</p></td></tr><tr><td class="src">-&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a></td><td class="doc"><p>Message flags</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (sa, <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>, [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>], <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a>)</td><td class="doc"><p>Source address, total bytes received, control messages and message flags</p></td></tr></table></div><div class="doc"><p>Receive data from the socket using recvmsg(2). The supplied
   buffers are filled in order, with subsequent buffers used only
   after all the preceding buffers are full. If the message is short
   enough some of the supplied buffers may remain unused.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>