<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Network.Socket.ByteString</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">network-3.1.4.0: Low-level networking interface</span><ul class="links" id="page-menu"><li><a href="src/Network.Socket.ByteString.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Johan Tibell 2007-2010</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>johan.tibell@gmail.com</td></tr><tr><th>Stability</th><td>stable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.Socket.ByteString</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Send data to a socket</a><ul><li><a href="#g:2">Vectored I/O</a></li></ul></li><li><a href="#g:3">Receive data from a socket</a></li><li><a href="#g:4">Advanced send and recv</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides access to the BSD <em>socket</em> interface. For detailed
 documentation, consult your favorite POSIX socket reference. All functions
 communicate failures by converting the error number to an
 <code><a href="../base-4.18.2.1/System-IO-Error.html#v:IOError" title="System.IO.Error">IOError</a></code>.</p><p>This module is made to be imported with <a href="Network-Socket.html">Network.Socket</a> like so:</p><pre>import Network.Socket
import Network.Socket.ByteString</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:send">send</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:sendAll">sendAll</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:sendTo">sendTo</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:sendAllTo">sendAllTo</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:sendMany">sendMany</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; [<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:sendManyTo">sendManyTo</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; [<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:recv">recv</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:recvFrom">recvFrom</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a>)</li><li class="src short"><a href="#v:sendMsg">sendMsg</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; [<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>] -&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:recvMsg">recvMsg</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a>, <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>], <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Send data to a socket</h1></a><div class="top"><p class="src"><a id="v:send" class="def">send</a> <a href="src/Network.Socket.ByteString.IO.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Connected socket</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Data to send</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Number of bytes sent</p></td></tr></table></div><div class="doc"><p>Send data to the socket.  The socket must be connected to a
 remote socket.  Returns the number of bytes sent. Applications are
 responsible for ensuring that all data has been sent.</p></div></div><div class="top"><p class="src"><a id="v:sendAll" class="def">sendAll</a> <a href="src/Network.Socket.ByteString.IO.html#sendAll" class="link">Source</a> <a href="#v:sendAll" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Connected socket</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Data to send</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Send data to the socket.  The socket must be connected to a
 remote socket.  Unlike <code><a href="Network-Socket-ByteString.html#v:send" title="Network.Socket.ByteString">send</a></code>, this function continues to send data
 until either all data has been sent or an error occurs.  On error,
 an exception is raised, and there is no way to determine how much
 data, if any, was successfully sent.</p></div></div><div class="top"><p class="src"><a id="v:sendTo" class="def">sendTo</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Network.Socket.ByteString.html#sendTo" class="link">Source</a> <a href="#v:sendTo" class="selflink">#</a></p><div class="doc"><p>Send data to the socket.  The recipient can be specified
 explicitly, so the socket need not be in a connected state.
 Returns the number of bytes sent. Applications are responsible for
 ensuring that all data has been sent.</p></div></div><div class="top"><p class="src"><a id="v:sendAllTo" class="def">sendAllTo</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Network.Socket.ByteString.html#sendAllTo" class="link">Source</a> <a href="#v:sendAllTo" class="selflink">#</a></p><div class="doc"><p>Send data to the socket. The recipient can be specified
 explicitly, so the socket need not be in a connected state.  Unlike
 <code><a href="Network-Socket-ByteString.html#v:sendTo" title="Network.Socket.ByteString">sendTo</a></code>, this function continues to send data until either all
 data has been sent or an error occurs.  On error, an exception is
 raised, and there is no way to determine how much data, if any, was
 successfully sent.</p></div></div><a href="#g:2" id="g:2"><h2>Vectored I/O</h2></a><div class="doc"><p>Vectored I/O, also known as scatter/gather I/O, allows multiple
 data segments to be sent using a single system call, without first
 concatenating the segments.  For example, given a list of
 <code>ByteString</code>s, <code>xs</code>,</p><pre>sendMany sock xs</pre><p>is equivalent to</p><pre>sendAll sock (concat xs)</pre><p>but potentially more efficient.</p><p>Vectored I/O are often useful when implementing network protocols
 that, for example, group data into segments consisting of one or
 more fixed-length headers followed by a variable-length body.</p></div><div class="top"><p class="src"><a id="v:sendMany" class="def">sendMany</a> <a href="src/Network.Socket.ByteString.IO.html#sendMany" class="link">Source</a> <a href="#v:sendMany" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Connected socket</p></td></tr><tr><td class="src">-&gt; [<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc"><p>Data to send</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Send data to the socket.  The socket must be in a connected
 state.  The data is sent as if the parts have been concatenated.
 This function continues to send data until either all data has been
 sent or an error occurs.  On error, an exception is raised, and
 there is no way to determine how much data, if any, was
 successfully sent.</p></div></div><div class="top"><p class="src"><a id="v:sendManyTo" class="def">sendManyTo</a> <a href="src/Network.Socket.ByteString.IO.html#sendManyTo" class="link">Source</a> <a href="#v:sendManyTo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; [<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc"><p>Data to send</p></td></tr><tr><td class="src">-&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></td><td class="doc"><p>Recipient address</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Send data to the socket.  The recipient can be specified
 explicitly, so the socket need not be in a connected state.  The
 data is sent as if the parts have been concatenated.  This function
 continues to send data until either all data has been sent or an
 error occurs.  On error, an exception is raised, and there is no
 way to determine how much data, if any, was successfully sent.</p></div></div><a href="#g:3" id="g:3"><h1>Receive data from a socket</h1></a><div class="top"><p class="src"><a id="v:recv" class="def">recv</a> <a href="src/Network.Socket.ByteString.IO.html#recv" class="link">Source</a> <a href="#v:recv" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Connected socket</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Maximum number of bytes to receive</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Data received</p></td></tr></table></div><div class="doc"><p>Receive data from the socket.  The socket must be in a connected
 state.  This function may return fewer bytes than specified.  If
 the message is longer than the specified length, it may be
 discarded depending on the type of socket.  This function may block
 until a message arrives.</p><p>Considering hardware and network realities, the maximum number of bytes to
 receive should be a small power of 2, e.g., 4096.</p><p>For TCP sockets, a zero length return value means the peer has
 closed its half side of the connection.</p><p>Currently, the <code><a href="Network-Socket-ByteString.html#v:recv" title="Network.Socket.ByteString">recv</a></code> family is blocked on Windows because a proper
 IO manager is not implemented. To use with <code><a href="../base-4.18.2.1/System-Timeout.html#v:timeout" title="System.Timeout">timeout</a></code>
 on Windows, use <code><a href="Network-Socket.html#v:setSocketOption" title="Network.Socket">setSocketOption</a></code> with
 <code><a href="Network-Socket.html#v:RecvTimeOut" title="Network.Socket">RecvTimeOut</a></code> as well.</p></div></div><div class="top"><p class="src"><a id="v:recvFrom" class="def">recvFrom</a> :: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a> -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a>) <a href="src/Network.Socket.ByteString.html#recvFrom" class="link">Source</a> <a href="#v:recvFrom" class="selflink">#</a></p><div class="doc"><p>Receive data from the socket.  The socket need not be in a
 connected state.  Returns <code>(bytes, address)</code> where <code>bytes</code> is a
 <code><a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> representing the data received and <code>address</code> is a
 <code><a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></code> representing the address of the sending socket.</p></div></div><a href="#g:4" id="g:4"><h1>Advanced send and recv</h1></a><div class="top"><p class="src"><a id="v:sendMsg" class="def">sendMsg</a> <a href="src/Network.Socket.ByteString.IO.html#sendMsg" class="link">Source</a> <a href="#v:sendMsg" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; <a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a></td><td class="doc"><p>Destination address</p></td></tr><tr><td class="src">-&gt; [<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc"><p>Data to be sent</p></td></tr><tr><td class="src">-&gt; [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>]</td><td class="doc"><p>Control messages</p></td></tr><tr><td class="src">-&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a></td><td class="doc"><p>Message flags</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The length actually sent</p></td></tr></table></div><div class="doc"><p>Send data to the socket using sendmsg(2).</p></div></div><div class="top"><p class="src"><a id="v:recvMsg" class="def">recvMsg</a> <a href="src/Network.Socket.ByteString.IO.html#recvMsg" class="link">Source</a> <a href="#v:recvMsg" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-Socket.html#t:Socket" title="Network.Socket">Socket</a></td><td class="doc"><p>Socket</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The maximum length of data to be received
   If the total length is not large enough,
   <code><a href="Network-Socket.html#v:MSG_TRUNC" title="Network.Socket">MSG_TRUNC</a></code> is returned</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The buffer size for control messages.
   If the length is not large enough,
   <code><a href="Network-Socket.html#v:MSG_CTRUNC" title="Network.Socket">MSG_CTRUNC</a></code> is returned</p></td></tr><tr><td class="src">-&gt; <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a></td><td class="doc"><p>Message flags</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Network-Socket.html#t:SockAddr" title="Network.Socket">SockAddr</a>, <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, [<a href="Network-Socket.html#t:Cmsg" title="Network.Socket">Cmsg</a>], <a href="Network-Socket.html#t:MsgFlag" title="Network.Socket">MsgFlag</a>)</td><td class="doc"><p>Source address, received data, control messages and message flags</p></td></tr></table></div><div class="doc"><p>Receive data from the socket using recvmsg(2).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>