<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Module      : Data.Vector.Generic.New</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Copyright   : (c) Roman Leshchinskiy 2008-2010</span><span>
</span><span id="line-8"></span><span class="hs-comment">--                   Alexey Kuleshevich 2020-2022</span><span>
</span><span id="line-9"></span><span class="hs-comment">--                   Aleksey Khudyakov 2020-2022</span><span>
</span><span id="line-10"></span><span class="hs-comment">--                   Andrew Lelechenko 2020-2022</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- License     : BSD-style</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Maintainer  : Haskell Libraries Team &lt;libraries@haskell.org&gt;</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Stability   : experimental</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Portability : non-portable</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Purely functional interface to initialisation of mutable vectors</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Vector.Generic.New</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Array recycling primitives</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier">New</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#create"><span class="hs-identifier">create</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#run"><span class="hs-identifier">run</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#runPrim"><span class="hs-identifier">runPrim</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier">apply</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#modify"><span class="hs-identifier">modify</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#modifyWithBundle"><span class="hs-identifier">modifyWithBundle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-identifier">unstream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#transform"><span class="hs-identifier">transform</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstreamR"><span class="hs-identifier">unstreamR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-identifier">transformR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#slice"><span class="hs-identifier">slice</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#init"><span class="hs-identifier">init</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#tail"><span class="hs-identifier">tail</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#take"><span class="hs-identifier">take</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#drop"><span class="hs-identifier">drop</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeSlice"><span class="hs-identifier">unsafeSlice</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeInit"><span class="hs-identifier">unsafeInit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeTail"><span class="hs-identifier">unsafeTail</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- * References</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><span class="hs-comment">-- $references</span></span><span>
</span><span id="line-28"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Mutable.html"><span class="hs-identifier">Data.Vector.Generic.Mutable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MVector</span></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Vector.Generic.Base.html"><span class="hs-identifier">Data.Vector.Generic.Base</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier">Vector</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier">Mutable</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html"><span class="hs-identifier">Data.Vector.Fusion.Bundle</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#Bundle"><span class="hs-identifier">Bundle</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html"><span class="hs-identifier">Data.Vector.Fusion.Bundle</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Bundle</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Vector.Fusion.Stream.Monadic.html"><span class="hs-identifier">Data.Vector.Fusion.Stream.Monadic</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Stream</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.Size.html"><span class="hs-identifier">Data.Vector.Fusion.Bundle.Size</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Primitive</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.ST</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">ST</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">liftM</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Monad</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">return</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">seq</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(=&lt;&lt;)</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-comment">-- Data.Vector.Internal.Check is unused</span><span class="hs-cpp">
#define NOT_VECTOR_MODULE
</span><span class="hs-cpp">#include &quot;vector.h&quot;
</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- | This data type is a wrapper around a monadic action which produces</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- a mutable vector. It's used by a number of rewrite rules in order to</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- facilitate the reuse of buffers allocated for vectors. See &quot;Recycle</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- your arrays!&quot; for a detailed explanation.</span><span>
</span><span id="line-55"></span><span class="hs-comment">--</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- Note that this data type must be declared as @data@ and not @newtype@</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- since it's used for rewrite rules and rules won't fire with @newtype@.</span><span>
</span><span id="line-58"></span><span class="hs-keyword">data</span><span> </span><span id="New"><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span></span><span> </span><span id="local-6989586621679196568"><span class="annot"><a href="#local-6989586621679196568"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679196569"><span class="annot"><a href="#local-6989586621679196569"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="New"><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196418"><span class="annot"><a href="#local-6989586621679196418"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ST</span></span><span> </span><span class="annot"><a href="#local-6989586621679196418"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196568"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196418"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196569"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621679196405"><span id="local-6989586621679196406"><span class="annot"><a href="Data.Vector.Generic.New.html#create"><span class="hs-identifier hs-type">create</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196404"><span class="annot"><a href="#local-6989586621679196404"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ST</span></span><span> </span><span class="annot"><a href="#local-6989586621679196404"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196405"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196404"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196406"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196405"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196406"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-61"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#create"><span class="hs-pragma hs-type">create</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-62"></span><span id="create"><span class="annot"><span class="annottext">create :: forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#create"><span class="hs-identifier hs-var hs-var">create</span></a></span></span><span> </span><span id="local-6989586621679196571"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196571"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196571"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span id="local-6989586621679196413"><span id="local-6989586621679196414"><span id="local-6989586621679196415"><span class="annot"><a href="Data.Vector.Generic.New.html#run"><span class="hs-identifier hs-type">run</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196413"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196414"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ST</span></span><span> </span><span class="annot"><a href="#local-6989586621679196415"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196413"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196415"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196414"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-65"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#run"><span class="hs-pragma hs-type">run</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-66"></span><span id="run"><span class="annot"><span class="annottext">run :: forall (v :: * -&gt; *) a s. New v a -&gt; ST s (Mutable v s a)
</span><a href="Data.Vector.Generic.New.html#run"><span class="hs-identifier hs-var hs-var">run</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196572"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196572"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196572"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span id="local-6989586621679196420"><span id="local-6989586621679196422"><span id="local-6989586621679196423"><span class="annot"><a href="Data.Vector.Generic.New.html#runPrim"><span class="hs-identifier hs-type">runPrim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PrimMonad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196420"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196422"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679196420"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196422"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PrimState</span></span><span> </span><span class="annot"><a href="#local-6989586621679196420"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679196423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-69"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#runPrim"><span class="hs-pragma hs-type">runPrim</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-70"></span><span id="runPrim"><span class="annot"><span class="annottext">runPrim :: forall (m :: * -&gt; *) (v :: * -&gt; *) a.
PrimMonad m =&gt;
New v a -&gt; m (Mutable v (PrimState m) a)
</span><a href="Data.Vector.Generic.New.html#runPrim"><span class="hs-identifier hs-var hs-var">runPrim</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196579"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196579"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ST (PrimState m) (Mutable v (PrimState m) a)
-&gt; m (Mutable v (PrimState m) a)
forall (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(PrimBase m1, PrimMonad m2, PrimState m1 ~ PrimState m2) =&gt;
m1 a -&gt; m2 a
</span><span class="hs-identifier hs-var">primToPrim</span></span><span> </span><span class="annot"><span class="annottext">ST (PrimState m) (Mutable v (PrimState m) a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196579"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span id="local-6989586621679196436"><span id="local-6989586621679196438"><span class="annot"><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-type">apply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196437"><span class="annot"><a href="#local-6989586621679196437"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196436"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196437"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196436"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196437"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196438"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196436"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196436"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196438"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-73"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#apply"><span class="hs-pragma hs-type">apply</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-74"></span><span id="apply"><span class="annot"><span class="annottext">apply :: forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var hs-var">apply</span></a></span></span><span> </span><span id="local-6989586621679196581"><span class="annot"><span class="annottext">forall s. Mutable v s a -&gt; Mutable v s a
</span><a href="#local-6989586621679196581"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196582"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196582"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Mutable v s a -&gt; Mutable v s a)
-&gt; ST s (Mutable v s a) -&gt; ST s (Mutable v s a)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; Mutable v s a
forall s. Mutable v s a -&gt; Mutable v s a
</span><a href="#local-6989586621679196581"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196582"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span id="local-6989586621679196446"><span id="local-6989586621679196448"><span class="annot"><a href="Data.Vector.Generic.New.html#modify"><span class="hs-identifier hs-type">modify</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196447"><span class="annot"><a href="#local-6989586621679196447"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196446"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196447"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196448"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ST</span></span><span> </span><span class="annot"><a href="#local-6989586621679196447"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196446"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196448"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196446"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196448"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-77"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#modify"><span class="hs-pragma hs-type">modify</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-78"></span><span id="modify"><span class="annot"><span class="annottext">modify :: forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; ST s ()) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#modify"><span class="hs-identifier hs-var hs-var">modify</span></a></span></span><span> </span><span id="local-6989586621679196585"><span class="annot"><span class="annottext">forall s. Mutable v s a -&gt; ST s ()
</span><a href="#local-6989586621679196585"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196586"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196586"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679196590"><span class="annot"><span class="annottext">Mutable v s a
</span><a href="#local-6989586621679196590"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196586"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; ST s ()
forall s. Mutable v s a -&gt; ST s ()
</span><a href="#local-6989586621679196585"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Mutable v s a
</span><a href="#local-6989586621679196590"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; ST s (Mutable v s a)
forall a. a -&gt; ST s a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Mutable v s a
</span><a href="#local-6989586621679196590"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span id="local-6989586621679196454"><span id="local-6989586621679196456"><span id="local-6989586621679196457"><span id="local-6989586621679196458"><span class="annot"><a href="Data.Vector.Generic.New.html#modifyWithBundle"><span class="hs-identifier hs-type">modifyWithBundle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196455"><span class="annot"><a href="#local-6989586621679196455"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Mutable"><span class="hs-identifier hs-type">Mutable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196454"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196455"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196456"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#Bundle"><span class="hs-identifier hs-type">Bundle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196457"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196458"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ST</span></span><span> </span><span class="annot"><a href="#local-6989586621679196455"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196454"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196456"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#Bundle"><span class="hs-identifier hs-type">Bundle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196457"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196458"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196454"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196456"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-82"></span><span class="hs-pragma">{-# INLINE_FUSED modifyWithBundle #-}</span><span>
</span><span id="line-83"></span><span id="modifyWithBundle"><span class="annot"><span class="annottext">modifyWithBundle :: forall (v :: * -&gt; *) a (u :: * -&gt; *) b.
(forall s. Mutable v s a -&gt; Bundle u b -&gt; ST s ())
-&gt; New v a -&gt; Bundle u b -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#modifyWithBundle"><span class="hs-identifier hs-var hs-var">modifyWithBundle</span></a></span></span><span> </span><span id="local-6989586621679196591"><span class="annot"><span class="annottext">forall s. Mutable v s a -&gt; Bundle u b -&gt; ST s ()
</span><a href="#local-6989586621679196591"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196592"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196592"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679196593"><span class="annot"><span class="annottext">Bundle u b
</span><a href="#local-6989586621679196593"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bundle u b
</span><a href="#local-6989586621679196593"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Bundle u b -&gt; New v a -&gt; New v a
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679196597"><span class="annot"><span class="annottext">Mutable v s a
</span><a href="#local-6989586621679196597"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196592"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; Bundle u b -&gt; ST s ()
forall s. Mutable v s a -&gt; Bundle u b -&gt; ST s ()
</span><a href="#local-6989586621679196591"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Mutable v s a
</span><a href="#local-6989586621679196597"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Bundle u b
</span><a href="#local-6989586621679196593"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; ST s (Mutable v s a)
forall a. a -&gt; ST s a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Mutable v s a
</span><a href="#local-6989586621679196597"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679196466"><span id="local-6989586621679196467"><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-identifier hs-type">unstream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196466"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196467"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#Bundle"><span class="hs-identifier hs-type">Bundle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196466"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196467"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196466"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196467"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-86"></span><span class="hs-pragma">{-# INLINE_FUSED unstream #-}</span><span>
</span><span id="line-87"></span><span id="unstream"><span class="annot"><span class="annottext">unstream :: forall (v :: * -&gt; *) a. Vector v a =&gt; Bundle v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-identifier hs-var hs-var">unstream</span></a></span></span><span> </span><span id="local-6989586621679196599"><span class="annot"><span class="annottext">Bundle v a
</span><a href="#local-6989586621679196599"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bundle v a
</span><a href="#local-6989586621679196599"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Bundle v a -&gt; New v a -&gt; New v a
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bundle v a -&gt; ST s (Mutable v (PrimState (ST s)) a)
forall (m :: * -&gt; *) (v :: * -&gt; *) a.
(PrimMonad m, Vector v a) =&gt;
Bundle v a -&gt; m (Mutable v (PrimState m) a)
</span><a href="Data.Vector.Generic.Mutable.html#vunstream"><span class="hs-identifier hs-var">MVector.vunstream</span></a></span><span> </span><span class="annot"><span class="annottext">Bundle v a
</span><a href="#local-6989586621679196599"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span id="local-6989586621679196476"><span id="local-6989586621679196477"><span class="annot"><a href="Data.Vector.Generic.New.html#transform"><span class="hs-identifier hs-type">transform</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196476"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196477"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196478"><span class="annot"><a href="#local-6989586621679196478"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196478"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196478"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196477"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196478"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196477"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.Size.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.Size.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196476"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196477"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196476"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196477"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-92"></span><span class="hs-pragma">{-# INLINE_FUSED transform #-}</span><span>
</span><span id="line-93"></span><span id="transform"><span class="annot"><span class="annottext">transform :: forall (v :: * -&gt; *) a.
Vector v a =&gt;
(forall (m :: * -&gt; *). Monad m =&gt; Stream m a -&gt; Stream m a)
-&gt; (Size -&gt; Size) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#transform"><span class="hs-identifier hs-var hs-var">transform</span></a></span></span><span> </span><span id="local-6989586621679196607"><span class="annot"><span class="annottext">forall (m :: * -&gt; *). Monad m =&gt; Stream m a -&gt; Stream m a
</span><a href="#local-6989586621679196607"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Size -&gt; Size
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196608"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196608"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Stream (ST s) a -&gt; Stream (ST s) a)
-&gt; Mutable v (PrimState (ST s)) a
-&gt; ST s (Mutable v (PrimState (ST s)) a)
forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(PrimMonad m, MVector v a) =&gt;
(Stream m a -&gt; Stream m a)
-&gt; v (PrimState m) a -&gt; m (v (PrimState m) a)
</span><a href="Data.Vector.Generic.Mutable.html#transform"><span class="hs-identifier hs-var">MVector.transform</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (ST s) a -&gt; Stream (ST s) a
forall (m :: * -&gt; *). Monad m =&gt; Stream m a -&gt; Stream m a
</span><a href="#local-6989586621679196607"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Mutable v s a -&gt; ST s (Mutable v s a))
-&gt; ST s (Mutable v s a) -&gt; ST s (Mutable v s a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196608"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span id="local-6989586621679196614"><span class="annot"><span class="hs-pragma">&quot;transform/transform [New]&quot;</span></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">(</span><span id="local-6989586621679196615"><span class="annot"><a href="#local-6989586621679196615"><span class="hs-pragma hs-var">f1</span></a></span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196616"><span class="annot"><a href="#local-6989586621679196616"><span class="hs-pragma hs-type">m</span></a></span></span><span class="hs-pragma">.</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196616"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196616"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196614"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196616"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196614"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-99"></span><span>         </span><span class="hs-pragma">(</span><span id="local-6989586621679196617"><span class="annot"><a href="#local-6989586621679196617"><span class="hs-pragma hs-var">f2</span></a></span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196618"><span class="annot"><a href="#local-6989586621679196618"><span class="hs-pragma hs-type">m</span></a></span></span><span class="hs-pragma">.</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196618"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196618"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196614"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196618"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196614"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-100"></span><span>         </span><span id="local-6989586621679196619"><span class="annot"><a href="#local-6989586621679196619"><span class="hs-pragma hs-var">g1</span></a></span></span><span> </span><span id="local-6989586621679196620"><span class="annot"><a href="#local-6989586621679196620"><span class="hs-pragma hs-var">g2</span></a></span></span><span> </span><span id="local-6989586621679196621"><span class="annot"><a href="#local-6989586621679196621"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#transform"><span class="hs-pragma hs-type">transform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196615"><span class="hs-pragma hs-type">f1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196619"><span class="hs-pragma hs-type">g1</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#transform"><span class="hs-pragma hs-type">transform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196617"><span class="hs-pragma hs-type">f2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196620"><span class="hs-pragma hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196621"><span class="hs-pragma hs-type">p</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#transform"><span class="hs-pragma hs-type">transform</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679196615"><span class="hs-pragma hs-type">f1</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">.</span></span><span> </span><span class="annot"><a href="#local-6989586621679196617"><span class="hs-pragma hs-type">f2</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679196619"><span class="hs-pragma hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">.</span></span><span> </span><span class="annot"><a href="#local-6989586621679196620"><span class="hs-pragma hs-type">g2</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679196621"><span class="hs-pragma hs-type">p</span></a></span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span id="local-6989586621679196622"><span class="annot"><span class="hs-pragma">&quot;transform/unstream [New]&quot;</span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">(</span><span id="local-6989586621679196623"><span class="annot"><a href="#local-6989586621679196623"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196624"><span class="annot"><a href="#local-6989586621679196624"><span class="hs-pragma hs-type">m</span></a></span></span><span class="hs-pragma">.</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196624"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196624"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196622"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196624"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196622"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-105"></span><span>         </span><span id="local-6989586621679196625"><span class="annot"><a href="#local-6989586621679196625"><span class="hs-pragma hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679196626"><span class="annot"><a href="#local-6989586621679196626"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#transform"><span class="hs-pragma hs-type">transform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196623"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196625"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196626"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#inplace"><span class="hs-pragma hs-type">Bundle.inplace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196623"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196625"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196626"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span id="local-6989586621679196628"><span id="local-6989586621679196629"><span class="annot"><a href="Data.Vector.Generic.New.html#unstreamR"><span class="hs-identifier hs-type">unstreamR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196628"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196629"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#Bundle"><span class="hs-identifier hs-type">Bundle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196628"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196629"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196628"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196629"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-112"></span><span class="hs-pragma">{-# INLINE_FUSED unstreamR #-}</span><span>
</span><span id="line-113"></span><span id="unstreamR"><span class="annot"><span class="annottext">unstreamR :: forall (v :: * -&gt; *) a. Vector v a =&gt; Bundle v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#unstreamR"><span class="hs-identifier hs-var hs-var">unstreamR</span></a></span></span><span> </span><span id="local-6989586621679196632"><span class="annot"><span class="annottext">Bundle v a
</span><a href="#local-6989586621679196632"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bundle v a
</span><a href="#local-6989586621679196632"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Bundle v a -&gt; New v a -&gt; New v a
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bundle v a -&gt; ST s (Mutable v (PrimState (ST s)) a)
forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a (u :: * -&gt; *).
(PrimMonad m, MVector v a) =&gt;
Bundle u a -&gt; m (v (PrimState m) a)
</span><a href="Data.Vector.Generic.Mutable.html#unstreamR"><span class="hs-identifier hs-var">MVector.unstreamR</span></a></span><span> </span><span class="annot"><span class="annottext">Bundle v a
</span><a href="#local-6989586621679196632"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span id="local-6989586621679196636"><span id="local-6989586621679196637"><span class="annot"><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-identifier hs-type">transformR</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196636"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196637"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679196502"><span class="annot"><a href="#local-6989586621679196502"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196502"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196502"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196637"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196502"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196637"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.Size.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Fusion.Bundle.Size.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196636"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196637"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196636"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196637"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-118"></span><span class="hs-pragma">{-# INLINE_FUSED transformR #-}</span><span>
</span><span id="line-119"></span><span id="transformR"><span class="annot"><span class="annottext">transformR :: forall (v :: * -&gt; *) a.
Vector v a =&gt;
(forall (m :: * -&gt; *). Monad m =&gt; Stream m a -&gt; Stream m a)
-&gt; (Size -&gt; Size) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-identifier hs-var hs-var">transformR</span></a></span></span><span> </span><span id="local-6989586621679196640"><span class="annot"><span class="annottext">forall (m :: * -&gt; *). Monad m =&gt; Stream m a -&gt; Stream m a
</span><a href="#local-6989586621679196640"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Size -&gt; Size
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span id="local-6989586621679196641"><span class="annot"><span class="annottext">forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196641"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (Mutable v s a)) -&gt; New v a
forall (v :: * -&gt; *) a. (forall s. ST s (Mutable v s a)) -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-var">New</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Stream (ST s) a -&gt; Stream (ST s) a)
-&gt; Mutable v (PrimState (ST s)) a
-&gt; ST s (Mutable v (PrimState (ST s)) a)
forall (m :: * -&gt; *) (v :: * -&gt; * -&gt; *) a.
(PrimMonad m, MVector v a) =&gt;
(Stream m a -&gt; Stream m a)
-&gt; v (PrimState m) a -&gt; m (v (PrimState m) a)
</span><a href="Data.Vector.Generic.Mutable.html#transformR"><span class="hs-identifier hs-var">MVector.transformR</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (ST s) a -&gt; Stream (ST s) a
forall (m :: * -&gt; *). Monad m =&gt; Stream m a -&gt; Stream m a
</span><a href="#local-6989586621679196640"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Mutable v s a -&gt; ST s (Mutable v s a))
-&gt; ST s (Mutable v s a) -&gt; ST s (Mutable v s a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ST s (Mutable v s a)
forall s. ST s (Mutable v s a)
</span><a href="#local-6989586621679196641"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span id="local-6989586621679196647"><span class="annot"><span class="hs-pragma">&quot;transformR/transformR [New]&quot;</span></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">(</span><span id="local-6989586621679196648"><span class="annot"><a href="#local-6989586621679196648"><span class="hs-pragma hs-var">f1</span></a></span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196649"><span class="annot"><a href="#local-6989586621679196649"><span class="hs-pragma hs-type">m</span></a></span></span><span class="hs-pragma">.</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196649"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196649"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196647"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196649"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196647"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-125"></span><span>         </span><span class="hs-pragma">(</span><span id="local-6989586621679196650"><span class="annot"><a href="#local-6989586621679196650"><span class="hs-pragma hs-var">f2</span></a></span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196651"><span class="annot"><a href="#local-6989586621679196651"><span class="hs-pragma hs-type">m</span></a></span></span><span class="hs-pragma">.</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196651"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196651"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196647"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196651"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196647"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-126"></span><span>         </span><span id="local-6989586621679196652"><span class="annot"><a href="#local-6989586621679196652"><span class="hs-pragma hs-var">g1</span></a></span></span><span> </span><span id="local-6989586621679196653"><span class="annot"><a href="#local-6989586621679196653"><span class="hs-pragma hs-var">g2</span></a></span></span><span>
</span><span id="line-127"></span><span>         </span><span id="local-6989586621679196654"><span class="annot"><a href="#local-6989586621679196654"><span class="hs-pragma hs-var">p</span></a></span></span><span> </span><span class="hs-pragma">.</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-pragma hs-type">transformR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196648"><span class="hs-pragma hs-type">f1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196652"><span class="hs-pragma hs-type">g1</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-pragma hs-type">transformR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196650"><span class="hs-pragma hs-type">f2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196653"><span class="hs-pragma hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196654"><span class="hs-pragma hs-type">p</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-pragma hs-type">transformR</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679196648"><span class="hs-pragma hs-type">f1</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">.</span></span><span> </span><span class="annot"><a href="#local-6989586621679196650"><span class="hs-pragma hs-type">f2</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621679196652"><span class="hs-pragma hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">.</span></span><span> </span><span class="annot"><a href="#local-6989586621679196653"><span class="hs-pragma hs-type">g2</span></a></span><span class="hs-pragma">)</span><span> </span><span class="annot"><a href="#local-6989586621679196654"><span class="hs-pragma hs-type">p</span></a></span></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span id="local-6989586621679196655"><span class="annot"><span class="hs-pragma">&quot;transformR/unstreamR [New]&quot;</span></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">(</span><span id="local-6989586621679196656"><span class="annot"><a href="#local-6989586621679196656"><span class="hs-pragma hs-var">f</span></a></span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196657"><span class="annot"><a href="#local-6989586621679196657"><span class="hs-pragma hs-type">m</span></a></span></span><span class="hs-pragma">.</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679196657"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196657"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196655"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Stream</span></span><span> </span><span class="annot"><a href="#local-6989586621679196657"><span class="hs-pragma hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196655"><span class="hs-pragma hs-type">a</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-132"></span><span>         </span><span id="local-6989586621679196658"><span class="annot"><a href="#local-6989586621679196658"><span class="hs-pragma hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679196659"><span class="annot"><a href="#local-6989586621679196659"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#transformR"><span class="hs-pragma hs-type">transformR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196656"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196658"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstreamR"><span class="hs-pragma hs-type">unstreamR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196659"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstreamR"><span class="hs-pragma hs-type">unstreamR</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#inplace"><span class="hs-pragma hs-type">Bundle.inplace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196656"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196658"><span class="hs-pragma hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196659"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span id="local-6989586621679196504"><span id="local-6989586621679196505"><span class="annot"><a href="Data.Vector.Generic.New.html#slice"><span class="hs-identifier hs-type">slice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196504"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196504"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196504"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196505"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-138"></span><span class="hs-pragma">{-# INLINE_FUSED slice #-}</span><span>
</span><span id="line-139"></span><span id="slice"><span class="annot"><span class="annottext">slice :: forall (v :: * -&gt; *) a.
Vector v a =&gt;
Int -&gt; Int -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#slice"><span class="hs-identifier hs-var hs-var">slice</span></a></span></span><span> </span><span id="local-6989586621679196662"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196662"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679196663"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196663"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196664"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196664"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s.
(HasCallStack, MVector v a) =&gt;
Int -&gt; Int -&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#slice"><span class="hs-identifier hs-var">MVector.slice</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196662"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196663"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196664"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span id="local-6989586621679196513"><span id="local-6989586621679196514"><span class="annot"><a href="Data.Vector.Generic.New.html#init"><span class="hs-identifier hs-type">init</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196513"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196514"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196513"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196514"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196513"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196514"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-142"></span><span class="hs-pragma">{-# INLINE_FUSED init #-}</span><span>
</span><span id="line-143"></span><span id="init"><span class="annot"><span class="annottext">init :: forall (v :: * -&gt; *) a. Vector v a =&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#init"><span class="hs-identifier hs-var hs-var">init</span></a></span></span><span> </span><span id="local-6989586621679196671"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196671"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; Mutable v s a
forall s. Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s. MVector v a =&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#init"><span class="hs-identifier hs-var">MVector.init</span></a></span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196671"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span id="local-6989586621679196674"><span id="local-6989586621679196675"><span class="annot"><a href="Data.Vector.Generic.New.html#tail"><span class="hs-identifier hs-type">tail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196674"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196675"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196674"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196675"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196674"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196675"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-146"></span><span class="hs-pragma">{-# INLINE_FUSED tail #-}</span><span>
</span><span id="line-147"></span><span id="tail"><span class="annot"><span class="annottext">tail :: forall (v :: * -&gt; *) a. Vector v a =&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#tail"><span class="hs-identifier hs-var hs-var">tail</span></a></span></span><span> </span><span id="local-6989586621679196678"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196678"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; Mutable v s a
forall s. Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s. MVector v a =&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#tail"><span class="hs-identifier hs-var">MVector.tail</span></a></span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196678"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span id="local-6989586621679196524"><span id="local-6989586621679196525"><span class="annot"><a href="Data.Vector.Generic.New.html#take"><span class="hs-identifier hs-type">take</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196524"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196525"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196524"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196525"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196524"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196525"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-150"></span><span class="hs-pragma">{-# INLINE_FUSED take #-}</span><span>
</span><span id="line-151"></span><span id="take"><span class="annot"><span class="annottext">take :: forall (v :: * -&gt; *) a. Vector v a =&gt; Int -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#take"><span class="hs-identifier hs-var hs-var">take</span></a></span></span><span> </span><span id="local-6989586621679196683"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196683"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196684"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196684"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s. MVector v a =&gt; Int -&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#take"><span class="hs-identifier hs-var">MVector.take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196683"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196684"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span id="local-6989586621679196687"><span id="local-6989586621679196688"><span class="annot"><a href="Data.Vector.Generic.New.html#drop"><span class="hs-identifier hs-type">drop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196687"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196688"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196687"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196688"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196687"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196688"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-154"></span><span class="hs-pragma">{-# INLINE_FUSED drop #-}</span><span>
</span><span id="line-155"></span><span id="drop"><span class="annot"><span class="annottext">drop :: forall (v :: * -&gt; *) a. Vector v a =&gt; Int -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#drop"><span class="hs-identifier hs-var hs-var">drop</span></a></span></span><span> </span><span id="local-6989586621679196691"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196691"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196692"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196692"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s. MVector v a =&gt; Int -&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#drop"><span class="hs-identifier hs-var">MVector.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196691"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196692"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span id="local-6989586621679196695"><span id="local-6989586621679196696"><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeSlice"><span class="hs-identifier hs-type">unsafeSlice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196695"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196696"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196695"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196696"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196695"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196696"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-158"></span><span class="hs-pragma">{-# INLINE_FUSED unsafeSlice #-}</span><span>
</span><span id="line-159"></span><span id="unsafeSlice"><span class="annot"><span class="annottext">unsafeSlice :: forall (v :: * -&gt; *) a.
Vector v a =&gt;
Int -&gt; Int -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#unsafeSlice"><span class="hs-identifier hs-var hs-var">unsafeSlice</span></a></span></span><span> </span><span id="local-6989586621679196699"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196699"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679196700"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196700"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196701"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196701"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s.
MVector v a =&gt;
Int -&gt; Int -&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#unsafeSlice"><span class="hs-identifier hs-var">MVector.unsafeSlice</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196699"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679196700"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196701"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span id="local-6989586621679196704"><span id="local-6989586621679196705"><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeInit"><span class="hs-identifier hs-type">unsafeInit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196704"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196705"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196704"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196705"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196704"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196705"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-162"></span><span class="hs-pragma">{-# INLINE_FUSED unsafeInit #-}</span><span>
</span><span id="line-163"></span><span id="unsafeInit"><span class="annot"><span class="annottext">unsafeInit :: forall (v :: * -&gt; *) a. Vector v a =&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#unsafeInit"><span class="hs-identifier hs-var hs-var">unsafeInit</span></a></span></span><span> </span><span id="local-6989586621679196708"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196708"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; Mutable v s a
forall s. Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s. MVector v a =&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#unsafeInit"><span class="hs-identifier hs-var">MVector.unsafeInit</span></a></span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196708"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621679196711"><span id="local-6989586621679196712"><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeTail"><span class="hs-identifier hs-type">unsafeTail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vector.Generic.Base.html#Vector"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196711"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196712"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196711"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196712"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#New"><span class="hs-identifier hs-type">New</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196711"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196712"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-166"></span><span class="hs-pragma">{-# INLINE_FUSED unsafeTail #-}</span><span>
</span><span id="line-167"></span><span id="unsafeTail"><span class="annot"><span class="annottext">unsafeTail :: forall (v :: * -&gt; *) a. Vector v a =&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#unsafeTail"><span class="hs-identifier hs-var hs-var">unsafeTail</span></a></span></span><span> </span><span id="local-6989586621679196715"><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196715"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
forall (v :: * -&gt; *) a.
(forall s. Mutable v s a -&gt; Mutable v s a) -&gt; New v a -&gt; New v a
</span><a href="Data.Vector.Generic.New.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Mutable v s a -&gt; Mutable v s a
forall s. Mutable v s a -&gt; Mutable v s a
forall (v :: * -&gt; * -&gt; *) a s. MVector v a =&gt; v s a -&gt; v s a
</span><a href="Data.Vector.Generic.Mutable.html#unsafeTail"><span class="hs-identifier hs-var">MVector.unsafeTail</span></a></span><span> </span><span class="annot"><span class="annottext">New v a
</span><a href="#local-6989586621679196715"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-pragma">{-# RULES</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="annot"><span class="hs-pragma">&quot;slice/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196718"><span class="annot"><a href="#local-6989586621679196718"><span class="hs-pragma hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679196719"><span class="annot"><a href="#local-6989586621679196719"><span class="hs-pragma hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196720"><span class="annot"><a href="#local-6989586621679196720"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#slice"><span class="hs-pragma hs-type">slice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196718"><span class="hs-pragma hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196719"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196720"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#slice"><span class="hs-pragma hs-type">Bundle.slice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196718"><span class="hs-pragma hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196719"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196720"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="annot"><span class="hs-pragma">&quot;init/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196722"><span class="annot"><a href="#local-6989586621679196722"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#init"><span class="hs-pragma hs-type">init</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196722"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#init"><span class="hs-pragma hs-type">Bundle.init</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196722"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="annot"><span class="hs-pragma">&quot;tail/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196724"><span class="annot"><a href="#local-6989586621679196724"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#tail"><span class="hs-pragma hs-type">tail</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196724"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#tail"><span class="hs-pragma hs-type">Bundle.tail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196724"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="annot"><span class="hs-pragma">&quot;take/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196726"><span class="annot"><a href="#local-6989586621679196726"><span class="hs-pragma hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196727"><span class="annot"><a href="#local-6989586621679196727"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#take"><span class="hs-pragma hs-type">take</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196726"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196727"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#take"><span class="hs-pragma hs-type">Bundle.take</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196726"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196727"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="annot"><span class="hs-pragma">&quot;drop/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196729"><span class="annot"><a href="#local-6989586621679196729"><span class="hs-pragma hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196730"><span class="annot"><a href="#local-6989586621679196730"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#drop"><span class="hs-pragma hs-type">drop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196729"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196730"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#drop"><span class="hs-pragma hs-type">Bundle.drop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196729"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196730"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-pragma">&quot;unsafeSlice/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196732"><span class="annot"><a href="#local-6989586621679196732"><span class="hs-pragma hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679196733"><span class="annot"><a href="#local-6989586621679196733"><span class="hs-pragma hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679196734"><span class="annot"><a href="#local-6989586621679196734"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeSlice"><span class="hs-pragma hs-type">unsafeSlice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196732"><span class="hs-pragma hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196733"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196734"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#slice"><span class="hs-pragma hs-type">Bundle.slice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196732"><span class="hs-pragma hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196733"><span class="hs-pragma hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196734"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><span class="hs-pragma">&quot;unsafeInit/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196735"><span class="annot"><a href="#local-6989586621679196735"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeInit"><span class="hs-pragma hs-type">unsafeInit</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196735"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#init"><span class="hs-pragma hs-type">Bundle.init</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196735"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="annot"><span class="hs-pragma">&quot;unsafeTail/unstream [New]&quot;</span></span><span> </span><span class="hs-pragma">forall</span><span> </span><span id="local-6989586621679196736"><span class="annot"><a href="#local-6989586621679196736"><span class="hs-pragma hs-var">s</span></a></span></span><span class="hs-pragma">.</span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><a href="Data.Vector.Generic.New.html#unsafeTail"><span class="hs-pragma hs-type">unsafeTail</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196736"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="annot"><a href="Data.Vector.Generic.New.html#unstream"><span class="hs-pragma hs-type">unstream</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Data.Vector.Fusion.Bundle.html#tail"><span class="hs-pragma hs-type">Bundle.tail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679196736"><span class="hs-pragma hs-type">s</span></a></span><span class="hs-pragma">)</span><span>   </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-comment">-- $references</span><span>
</span><span id="line-197"></span><span class="hs-comment">--</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- * Leshchinskiy, Roman. &quot;Recycle your arrays!&quot;. Practical Aspects of</span><span>
</span><span id="line-199"></span><span class="hs-comment">--   Declarative Languages: 11th International Symposium, PADL 2009,</span><span>
</span><span id="line-200"></span><span class="hs-comment">--   Savannah, GA, USA, January 19-20, 2009. Proceedings 11. Springer</span><span>
</span><span id="line-201"></span><span class="hs-comment">--   Berlin Heidelberg, 2009.</span><span>
</span><span id="line-202"></span></pre></body></html>