<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns, CPP, FlexibleInstances, TypeSynonymInstances #-}</span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &gt;= 702
</span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span> </span><span class="hs-comment">-- Imports internal modules</span><span class="hs-cpp">
#endif
</span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-warnings-deprecations #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Module      :  Data.Attoparsec.Text</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Copyright   :  Bryan O'Sullivan 2007-2015</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Maintainer  :  bos@serpentine.com</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Portability :  unknown</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Simple, efficient combinator parsing for 'Text' strings,</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- loosely based on the Parsec library.</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Attoparsec.Text</span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Differences from Parsec</span></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><span class="hs-comment">-- $parsec</span></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Incremental input</span></span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- $incremental</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Performance considerations</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- $performance</span></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Parser types</span></span><span>
</span><span id="line-31"></span><span>      </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier">Parser</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Result"><span class="hs-identifier">Result</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html#IResult"><span class="hs-identifier">T.IResult</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Internal.html#compareResults"><span class="hs-identifier">I.compareResults</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Running parsers</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#parse"><span class="hs-identifier">parse</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#feed"><span class="hs-identifier">feed</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#parseOnly"><span class="hs-identifier">I.parseOnly</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#parseWith"><span class="hs-identifier">parseWith</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#parseTest"><span class="hs-identifier">parseTest</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Result conversion</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#maybeResult"><span class="hs-identifier">maybeResult</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#eitherResult"><span class="hs-identifier">eitherResult</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Parsing individual characters</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#char"><span class="hs-identifier">I.char</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#anyChar"><span class="hs-identifier">I.anyChar</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#notChar"><span class="hs-identifier">I.notChar</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier">I.satisfy</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#satisfyWith"><span class="hs-identifier">I.satisfyWith</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#skip"><span class="hs-identifier">I.skip</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Lookahead</span></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#peekChar"><span class="hs-identifier">I.peekChar</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#peekChar%27"><span class="hs-identifier">I.peekChar'</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Special character parsers</span></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#digit"><span class="hs-identifier">digit</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#letter"><span class="hs-identifier">letter</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#space"><span class="hs-identifier">space</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Character classes</span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#inClass"><span class="hs-identifier">I.inClass</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#notInClass"><span class="hs-identifier">I.notInClass</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Efficient string handling</span></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#string"><span class="hs-identifier">I.string</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#stringCI"><span class="hs-identifier">I.stringCI</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#asciiCI"><span class="hs-identifier">I.asciiCI</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#skipSpace"><span class="hs-identifier">skipSpace</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#skipWhile"><span class="hs-identifier">I.skipWhile</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#scan"><span class="hs-identifier">I.scan</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#runScanner"><span class="hs-identifier">I.runScanner</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#take"><span class="hs-identifier">I.take</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#takeWhile"><span class="hs-identifier">I.takeWhile</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#takeWhile1"><span class="hs-identifier">I.takeWhile1</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#takeTill"><span class="hs-identifier">I.takeTill</span></a></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** String combinators</span></span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><span class="hs-comment">-- $specalt</span></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#.%2A%3E"><span class="hs-operator">(.*&gt;)</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#%3C%2A."><span class="hs-operator">(&lt;*.)</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Consume all remaining input</span></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#takeText"><span class="hs-identifier">I.takeText</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#takeLazyText"><span class="hs-identifier">I.takeLazyText</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Text parsing</span></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#endOfLine"><span class="hs-identifier">I.endOfLine</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#isEndOfLine"><span class="hs-identifier">isEndOfLine</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#isHorizontalSpace"><span class="hs-identifier">isHorizontalSpace</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Numeric parsers</span></span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-identifier">decimal</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-identifier">hexadecimal</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-identifier">signed</span></a></span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#double"><span class="hs-identifier">double</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Number.html#Number"><span class="hs-identifier">Number</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#number"><span class="hs-identifier">number</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#rational"><span class="hs-identifier">rational</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#scientific"><span class="hs-identifier">scientific</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Combinators</span></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#try"><span class="hs-identifier">try</span></a></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#%3C%3F%3E"><span class="hs-operator">(&lt;?&gt;)</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#choice"><span class="hs-identifier">choice</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#count"><span class="hs-identifier">count</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#option"><span class="hs-identifier">option</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#many%27"><span class="hs-identifier">many'</span></a></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#many1"><span class="hs-identifier">many1</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#many1%27"><span class="hs-identifier">many1'</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#manyTill"><span class="hs-identifier">manyTill</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#manyTill%27"><span class="hs-identifier">manyTill'</span></a></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#sepBy"><span class="hs-identifier">sepBy</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#sepBy%27"><span class="hs-identifier">sepBy'</span></a></span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#sepBy1"><span class="hs-identifier">sepBy1</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#sepBy1%27"><span class="hs-identifier">sepBy1'</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#skipMany"><span class="hs-identifier">skipMany</span></a></span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#skipMany1"><span class="hs-identifier">skipMany1</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html#eitherP"><span class="hs-identifier">eitherP</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#match"><span class="hs-identifier">I.match</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="hs-comment">-- * State observation and manipulation functions</span></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Internal.html#endOfInput"><span class="hs-identifier">I.endOfInput</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Internal.html#atEnd"><span class="hs-identifier">I.atEnd</span></a></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#if !MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pure</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-operator">*&gt;</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-operator">&lt;*</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-operator">&lt;$&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Word</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Word</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Attoparsec.Combinator.html"><span class="hs-identifier">Data.Attoparsec.Combinator</span></a></span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Attoparsec.Number.html"><span class="hs-identifier">Data.Attoparsec.Number</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Number.html#Number"><span class="hs-identifier">Number</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Scientific</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Scientific</span></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Scientific</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Sci</span></span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html"><span class="hs-identifier">Data.Attoparsec.Text.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier">Parser</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Result"><span class="hs-identifier">Result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#parse"><span class="hs-identifier">parse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#takeWhile1"><span class="hs-identifier">takeWhile1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bits</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.|.)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">shiftL</span></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isAlpha</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isDigit</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isSpace</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ord</span></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int8</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">intercalate</span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word8</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word64</span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.Attoparsec.Internal.html"><span class="hs-identifier">Data.Attoparsec.Internal</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">I</span></span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html"><span class="hs-identifier">Data.Attoparsec.Internal.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html"><span class="hs-identifier">Data.Attoparsec.Text.Internal</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">I</span></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- $parsec</span><span>
</span><span id="line-151"></span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- Compared to Parsec 3, attoparsec makes several tradeoffs.  It is</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- not intended for, or ideal for, all possible uses.</span><span>
</span><span id="line-154"></span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- * While attoparsec can consume input incrementally, Parsec cannot.</span><span>
</span><span id="line-156"></span><span class="hs-comment">--   Incremental input is a huge deal for efficient and secure network</span><span>
</span><span id="line-157"></span><span class="hs-comment">--   and system programming, since it gives much more control to users</span><span>
</span><span id="line-158"></span><span class="hs-comment">--   of the library over matters such as resource usage and the I/O</span><span>
</span><span id="line-159"></span><span class="hs-comment">--   model to use.</span><span>
</span><span id="line-160"></span><span class="hs-comment">--</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- * Much of the performance advantage of attoparsec is gained via</span><span>
</span><span id="line-162"></span><span class="hs-comment">--   high-performance parsers such as 'I.takeWhile' and 'I.string'.</span><span>
</span><span id="line-163"></span><span class="hs-comment">--   If you use complicated combinators that return lists of</span><span>
</span><span id="line-164"></span><span class="hs-comment">--   characters, there is less performance difference between the two</span><span>
</span><span id="line-165"></span><span class="hs-comment">--   libraries.</span><span>
</span><span id="line-166"></span><span class="hs-comment">--</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- * Unlike Parsec 3, attoparsec does not support being used as a</span><span>
</span><span id="line-168"></span><span class="hs-comment">--   monad transformer.</span><span>
</span><span id="line-169"></span><span class="hs-comment">--</span><span>
</span><span id="line-170"></span><span class="hs-comment">-- * attoparsec is specialised to deal only with strict 'Text'</span><span>
</span><span id="line-171"></span><span class="hs-comment">--   input.  Efficiency concerns rule out both lists and lazy text.</span><span>
</span><span id="line-172"></span><span class="hs-comment">--   The usual use for lazy text would be to allow consumption of very</span><span>
</span><span id="line-173"></span><span class="hs-comment">--   large input without a large footprint.  For this need,</span><span>
</span><span id="line-174"></span><span class="hs-comment">--   attoparsec's incremental input provides an excellent substitute,</span><span>
</span><span id="line-175"></span><span class="hs-comment">--   with much more control over when input takes place.  If you must</span><span>
</span><span id="line-176"></span><span class="hs-comment">--   use lazy text, see the 'Lazy' module, which feeds lazy chunks to</span><span>
</span><span id="line-177"></span><span class="hs-comment">--   a regular parser.</span><span>
</span><span id="line-178"></span><span class="hs-comment">--</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- * Parsec parsers can produce more helpful error messages than</span><span>
</span><span id="line-180"></span><span class="hs-comment">--   attoparsec parsers.  This is a matter of focus: attoparsec avoids</span><span>
</span><span id="line-181"></span><span class="hs-comment">--   the extra book-keeping in favour of higher performance.</span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-comment">-- $incremental</span><span>
</span><span id="line-184"></span><span class="hs-comment">--</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- attoparsec supports incremental input, meaning that you can feed it</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- a 'Text' that represents only part of the expected total amount</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- of data to parse. If your parser reaches the end of a fragment of</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- input and could consume more input, it will suspend parsing and</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- return a 'T.Partial' continuation.</span><span>
</span><span id="line-190"></span><span class="hs-comment">--</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- Supplying the 'T.Partial' continuation with another string will</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- resume parsing at the point where it was suspended, with the string</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- you supplied used as new input at the end of the existing</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- input. You must be prepared for the result of the resumed parse to</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- be another 'Partial' continuation.</span><span>
</span><span id="line-196"></span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- To indicate that you have no more input, supply the 'Partial'</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- continuation with an 'T.empty' 'Text'.</span><span>
</span><span id="line-199"></span><span class="hs-comment">--</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- Remember that some parsing combinators will not return a result</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- until they reach the end of input.  They may thus cause 'T.Partial'</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- results to be returned.</span><span>
</span><span id="line-203"></span><span class="hs-comment">--</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- If you do not need support for incremental input, consider using</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- the 'I.parseOnly' function to run your parser.  It will never</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- prompt for more input.</span><span>
</span><span id="line-207"></span><span class="hs-comment">--</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- /Note/: incremental input does /not/ imply that attoparsec will</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- release portions of its internal state for garbage collection as it</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- proceeds.  Its internal representation is equivalent to a single</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- 'Text': if you feed incremental input to an a parser, it will</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- require memory proportional to the amount of input you supply.</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- (This is necessary to support arbitrary backtracking.)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- $performance</span><span>
</span><span id="line-216"></span><span class="hs-comment">--</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- If you write an attoparsec-based parser carefully, it can be</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- realistic to expect it to perform similarly to a hand-rolled C</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- parser (measuring megabytes parsed per second).</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- To actually achieve high performance, there are a few guidelines</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- that it is useful to follow.</span><span>
</span><span id="line-223"></span><span class="hs-comment">--</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- Use the 'Text'-oriented parsers whenever possible,</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- e.g. 'I.takeWhile1' instead of 'many1' 'I.anyChar'.  There is</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- about a factor of 100 difference in performance between the two</span><span>
</span><span id="line-227"></span><span class="hs-comment">-- kinds of parser.</span><span>
</span><span id="line-228"></span><span class="hs-comment">--</span><span>
</span><span id="line-229"></span><span class="hs-comment">-- For very simple character-testing predicates, write them by hand</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- instead of using 'I.inClass' or 'I.notInClass'.  For instance, both</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- of these predicates test for an end-of-line character, but the</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- first is much faster than the second:</span><span>
</span><span id="line-233"></span><span class="hs-comment">--</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- &gt;endOfLine_fast c = c == '\r' || c == '\n'</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- &gt;endOfLine_slow   = inClass &quot;\r\n&quot;</span><span>
</span><span id="line-236"></span><span class="hs-comment">--</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- Make active use of benchmarking and profiling tools to measure,</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- find the problems with, and improve the performance of your parser.</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="annot"><span class="hs-comment">-- | Run a parser and print its result to standard output.</span></span><span>
</span><span id="line-241"></span><span id="local-6989586621679075045"><span class="annot"><a href="Data.Attoparsec.Text.html#parseTest"><span class="hs-identifier hs-type">parseTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679075045"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">I.Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075045"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-242"></span><span id="parseTest"><span class="annot"><span class="annottext">parseTest :: forall a. Show a =&gt; Parser a -&gt; Text -&gt; IO ()
</span><a href="Data.Attoparsec.Text.html#parseTest"><span class="hs-identifier hs-var hs-var">parseTest</span></a></span></span><span> </span><span id="local-6989586621679075310"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075310"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679075311"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075311"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Result a -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">print</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser a -&gt; Text -&gt; Result a
forall a. Parser a -&gt; Text -&gt; Result a
</span><a href="Data.Attoparsec.Text.Internal.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075310"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075311"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Run a parser with an initial input string, and a monadic action</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- that can supply more input if needed.</span><span>
</span><span id="line-246"></span><span id="local-6989586621679075055"><span id="local-6989586621679075056"><span class="annot"><a href="Data.Attoparsec.Text.html#parseWith"><span class="hs-identifier hs-type">parseWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679075055"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-247"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075055"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>          </span><span class="hs-comment">-- ^ An action that will be executed to provide the parser</span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-comment">-- with more input, if necessary.  The action must return an</span><span>
</span><span id="line-250"></span><span>          </span><span class="hs-comment">-- 'T.empty' string when there is no more input available.</span><span>
</span><span id="line-251"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">I.Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075056"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-252"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-253"></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Initial input for the parser.</span></span><span>
</span><span id="line-254"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075055"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075056"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-255"></span><span id="parseWith"><span class="annot"><span class="annottext">parseWith :: forall (m :: * -&gt; *) a.
Monad m =&gt;
m Text -&gt; Parser a -&gt; Text -&gt; m (Result a)
</span><a href="Data.Attoparsec.Text.html#parseWith"><span class="hs-identifier hs-var hs-var">parseWith</span></a></span></span><span> </span><span id="local-6989586621679075317"><span class="annot"><span class="annottext">m Text
</span><a href="#local-6989586621679075317"><span class="hs-identifier hs-var">refill</span></a></span></span><span> </span><span id="local-6989586621679075318"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075318"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679075319"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075319"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IResult Text a -&gt; m (IResult Text a)
forall {r}. IResult Text r -&gt; m (IResult Text r)
</span><a href="#local-6989586621679075320"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">(IResult Text a -&gt; m (IResult Text a))
-&gt; IResult Text a -&gt; m (IResult Text a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser a -&gt; Text -&gt; IResult Text a
forall a. Parser a -&gt; Text -&gt; Result a
</span><a href="Data.Attoparsec.Text.Internal.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075318"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075319"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679075320"><span class="annot"><span class="annottext">step :: IResult Text r -&gt; m (IResult Text r)
</span><a href="#local-6989586621679075320"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html#Partial"><span class="hs-identifier hs-type">T.Partial</span></a></span><span> </span><span id="local-6989586621679075325"><span class="annot"><span class="annottext">Text -&gt; IResult Text r
</span><a href="#local-6989586621679075325"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IResult Text r -&gt; m (IResult Text r)
</span><a href="#local-6989586621679075320"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">(IResult Text r -&gt; m (IResult Text r))
-&gt; (Text -&gt; IResult Text r) -&gt; Text -&gt; m (IResult Text r)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; IResult Text r
</span><a href="#local-6989586621679075325"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m (IResult Text r)) -&gt; m Text -&gt; m (IResult Text r)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">m Text
</span><a href="#local-6989586621679075317"><span class="hs-identifier hs-var">refill</span></a></span><span>
</span><span id="line-257"></span><span>        </span><span class="annot"><a href="#local-6989586621679075320"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span id="local-6989586621679075328"><span class="annot"><span class="annottext">IResult Text r
</span><a href="#local-6989586621679075328"><span class="hs-identifier hs-var">r</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IResult Text r -&gt; m (IResult Text r)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">IResult Text r
</span><a href="#local-6989586621679075328"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-258"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#parseWith"><span class="hs-pragma hs-type">parseWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- | Convert a 'Result' value to a 'Maybe' value. A 'Partial' result</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- is treated as failure.</span><span>
</span><span id="line-262"></span><span id="local-6989586621679075072"><span class="annot"><a href="Data.Attoparsec.Text.html#maybeResult"><span class="hs-identifier hs-type">maybeResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075072"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075072"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-263"></span><span id="maybeResult"><span class="annot"><span class="annottext">maybeResult :: forall r. Result r -&gt; Maybe r
</span><a href="Data.Attoparsec.Text.html#maybeResult"><span class="hs-identifier hs-var hs-var">maybeResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html#Done"><span class="hs-identifier hs-type">T.Done</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679075330"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679075330"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; Maybe r
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679075330"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-264"></span><span class="annot"><a href="Data.Attoparsec.Text.html#maybeResult"><span class="hs-identifier hs-var">maybeResult</span></a></span><span> </span><span class="annot"><span class="annottext">IResult Text r
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe r
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Convert a 'Result' value to an 'Either' value. A 'Partial' result</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- is treated as failure.</span><span>
</span><span id="line-268"></span><span id="local-6989586621679075075"><span class="annot"><a href="Data.Attoparsec.Text.html#eitherResult"><span class="hs-identifier hs-type">eitherResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075075"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679075075"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-269"></span><span id="eitherResult"><span class="annot"><span class="annottext">eitherResult :: forall r. Result r -&gt; Either String r
</span><a href="Data.Attoparsec.Text.html#eitherResult"><span class="hs-identifier hs-var hs-var">eitherResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html#Done"><span class="hs-identifier hs-type">T.Done</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679075331"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679075331"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; Either String r
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679075331"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-270"></span><span class="annot"><a href="Data.Attoparsec.Text.html#eitherResult"><span class="hs-identifier hs-var">eitherResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html#Fail"><span class="hs-identifier hs-type">T.Fail</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679075333"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679075333"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679075333"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-271"></span><span class="annot"><a href="Data.Attoparsec.Text.html#eitherResult"><span class="hs-identifier hs-var">eitherResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Attoparsec.Internal.Types.html#Fail"><span class="hs-identifier hs-type">T.Fail</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679075334"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679075334"><span class="hs-identifier hs-var">ctxs</span></a></span></span><span> </span><span id="local-6989586621679075335"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679075335"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &gt; &quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679075334"><span class="hs-identifier hs-var">ctxs</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679075335"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span class="annot"><a href="Data.Attoparsec.Text.html#eitherResult"><span class="hs-identifier hs-var">eitherResult</span></a></span><span> </span><span class="annot"><span class="annottext">IResult Text r
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Result: incomplete input&quot;</span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-comment">-- | A predicate that matches either a carriage return @\'\\r\'@ or</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- newline @\'\\n\'@ character.</span><span>
</span><span id="line-276"></span><span class="annot"><a href="Data.Attoparsec.Text.html#isEndOfLine"><span class="hs-identifier hs-type">isEndOfLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-277"></span><span id="isEndOfLine"><span class="annot"><span class="annottext">isEndOfLine :: Char -&gt; Bool
</span><a href="Data.Attoparsec.Text.html#isEndOfLine"><span class="hs-identifier hs-var hs-var">isEndOfLine</span></a></span></span><span> </span><span id="local-6989586621679075336"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075336"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075336"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075336"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\r'</span></span><span>
</span><span id="line-278"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#isEndOfLine"><span class="hs-pragma hs-type">isEndOfLine</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-comment">-- | A predicate that matches either a space @\' \'@ or horizontal tab</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- @\'\\t\'@ character.</span><span>
</span><span id="line-282"></span><span class="annot"><a href="Data.Attoparsec.Text.html#isHorizontalSpace"><span class="hs-identifier hs-type">isHorizontalSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-283"></span><span id="isHorizontalSpace"><span class="annot"><span class="annottext">isHorizontalSpace :: Char -&gt; Bool
</span><a href="Data.Attoparsec.Text.html#isHorizontalSpace"><span class="hs-identifier hs-var hs-var">isHorizontalSpace</span></a></span></span><span> </span><span id="local-6989586621679075338"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075338"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075338"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075338"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\t'</span></span><span>
</span><span id="line-284"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#isHorizontalSpace"><span class="hs-pragma hs-type">isHorizontalSpace</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Parse and decode an unsigned hexadecimal number.  The hex digits</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- @\'a\'@ through @\'f\'@ may be upper or lower case.</span><span>
</span><span id="line-288"></span><span class="hs-comment">--</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- This parser does not accept a leading @\&quot;0x\&quot;@ string.</span><span>
</span><span id="line-290"></span><span id="local-6989586621679075082"><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-identifier hs-type">hexadecimal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679075082"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679075082"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075082"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-291"></span><span id="hexadecimal"><span class="annot"><span class="annottext">hexadecimal :: forall a. (Integral a, Bits a) =&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-identifier hs-var hs-var">hexadecimal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Char -&gt; a) -&gt; a -&gt; Text -&gt; a
forall a. (a -&gt; Char -&gt; a) -&gt; a -&gt; Text -&gt; a
</span><span class="hs-identifier hs-var">T.foldl'</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Char -&gt; a
forall {a}. (Bits a, Num a) =&gt; a -&gt; Char -&gt; a
</span><a href="#local-6989586621679075351"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; a) -&gt; Parser Text Text -&gt; Parser Text a
forall a b. (a -&gt; b) -&gt; Parser Text a -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Text Text
</span><a href="Data.Attoparsec.Text.Internal.html#takeWhile1"><span class="hs-identifier hs-var">takeWhile1</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679075352"><span class="hs-identifier hs-var">isHexDigit</span></a></span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>    </span><span id="local-6989586621679075352"><span class="annot"><span class="annottext">isHexDigit :: Char -&gt; Bool
</span><a href="#local-6989586621679075352"><span class="hs-identifier hs-var hs-var">isHexDigit</span></a></span></span><span> </span><span id="local-6989586621679075359"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'0'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'9'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span>
</span><span id="line-294"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'a'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'f'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span>
</span><span id="line-295"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'A'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'F'</span></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621679075351"><span class="annot"><span class="annottext">step :: a -&gt; Char -&gt; a
</span><a href="#local-6989586621679075351"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span id="local-6989586621679075391"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075391"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679075392"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075392"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">48</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">57</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075391"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">48</span></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">97</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075391"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">87</span></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075391"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">55</span></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679075393"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621679075393"><span class="hs-identifier hs-var hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075392"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-300"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-301"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int8</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-302"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int16</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-303"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int32</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-304"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int64</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-305"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Integer</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-306"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-307"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word8</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-308"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word16</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-309"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word32</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-310"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#hexadecimal"><span class="hs-pragma hs-type">hexadecimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word64</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="annot"><span class="hs-comment">-- | Parse and decode an unsigned decimal number.</span></span><span>
</span><span id="line-313"></span><span id="local-6989586621679075098"><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-identifier hs-type">decimal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679075098"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075098"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-314"></span><span id="decimal"><span class="annot"><span class="annottext">decimal :: forall a. Integral a =&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-identifier hs-var hs-var">decimal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Char -&gt; a) -&gt; a -&gt; Text -&gt; a
forall a. (a -&gt; Char -&gt; a) -&gt; a -&gt; Text -&gt; a
</span><span class="hs-identifier hs-var">T.foldl'</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Char -&gt; a
forall {a}. Num a =&gt; a -&gt; Char -&gt; a
</span><a href="#local-6989586621679075400"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; a) -&gt; Parser Text Text -&gt; Parser Text a
forall a b. (a -&gt; b) -&gt; Parser Text a -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Text Text
</span><a href="Data.Attoparsec.Text.Internal.html#takeWhile1"><span class="hs-identifier hs-var">takeWhile1</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="Data.Attoparsec.Text.html#isDecimal"><span class="hs-identifier hs-var">isDecimal</span></a></span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679075400"><span class="annot"><span class="annottext">step :: a -&gt; Char -&gt; a
</span><a href="#local-6989586621679075400"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span id="local-6989586621679075410"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075410"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679075411"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075411"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075410"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075411"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">48</span></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-317"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int8</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-318"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int16</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-319"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int32</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-320"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int64</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-321"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Integer</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-322"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-323"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word8</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-324"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word16</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-325"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word32</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-326"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-pragma hs-type">decimal</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Word64</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="annot"><a href="Data.Attoparsec.Text.html#isDecimal"><span class="hs-identifier hs-type">isDecimal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-329"></span><span id="isDecimal"><span class="annot"><span class="annottext">isDecimal :: Char -&gt; Bool
</span><a href="Data.Attoparsec.Text.html#isDecimal"><span class="hs-identifier hs-var hs-var">isDecimal</span></a></span></span><span> </span><span id="local-6989586621679075414"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075414"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075414"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'0'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075414"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'9'</span></span><span>
</span><span id="line-330"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#isDecimal"><span class="hs-pragma hs-type">isDecimal</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="hs-comment">-- | Parse a number with an optional leading @\'+\'@ or @\'-\'@ sign</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- character.</span><span>
</span><span id="line-334"></span><span id="local-6989586621679075101"><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-identifier hs-type">signed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679075101"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075101"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075101"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-335"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-pragma hs-type">signed</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-336"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-pragma hs-type">signed</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int8</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int8</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-337"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-pragma hs-type">signed</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int16</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int16</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-338"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-pragma hs-type">signed</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int32</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int32</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-339"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-pragma hs-type">signed</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int64</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Int64</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-340"></span><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#signed"><span class="hs-pragma hs-type">signed</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Integer</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Integer</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-341"></span><span id="signed"><span class="annot"><span class="annottext">signed :: forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#signed"><span class="hs-identifier hs-var hs-var">signed</span></a></span></span><span> </span><span id="local-6989586621679075424"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075424"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Parser a -&gt; Parser a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#char"><span class="hs-identifier hs-var">I.char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; Parser a -&gt; Parser a
forall a b. Parser Text a -&gt; Parser Text b -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075424"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>       </span><span class="annot"><span class="annottext">Parser a -&gt; Parser a -&gt; Parser a
forall a. Parser Text a -&gt; Parser Text a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#char"><span class="hs-identifier hs-var">I.char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'+'</span></span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; Parser a -&gt; Parser a
forall a b. Parser Text a -&gt; Parser Text b -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075424"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>       </span><span class="annot"><span class="annottext">Parser a -&gt; Parser a -&gt; Parser a
forall a. Parser Text a -&gt; Parser Text a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075424"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-comment">-- | Parse a rational number.</span><span>
</span><span id="line-346"></span><span class="hs-comment">--</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- The syntax accepted by this parser is the same as for 'double'.</span><span>
</span><span id="line-348"></span><span class="hs-comment">--</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- /Note/: this parser is not safe for use with inputs from untrusted</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- sources.  An input with a suitably large exponent such as</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- @&quot;1e1000000000&quot;@ will cause a huge 'Integer' to be allocated,</span><span>
</span><span id="line-352"></span><span class="hs-comment">-- resulting in what is effectively a denial-of-service attack.</span><span>
</span><span id="line-353"></span><span class="hs-comment">--</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- In most cases, it is better to use 'double' or 'scientific'</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- instead.</span><span>
</span><span id="line-356"></span><span id="local-6989586621679075113"><span class="annot"><a href="Data.Attoparsec.Text.html#rational"><span class="hs-identifier hs-type">rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621679075113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075113"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-357"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#rational"><span class="hs-pragma hs-type">rational</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Double</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-358"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#rational"><span class="hs-pragma hs-type">rational</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Float</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-359"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#rational"><span class="hs-pragma hs-type">rational</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-360"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#rational"><span class="hs-pragma hs-type">rational</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-pragma hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-pragma hs-type">Scientific</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-361"></span><span id="rational"><span class="annot"><span class="annottext">rational :: forall a. Fractional a =&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#rational"><span class="hs-identifier hs-var hs-var">rational</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; a) -&gt; Parser a
forall a. (Scientific -&gt; a) -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-identifier hs-var">scientifically</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; a
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">realToFrac</span></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-comment">-- | Parse a 'Double'.</span><span>
</span><span id="line-364"></span><span class="hs-comment">--</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- This parser accepts an optional leading sign character, followed by</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- at most one decimal digit.  The syntax is similar to that accepted by</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- the 'read' function, with the exception that a trailing @\'.\'@ is</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- consumed.</span><span>
</span><span id="line-369"></span><span class="hs-comment">--</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- === Examples</span><span>
</span><span id="line-371"></span><span class="hs-comment">--</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- These examples use this helper:</span><span>
</span><span id="line-373"></span><span class="hs-comment">--</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- r :: 'Parser' a -&gt; 'Data.Text.Text' -&gt; 'Data.Attoparsec.Text.Result' a</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- r p s = 'feed' ('Data.Attoparsec.parse' p s) 'mempty'</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-378"></span><span class="hs-comment">--</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- Examples with behaviour identical to 'read', if you feed an empty</span><span>
</span><span id="line-380"></span><span class="hs-comment">-- continuation to the first result:</span><span>
</span><span id="line-381"></span><span class="hs-comment">--</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- &gt; r double &quot;3&quot;     == Done &quot;&quot; 3.0</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- &gt; r double &quot;3.1&quot;   == Done &quot;&quot; 3.1</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- &gt; r double &quot;3e4&quot;   == Done &quot;&quot; 30000.0</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- &gt; r double &quot;3.1e4&quot; == Done &quot;&quot; 31000.0</span><span>
</span><span id="line-386"></span><span class="hs-comment">-- &gt; r double &quot;3e&quot;    == Done &quot;e&quot; 3.0</span><span>
</span><span id="line-387"></span><span class="hs-comment">--</span><span>
</span><span id="line-388"></span><span class="hs-comment">-- Examples with behaviour identical to 'read':</span><span>
</span><span id="line-389"></span><span class="hs-comment">--</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- &gt; r double &quot;.3&quot;    == Fail &quot;.3&quot; _ _</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- &gt; r double &quot;e3&quot;    == Fail &quot;e3&quot; _ _</span><span>
</span><span id="line-392"></span><span class="hs-comment">--</span><span>
</span><span id="line-393"></span><span class="hs-comment">-- Example of difference from 'read':</span><span>
</span><span id="line-394"></span><span class="hs-comment">--</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- &gt; r double &quot;3.foo&quot; == Done &quot;foo&quot; 3.0</span><span>
</span><span id="line-396"></span><span class="hs-comment">--</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- This function does not accept string representations of \&quot;NaN\&quot; or</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- \&quot;Infinity\&quot;.</span><span>
</span><span id="line-399"></span><span class="annot"><a href="Data.Attoparsec.Text.html#double"><span class="hs-identifier hs-type">double</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-400"></span><span id="double"><span class="annot"><span class="annottext">double :: Parser Double
</span><a href="Data.Attoparsec.Text.html#double"><span class="hs-identifier hs-var hs-var">double</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Double) -&gt; Parser Double
forall a. (Scientific -&gt; a) -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-identifier hs-var">scientifically</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Double
forall a. RealFloat a =&gt; Scientific -&gt; a
</span><span class="hs-identifier hs-var">Sci.toRealFloat</span></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-comment">-- | Parse a number, attempting to preserve both speed and precision.</span><span>
</span><span id="line-403"></span><span class="hs-comment">--</span><span>
</span><span id="line-404"></span><span class="hs-comment">-- The syntax accepted by this parser is the same as for 'double'.</span><span>
</span><span id="line-405"></span><span class="hs-comment">--</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- This function does not accept string representations of \&quot;NaN\&quot; or</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- \&quot;Infinity\&quot;.</span><span>
</span><span id="line-408"></span><span class="annot"><a href="Data.Attoparsec.Text.html#number"><span class="hs-identifier hs-type">number</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="Data.Attoparsec.Number.html#Number"><span class="hs-identifier hs-type">Number</span></a></span><span>
</span><span id="line-409"></span><span id="number"><span class="annot"><span class="annottext">number :: Parser Number
</span><a href="Data.Attoparsec.Text.html#number"><span class="hs-identifier hs-var hs-var">number</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Number) -&gt; Parser Number
forall a. (Scientific -&gt; a) -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-identifier hs-var">scientifically</span></a></span><span> </span><span class="annot"><span class="annottext">((Scientific -&gt; Number) -&gt; Parser Number)
-&gt; (Scientific -&gt; Number) -&gt; Parser Number
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679075433"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679075433"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-410"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679075434"><span class="annot"><span class="annottext">e :: Int
</span><a href="#local-6989586621679075434"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Int
</span><span class="hs-identifier hs-var">Sci.base10Exponent</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679075433"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-411"></span><span>                </span><span id="local-6989586621679075436"><span class="annot"><span class="annottext">c :: Integer
</span><a href="#local-6989586621679075436"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Integer
</span><span class="hs-identifier hs-var">Sci.coefficient</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679075433"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-412"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075434"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-413"></span><span>               </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Number
</span><a href="Data.Attoparsec.Number.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075436"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075434"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>               </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Number
</span><a href="Data.Attoparsec.Number.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific -&gt; Double
forall a. RealFloat a =&gt; Scientific -&gt; a
</span><span class="hs-identifier hs-var">Sci.toRealFloat</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679075433"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">number</span><span> </span><span class="hs-pragma">&quot;Use 'scientific' instead.&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">-- | Parse a scientific number.</span><span>
</span><span id="line-418"></span><span class="hs-comment">--</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- The syntax accepted by this parser is the same as for 'double'.</span><span>
</span><span id="line-420"></span><span class="annot"><a href="Data.Attoparsec.Text.html#scientific"><span class="hs-identifier hs-type">scientific</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Scientific</span></span><span>
</span><span id="line-421"></span><span id="scientific"><span class="annot"><span class="annottext">scientific :: Parser Scientific
</span><a href="Data.Attoparsec.Text.html#scientific"><span class="hs-identifier hs-var hs-var">scientific</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Scientific) -&gt; Parser Scientific
forall a. (Scientific -&gt; a) -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-identifier hs-var">scientifically</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">-- A strict pair</span><span>
</span><span id="line-424"></span><span class="hs-keyword">data</span><span> </span><span id="SP"><span class="annot"><a href="Data.Attoparsec.Text.html#SP"><span class="hs-identifier hs-var">SP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SP"><span class="annot"><a href="Data.Attoparsec.Text.html#SP"><span class="hs-identifier hs-var">SP</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-pragma hs-type">scientifically</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-427"></span><span id="local-6989586621679075115"><span class="annot"><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-identifier hs-type">scientifically</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Scientific</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075115"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075115"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-428"></span><span id="scientifically"><span class="annot"><span class="annottext">scientifically :: forall a. (Scientific -&gt; a) -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#scientifically"><span class="hs-identifier hs-var hs-var">scientifically</span></a></span></span><span> </span><span id="local-6989586621679075468"><span class="annot"><span class="annottext">Scientific -&gt; a
</span><a href="#local-6989586621679075468"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-glyph">!</span><span id="local-6989586621679075469"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679075469"><span class="hs-identifier hs-var">positive</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'+'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char -&gt; Parser Text Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier hs-var">I.satisfy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679075470"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075470"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075470"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075470"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'+'</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser Text Bool -&gt; Parser Text Bool -&gt; Parser Text Bool
forall a. Parser Text a -&gt; Parser Text a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span>
</span><span id="line-430"></span><span>               </span><span class="annot"><span class="annottext">Bool -&gt; Parser Text Bool
forall a. a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621679075471"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075471"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser Integer
forall a. Integral a =&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-identifier hs-var">decimal</span></a></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679075474"><span class="annot"><span class="annottext">f :: Text -&gt; SP
</span><a href="#local-6989586621679075474"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679075475"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075475"><span class="hs-identifier hs-var">fracDigits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; SP
</span><a href="Data.Attoparsec.Text.html#SP"><span class="hs-identifier hs-var">SP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Char -&gt; Integer) -&gt; Integer -&gt; Text -&gt; Integer
forall a. (a -&gt; Char -&gt; a) -&gt; a -&gt; Text -&gt; a
</span><span class="hs-identifier hs-var">T.foldl'</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Char -&gt; Integer
forall {a}. Num a =&gt; a -&gt; Char -&gt; a
</span><a href="#local-6989586621679075476"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075471"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075475"><span class="hs-identifier hs-var">fracDigits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">T.length</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075475"><span class="hs-identifier hs-var">fracDigits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>      </span><span id="local-6989586621679075476"><span class="annot"><span class="annottext">step :: a -&gt; Char -&gt; a
</span><a href="#local-6989586621679075476"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span id="local-6989586621679075486"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075486"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679075487"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075487"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679075486"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075487"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">48</span></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span>  </span><span class="annot"><a href="Data.Attoparsec.Text.html#SP"><span class="hs-identifier hs-type">SP</span></a></span><span> </span><span id="local-6989586621679075488"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075488"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679075489"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075489"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier hs-var">I.satisfy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; Parser Text SP -&gt; Parser Text SP
forall a b. Parser Text a -&gt; Parser Text b -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; SP
</span><a href="#local-6989586621679075474"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; SP) -&gt; Parser Text Text -&gt; Parser Text SP
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Text Text
</span><a href="Data.Attoparsec.Text.Internal.html#takeWhile"><span class="hs-identifier hs-var">I.takeWhile</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isDigit</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser Text SP -&gt; Parser Text SP -&gt; Parser Text SP
forall a. Parser Text a -&gt; Parser Text a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span>
</span><span id="line-439"></span><span>            </span><span class="annot"><span class="annottext">SP -&gt; Parser Text SP
forall a. a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; SP
</span><a href="Data.Attoparsec.Text.html#SP"><span class="hs-identifier hs-var">SP</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075471"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679075491"><span class="annot"><span class="annottext">signedCoeff :: Integer
</span><a href="#local-6989586621679075491"><span class="hs-identifier hs-var hs-var">signedCoeff</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679075469"><span class="hs-identifier hs-var">positive</span></a></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075488"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-442"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075488"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier hs-var">I.satisfy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679075492"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075492"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075492"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'e'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679075492"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'E'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; Parser a -&gt; Parser a
forall a b. Parser Text a -&gt; Parser Text b -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span>
</span><span id="line-445"></span><span>      </span><span class="annot"><span class="annottext">(Int -&gt; a) -&gt; Parser Text Int -&gt; Parser a
forall a b. (a -&gt; b) -&gt; Parser Text a -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific -&gt; a
</span><a href="#local-6989586621679075468"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; a) -&gt; (Int -&gt; Scientific) -&gt; Int -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Scientific
</span><span class="hs-identifier hs-var">Sci.scientific</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075491"><span class="hs-identifier hs-var">signedCoeff</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Scientific) -&gt; (Int -&gt; Int) -&gt; Int -&gt; Scientific
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075489"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser Text Int -&gt; Parser Text Int
forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#signed"><span class="hs-identifier hs-var">signed</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Text Int
forall a. Integral a =&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#decimal"><span class="hs-identifier hs-var">decimal</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser a -&gt; Parser a -&gt; Parser a
forall a. Parser Text a -&gt; Parser Text a -&gt; Parser Text a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span>
</span><span id="line-446"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; Parser a
forall a. a -&gt; Parser Text a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific -&gt; a
</span><a href="#local-6989586621679075468"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; a) -&gt; Scientific -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Scientific
</span><span class="hs-identifier hs-var">Sci.scientific</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679075491"><span class="hs-identifier hs-var">signedCoeff</span></a></span><span>    </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679075489"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="annot"><span class="hs-comment">-- | Parse a single digit, as recognised by 'isDigit'.</span></span><span>
</span><span id="line-449"></span><span class="annot"><a href="Data.Attoparsec.Text.html#digit"><span class="hs-identifier hs-type">digit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-450"></span><span id="digit"><span class="annot"><span class="annottext">digit :: Parser Char
</span><a href="Data.Attoparsec.Text.html#digit"><span class="hs-identifier hs-var hs-var">digit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier hs-var">I.satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isDigit</span></span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; String -&gt; Parser Char
forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><a href="Data.Attoparsec.Combinator.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;digit&quot;</span></span><span>
</span><span id="line-451"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#digit"><span class="hs-pragma hs-type">digit</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="annot"><span class="hs-comment">-- | Parse a letter, as recognised by 'isAlpha'.</span></span><span>
</span><span id="line-454"></span><span class="annot"><a href="Data.Attoparsec.Text.html#letter"><span class="hs-identifier hs-type">letter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-455"></span><span id="letter"><span class="annot"><span class="annottext">letter :: Parser Char
</span><a href="Data.Attoparsec.Text.html#letter"><span class="hs-identifier hs-var hs-var">letter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier hs-var">I.satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isAlpha</span></span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; String -&gt; Parser Char
forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><a href="Data.Attoparsec.Combinator.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;letter&quot;</span></span><span>
</span><span id="line-456"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#letter"><span class="hs-pragma hs-type">letter</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="annot"><span class="hs-comment">-- | Parse a space character, as recognised by 'isSpace'.</span></span><span>
</span><span id="line-459"></span><span class="annot"><a href="Data.Attoparsec.Text.html#space"><span class="hs-identifier hs-type">space</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-460"></span><span id="space"><span class="annot"><span class="annottext">space :: Parser Char
</span><a href="Data.Attoparsec.Text.html#space"><span class="hs-identifier hs-var hs-var">space</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="Data.Attoparsec.Text.Internal.html#satisfy"><span class="hs-identifier hs-var">I.satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span> </span><span class="annot"><span class="annottext">Parser Char -&gt; String -&gt; Parser Char
forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><a href="Data.Attoparsec.Combinator.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;space&quot;</span></span><span>
</span><span id="line-461"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#space"><span class="hs-pragma hs-type">space</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="annot"><span class="hs-comment">-- | Skip over white space.</span></span><span>
</span><span id="line-464"></span><span class="annot"><a href="Data.Attoparsec.Text.html#skipSpace"><span class="hs-identifier hs-type">skipSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span id="skipSpace"><span class="annot"><span class="annottext">skipSpace :: Parser ()
</span><a href="Data.Attoparsec.Text.html#skipSpace"><span class="hs-identifier hs-var hs-var">skipSpace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser ()
</span><a href="Data.Attoparsec.Text.Internal.html#skipWhile"><span class="hs-identifier hs-var">I.skipWhile</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span>
</span><span id="line-466"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.html#skipSpace"><span class="hs-pragma hs-type">skipSpace</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="hs-comment">-- $specalt</span><span>
</span><span id="line-469"></span><span class="hs-comment">--</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- If you enable the @OverloadedStrings@ language extension, you can</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- use the '*&gt;' and '&lt;*' combinators to simplify the common task of</span><span>
</span><span id="line-472"></span><span class="hs-comment">-- matching a statically known string, then immediately parsing</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- something else.</span><span>
</span><span id="line-474"></span><span class="hs-comment">--</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- Instead of writing something like this:</span><span>
</span><span id="line-476"></span><span class="hs-comment">--</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-478"></span><span class="hs-comment">--'I.string' \&quot;foo\&quot; '*&gt;' wibble</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-480"></span><span class="hs-comment">--</span><span>
</span><span id="line-481"></span><span class="hs-comment">-- Using @OverloadedStrings@, you can omit the explicit use of</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- 'I.string', and write a more compact version:</span><span>
</span><span id="line-483"></span><span class="hs-comment">--</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- \&quot;foo\&quot; '*&gt;' wibble</span><span>
</span><span id="line-486"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-487"></span><span class="hs-comment">--</span><span>
</span><span id="line-488"></span><span class="hs-comment">-- (Note: the '.*&gt;' and '&lt;*.' combinators that were originally</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- provided for this purpose are obsolete and unnecessary, and will be</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- removed in the next major version.)</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="hs-comment">-- | /Obsolete/. A type-specialized version of '*&gt;' for 'Text'. Use</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- '*&gt;' instead.</span><span>
</span><span id="line-494"></span><span id="local-6989586621679075130"><span class="annot"><a href="Data.Attoparsec.Text.html#.%2A%3E"><span class="hs-operator hs-type">(.*&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075130"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-495"></span><span id="local-6989586621679075496"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075496"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id=".%2A%3E"><span class="annot"><span class="annottext">.*&gt; :: forall a. Text -&gt; Parser a -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#.%2A%3E"><span class="hs-operator hs-var hs-var">.*&gt;</span></a></span></span><span> </span><span id="local-6989586621679075497"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075497"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Text Text
</span><a href="Data.Attoparsec.Text.Internal.html#string"><span class="hs-identifier hs-var">I.string</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075496"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Text Text -&gt; Parser a -&gt; Parser a
forall a b. Parser Text a -&gt; Parser Text b -&gt; Parser Text b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075497"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-496"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">&quot;This is no longer necessary, and will be removed. Use '*&gt;' instead.&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="hs-comment">-- | /Obsolete/. A type-specialized version of '&lt;*' for 'Text'. Use</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- '*&gt;' instead.</span><span>
</span><span id="line-500"></span><span id="local-6989586621679075132"><span class="annot"><a href="Data.Attoparsec.Text.html#%3C%2A."><span class="hs-operator hs-type">(&lt;*.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075132"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Attoparsec.Text.Internal.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075132"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-501"></span><span id="local-6989586621679075499"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075499"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%3C%2A."><span class="annot"><span class="annottext">&lt;*. :: forall a. Parser a -&gt; Text -&gt; Parser a
</span><a href="Data.Attoparsec.Text.html#%3C%2A."><span class="hs-operator hs-var hs-var">&lt;*.</span></a></span></span><span> </span><span id="local-6989586621679075500"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075500"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679075499"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a -&gt; Parser Text Text -&gt; Parser a
forall a b. Parser Text a -&gt; Parser Text b -&gt; Parser Text a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Text Text
</span><a href="Data.Attoparsec.Text.Internal.html#string"><span class="hs-identifier hs-var">I.string</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679075500"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-502"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">&quot;This is no longer necessary, and will be removed. Use '&lt;*' instead.&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-503"></span></pre></body></html>