<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE UndecidableSuperClasses #-}</span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">-- | Codes and interpretations</span></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Generics.SOP.Universe</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Coerce</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Coercible</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">coerce</span></span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GHC</span></span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.SOP.BasicFunctors.html"><span class="hs-identifier">Generics.SOP.BasicFunctors</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.SOP.Constraint.html"><span class="hs-identifier">Generics.SOP.Constraint</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.SOP.NP.html"><span class="hs-identifier">Generics.SOP.NP</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.SOP.NS.html"><span class="hs-identifier">Generics.SOP.NS</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.SOP.GGP.html"><span class="hs-identifier">Generics.SOP.GGP</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.SOP.Metadata.html"><span class="hs-identifier">Generics.SOP.Metadata</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Generics.SOP.Type.Metadata.html"><span class="hs-identifier">Generics.SOP.Type.Metadata</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-comment">-- | The (generic) representation of a datatype.</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- A datatype is isomorphic to the sum-of-products of its code.</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- The isomorphism is witnessed by 'from' and 'to' from the</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- 'Generic' class.</span><span>
</span><span id="line-24"></span><span class="hs-comment">--</span><span>
</span><span id="line-25"></span><span class="hs-keyword">type</span><span> </span><span id="Rep"><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-var">Rep</span></a></span></span><span> </span><span id="local-6989586621679198683"><span class="annot"><a href="#local-6989586621679198683"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198683"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- | The class of representable datatypes.</span><span>
</span><span id="line-28"></span><span class="hs-comment">--</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- The SOP approach to generic programming is based on viewing</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- datatypes as a representation ('Rep') built from the sum of</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- products of its components. The components of a datatype</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- are specified using the 'Code' type family.</span><span>
</span><span id="line-33"></span><span class="hs-comment">--</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- The isomorphism between the original Haskell datatype and its</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- representation is witnessed by the methods of this class,</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- 'from' and 'to'. So for instances of this class, the following</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- laws should (in general) hold:</span><span>
</span><span id="line-38"></span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- 'to' '.' 'from' === 'id' :: a -&gt; a</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- 'from' '.' 'to' === 'id' :: 'Rep' a -&gt; 'Rep' a</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-43"></span><span class="hs-comment">--</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- You typically don't define instances of this class by hand, but</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- rather derive the class instance automatically.</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- /Option 1:/ Derive via the built-in GHC-generics. For this, you</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- need to use the @DeriveGeneric@ extension to first derive an</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- instance of the 'GHC.Generics.Generic' class from module &quot;GHC.Generics&quot;.</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- With this, you can then give an empty instance for 'Generic', and</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- the default definitions will just work. The pattern looks as</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- follows:</span><span>
</span><span id="line-53"></span><span class="hs-comment">--</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- import qualified &quot;GHC.Generics&quot; as GHC</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- import &quot;Generics.SOP&quot;</span><span>
</span><span id="line-57"></span><span class="hs-comment">--</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- ...</span><span>
</span><span id="line-59"></span><span class="hs-comment">--</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- data T = ... deriving (GHC.'GHC.Generics.Generic', ...)</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- instance 'Generic' T -- empty</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- instance 'HasDatatypeInfo' T -- empty, if you want/need metadata</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-65"></span><span class="hs-comment">--</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- /Option 2:/ Derive via Template Haskell. For this, you need to</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- enable the @TemplateHaskell@ extension. You can then use</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- 'Generics.SOP.TH.deriveGeneric' from module &quot;Generics.SOP.TH&quot;</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- to have the instance generated for you. The pattern looks as</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- follows:</span><span>
</span><span id="line-71"></span><span class="hs-comment">--</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- import &quot;Generics.SOP&quot;</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- import &quot;Generics.SOP.TH&quot;</span><span>
</span><span id="line-75"></span><span class="hs-comment">--</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- ...</span><span>
</span><span id="line-77"></span><span class="hs-comment">--</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- data T = ...</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- 'Generics.SOP.TH.deriveGeneric' \'\'T -- derives 'HasDatatypeInfo' as well</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-82"></span><span class="hs-comment">--</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- /Tradeoffs:/ Whether to use Option 1 or 2 is mainly a matter</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- of personal taste. The version based on Template Haskell probably</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- has less run-time overhead.</span><span>
</span><span id="line-86"></span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- /Non-standard instances:/</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- It is possible to give 'Generic' instances manually that deviate</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- from the standard scheme, as long as at least</span><span>
</span><span id="line-90"></span><span class="hs-comment">--</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- 'to' '.' 'from' === 'id' :: a -&gt; a</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-94"></span><span class="hs-comment">--</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- still holds.</span><span>
</span><span id="line-96"></span><span class="hs-comment">--</span><span>
</span><span id="line-97"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SListI</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Generic"><span class="annot"><a href="Generics.SOP.Universe.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198568"><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-comment">-- | The code of a datatype.</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-comment">-- This is a list of lists of its components. The outer list contains</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-comment">-- one element per constructor. The inner list contains one element</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-comment">-- per constructor argument (field).</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-comment">-- /Example:/ The datatype</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-comment">-- &gt; data Tree = Leaf Int | Node Tree Tree</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-comment">-- is supposed to have the following code:</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-comment">-- &gt; type instance Code (Tree a) =</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-comment">-- &gt;   '[ '[ Int ]</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-comment">-- &gt;    , '[ Tree, Tree ]</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-comment">-- &gt;    ]</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Code"><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-var">Code</span></a></span></span><span> </span><span id="local-6989586621679198568"><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Code"><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-var">Code</span></a></span></span><span> </span><span id="local-6989586621679198687"><span class="annot"><a href="#local-6989586621679198687"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Generics.SOP.GGP.html#GCode"><span class="hs-identifier hs-type">GCode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198687"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-comment">-- | Converts from a value to its structural representation.</span><span>
</span><span id="line-119"></span><span>  </span><span id="from"><span class="annot"><a href="Generics.SOP.Universe.html#from"><span class="hs-identifier hs-type">from</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="from"><span class="annot"><a href="Generics.SOP.Universe.html#from"><span class="hs-identifier hs-type">from</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.GGP.html#GFrom"><span class="hs-identifier hs-type">GFrom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GHC.Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.GGP.html#GCode"><span class="hs-identifier hs-type">GCode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621679198689"><span class="annot"><a href="Generics.SOP.Universe.html#from"><span class="hs-identifier hs-var hs-var">from</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; SOP I (GCode a)
a -&gt; Rep a
forall a. (GFrom a, Generic a) =&gt; a -&gt; SOP I (GCode a)
</span><a href="Generics.SOP.GGP.html#gfrom"><span class="hs-identifier hs-var">gfrom</span></a></span></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-comment">-- | Converts from a structural representation back to the</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-comment">-- original value.</span><span>
</span><span id="line-126"></span><span>  </span><span id="to"><span class="annot"><a href="Generics.SOP.Universe.html#to"><span class="hs-identifier hs-type">to</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="to"><span class="annot"><a href="Generics.SOP.Universe.html#to"><span class="hs-identifier hs-type">to</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.GGP.html#GTo"><span class="hs-identifier hs-type">GTo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GHC.Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.GGP.html#GCode"><span class="hs-identifier hs-type">GCode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Rep"><span class="hs-identifier hs-type">Rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198568"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621679198698"><span class="annot"><a href="Generics.SOP.Universe.html#to"><span class="hs-identifier hs-var hs-var">to</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SOP I (GCode a) -&gt; a
Rep a -&gt; a
forall a. (GTo a, Generic a) =&gt; SOP I (GCode a) -&gt; a
</span><a href="Generics.SOP.GGP.html#gto"><span class="hs-identifier hs-var">gto</span></a></span></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | A class of datatypes that have associated metadata.</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- It is possible to use the sum-of-products approach to generic programming</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- without metadata. If you need metadata in a function, an additional</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- constraint on this class is in order.</span><span>
</span><span id="line-136"></span><span class="hs-comment">--</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- You typically don't define instances of this class by hand, but</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- rather derive the class instance automatically. See the documentation</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- of 'Generic' for the options.</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="HasDatatypeInfo"><span class="annot"><a href="Generics.SOP.Universe.html#HasDatatypeInfo"><span class="hs-identifier hs-var">HasDatatypeInfo</span></a></span></span><span> </span><span id="local-6989586621679198584"><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-comment">-- | Type-level datatype info</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatatypeInfoOf"><span class="annot"><a href="Generics.SOP.Universe.html#DatatypeInfoOf"><span class="hs-identifier hs-var">DatatypeInfoOf</span></a></span></span><span> </span><span id="local-6989586621679198584"><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Type.Metadata.html#DatatypeInfo"><span class="hs-identifier hs-type">T.DatatypeInfo</span></a></span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatatypeInfoOf"><span class="annot"><a href="Generics.SOP.Universe.html#DatatypeInfoOf"><span class="hs-identifier hs-var">DatatypeInfoOf</span></a></span></span><span> </span><span id="local-6989586621679198710"><span class="annot"><a href="#local-6989586621679198710"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Generics.SOP.GGP.html#GDatatypeInfoOf"><span class="hs-identifier hs-type">GDatatypeInfoOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198710"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-comment">-- | Term-level datatype info; by default, the term-level datatype info is produced</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-comment">-- from the type-level info.</span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-149"></span><span>  </span><span id="datatypeInfo"><span class="annot"><a href="Generics.SOP.Universe.html#datatypeInfo"><span class="hs-identifier hs-type">datatypeInfo</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679198713"><span class="annot"><a href="#local-6989586621679198713"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.SOP.Metadata.html#DatatypeInfo"><span class="hs-identifier hs-type">DatatypeInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="datatypeInfo"><span class="annot"><a href="Generics.SOP.Universe.html#datatypeInfo"><span class="hs-identifier hs-type">datatypeInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679198587"><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.GGP.html#GDatatypeInfo"><span class="hs-identifier hs-type">GDatatypeInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.SOP.GGP.html#GCode"><span class="hs-identifier hs-type">GCode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198587"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.SOP.Metadata.html#DatatypeInfo"><span class="hs-identifier hs-type">DatatypeInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198584"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-151"></span><span>  </span><span id="local-6989586621679198715"><span class="annot"><a href="Generics.SOP.Universe.html#datatypeInfo"><span class="hs-identifier hs-var hs-var">datatypeInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">proxy a -&gt; DatatypeInfo (GCode a)
proxy a -&gt; DatatypeInfo (Code a)
forall (proxy :: * -&gt; *) a.
GDatatypeInfo a =&gt;
proxy a -&gt; DatatypeInfo (GCode a)
</span><a href="Generics.SOP.GGP.html#gdatatypeInfo"><span class="hs-identifier hs-var">gdatatypeInfo</span></a></span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Constraint that captures that a datatype is a product type,</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- i.e., a type with a single constructor.</span><span>
</span><span id="line-155"></span><span class="hs-comment">--</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- It also gives access to the code for the arguments of that</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- constructor.</span><span>
</span><span id="line-158"></span><span class="hs-comment">--</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- @since 0.3.1.0</span><span>
</span><span id="line-160"></span><span class="hs-comment">--</span><span>
</span><span id="line-161"></span><span class="hs-keyword">type</span><span> </span><span id="IsProductType"><span class="annot"><a href="Generics.SOP.Universe.html#IsProductType"><span class="hs-identifier hs-var">IsProductType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198722"><span class="annot"><a href="#local-6989586621679198722"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198723"><span class="annot"><a href="#local-6989586621679198723"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198722"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198722"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679198723"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- | Direct access to the part of the code that is relevant</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- for a product type.</span><span>
</span><span id="line-166"></span><span class="hs-comment">--</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-168"></span><span class="hs-comment">--</span><span>
</span><span id="line-169"></span><span class="hs-keyword">type</span><span> </span><span id="ProductCode"><span class="annot"><a href="Generics.SOP.Universe.html#ProductCode"><span class="hs-identifier hs-var">ProductCode</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198725"><span class="annot"><a href="#local-6989586621679198725"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Head</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198725"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Convert from a product type to its product representation.</span><span>
</span><span id="line-173"></span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-175"></span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span id="local-6989586621679198594"><span id="local-6989586621679198595"><span class="annot"><a href="Generics.SOP.Universe.html#productTypeFrom"><span class="hs-identifier hs-type">productTypeFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsProductType"><span class="hs-identifier hs-type">IsProductType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198594"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198595"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198594"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679198595"><span class="hs-identifier hs-type">xs</span></a></span></span></span><span>
</span><span id="line-177"></span><span id="productTypeFrom"><span class="annot"><span class="annottext">productTypeFrom :: forall a (xs :: [*]). IsProductType a xs =&gt; a -&gt; NP I xs
</span><a href="Generics.SOP.Universe.html#productTypeFrom"><span class="hs-identifier hs-var hs-var">productTypeFrom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (NP I) '[xs] -&gt; NP I xs
forall {k} (f :: k -&gt; *) (x :: k). NS f '[x] -&gt; f x
</span><span class="hs-identifier hs-var">unZ</span></span><span> </span><span class="annot"><span class="annottext">(NS (NP I) '[xs] -&gt; NP I xs)
-&gt; (a -&gt; NS (NP I) '[xs]) -&gt; a -&gt; NP I xs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SOP I '[xs] -&gt; NS (NP I) '[xs]
forall {k} (f :: k -&gt; *) (xss :: [[k]]). SOP f xss -&gt; NS (NP f) xss
</span><span class="hs-identifier hs-var">unSOP</span></span><span> </span><span class="annot"><span class="annottext">(SOP I '[xs] -&gt; NS (NP I) '[xs])
-&gt; (a -&gt; SOP I '[xs]) -&gt; a -&gt; NS (NP I) '[xs]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SOP I '[xs]
a -&gt; Rep a
forall a. Generic a =&gt; a -&gt; Rep a
</span><a href="Generics.SOP.Universe.html#from"><span class="hs-identifier hs-var">from</span></a></span><span>
</span><span id="line-178"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#productTypeFrom"><span class="hs-pragma hs-type">productTypeFrom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Convert a product representation to the original type.</span><span>
</span><span id="line-181"></span><span class="hs-comment">--</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-183"></span><span class="hs-comment">--</span><span>
</span><span id="line-184"></span><span id="local-6989586621679198610"><span id="local-6989586621679198611"><span class="annot"><a href="Generics.SOP.Universe.html#productTypeTo"><span class="hs-identifier hs-type">productTypeTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsProductType"><span class="hs-identifier hs-type">IsProductType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198610"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198611"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679198611"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198610"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-185"></span><span id="productTypeTo"><span class="annot"><span class="annottext">productTypeTo :: forall a (xs :: [*]). IsProductType a xs =&gt; NP I xs -&gt; a
</span><a href="Generics.SOP.Universe.html#productTypeTo"><span class="hs-identifier hs-var hs-var">productTypeTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SOP I '[xs] -&gt; a
Rep a -&gt; a
forall a. Generic a =&gt; Rep a -&gt; a
</span><a href="Generics.SOP.Universe.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">(SOP I '[xs] -&gt; a) -&gt; (NP I xs -&gt; SOP I '[xs]) -&gt; NP I xs -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NS (NP I) '[xs] -&gt; SOP I '[xs]
forall k (f :: k -&gt; *) (xss :: [[k]]). NS (NP f) xss -&gt; SOP f xss
</span><span class="hs-identifier hs-var">SOP</span></span><span> </span><span class="annot"><span class="annottext">(NS (NP I) '[xs] -&gt; SOP I '[xs])
-&gt; (NP I xs -&gt; NS (NP I) '[xs]) -&gt; NP I xs -&gt; SOP I '[xs]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NP I xs -&gt; NS (NP I) '[xs]
forall {k} (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span>
</span><span id="line-186"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#productTypeTo"><span class="hs-pragma hs-type">productTypeTo</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-- | Constraint that captures that a datatype is an enumeration type,</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- i.e., none of the constructors have any arguments.</span><span>
</span><span id="line-190"></span><span class="hs-comment">--</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- @since 0.3.1.0</span><span>
</span><span id="line-192"></span><span class="hs-comment">--</span><span>
</span><span id="line-193"></span><span class="hs-keyword">type</span><span> </span><span id="IsEnumType"><span class="annot"><a href="Generics.SOP.Universe.html#IsEnumType"><span class="hs-identifier hs-var">IsEnumType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198743"><span class="annot"><a href="#local-6989586621679198743"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198743"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator hs-type">(~)</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198743"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-comment">-- | Convert from an enum type to its sum representation.</span><span>
</span><span id="line-197"></span><span class="hs-comment">--</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-199"></span><span class="hs-comment">--</span><span>
</span><span id="line-200"></span><span id="local-6989586621679198621"><span class="annot"><a href="Generics.SOP.Universe.html#enumTypeFrom"><span class="hs-identifier hs-type">enumTypeFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsEnumType"><span class="hs-identifier hs-type">IsEnumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198621"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198621"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198621"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-201"></span><span id="enumTypeFrom"><span class="annot"><span class="annottext">enumTypeFrom :: forall a. IsEnumType a =&gt; a -&gt; NS (K ()) (Code a)
</span><a href="Generics.SOP.Universe.html#enumTypeFrom"><span class="hs-identifier hs-var hs-var">enumTypeFrom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: [*]). NP I a -&gt; K () a)
-&gt; NS (NP I) (Code a) -&gt; NS (K ()) (Code a)
forall {k} (xs :: [k]) (f :: k -&gt; *) (g :: k -&gt; *).
SListI xs =&gt;
(forall (a :: k). f a -&gt; g a) -&gt; NS f xs -&gt; NS g xs
</span><span class="hs-identifier hs-var">map_NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">K () a -&gt; NP I a -&gt; K () a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; K () a
forall k a (b :: k). a -&gt; K a b
</span><span class="hs-identifier hs-var">K</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(NS (NP I) (Code a) -&gt; NS (K ()) (Code a))
-&gt; (a -&gt; NS (NP I) (Code a)) -&gt; a -&gt; NS (K ()) (Code a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SOP I (Code a) -&gt; NS (NP I) (Code a)
forall {k} (f :: k -&gt; *) (xss :: [[k]]). SOP f xss -&gt; NS (NP f) xss
</span><span class="hs-identifier hs-var">unSOP</span></span><span> </span><span class="annot"><span class="annottext">(SOP I (Code a) -&gt; NS (NP I) (Code a))
-&gt; (a -&gt; SOP I (Code a)) -&gt; a -&gt; NS (NP I) (Code a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SOP I (Code a)
forall a. Generic a =&gt; a -&gt; Rep a
</span><a href="Generics.SOP.Universe.html#from"><span class="hs-identifier hs-var">from</span></a></span><span>
</span><span id="line-202"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#enumTypeFrom"><span class="hs-pragma hs-type">enumTypeFrom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-comment">-- | Convert a sum representation to ihe original type.</span><span>
</span><span id="line-205"></span><span class="hs-comment">--</span><span>
</span><span id="line-206"></span><span id="local-6989586621679198640"><span class="annot"><a href="Generics.SOP.Universe.html#enumTypeTo"><span class="hs-identifier hs-type">enumTypeTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsEnumType"><span class="hs-identifier hs-type">IsEnumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198640"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198640"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198640"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-207"></span><span id="enumTypeTo"><span class="annot"><span class="annottext">enumTypeTo :: forall a. IsEnumType a =&gt; NS (K ()) (Code a) -&gt; a
</span><a href="Generics.SOP.Universe.html#enumTypeTo"><span class="hs-identifier hs-var hs-var">enumTypeTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep a -&gt; a
forall a. Generic a =&gt; Rep a -&gt; a
</span><a href="Generics.SOP.Universe.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">(Rep a -&gt; a)
-&gt; (NS (K ()) (Code a) -&gt; Rep a) -&gt; NS (K ()) (Code a) -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NS (NP I) (Code a) -&gt; Rep a
forall k (f :: k -&gt; *) (xss :: [[k]]). NS (NP f) xss -&gt; SOP f xss
</span><span class="hs-identifier hs-var">SOP</span></span><span> </span><span class="annot"><span class="annottext">(NS (NP I) (Code a) -&gt; Rep a)
-&gt; (NS (K ()) (Code a) -&gt; NS (NP I) (Code a))
-&gt; NS (K ()) (Code a)
-&gt; Rep a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Proxy ((~) '[])
-&gt; (forall (a :: [*]). ('[] ~ a) =&gt; K () a -&gt; NP I a)
-&gt; NS (K ()) (Code a)
-&gt; NS (NP I) (Code a)
forall {k} (c :: k -&gt; Constraint) (xs :: [k])
       (proxy :: (k -&gt; Constraint) -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
All c xs =&gt;
proxy c
-&gt; (forall (a :: k). c a =&gt; f a -&gt; g a) -&gt; NS f xs -&gt; NS g xs
</span><span class="hs-identifier hs-var">cmap_NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ((~) '[])
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator hs-type">(~)</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NP I a -&gt; K () a -&gt; NP I a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">NP I a
NP I '[]
forall {k} (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#enumTypeTo"><span class="hs-pragma hs-type">enumTypeTo</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-comment">-- | Constraint that captures that a datatype is a single-constructor,</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- single-field datatype. This always holds for newtype-defined types,</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- but it can also be true for data-defined types.</span><span>
</span><span id="line-213"></span><span class="hs-comment">--</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- The constraint also gives access to the type that is wrapped.</span><span>
</span><span id="line-215"></span><span class="hs-comment">--</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- @since 0.3.1.0</span><span>
</span><span id="line-217"></span><span class="hs-comment">--</span><span>
</span><span id="line-218"></span><span class="hs-keyword">type</span><span> </span><span id="IsWrappedType"><span class="annot"><a href="Generics.SOP.Universe.html#IsWrappedType"><span class="hs-identifier hs-var">IsWrappedType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198767"><span class="annot"><a href="#local-6989586621679198767"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198768"><span class="annot"><a href="#local-6989586621679198768"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198767"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198767"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679198768"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-comment">-- | Direct access to the part of the code that is relevant</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- for wrapped types and newtypes.</span><span>
</span><span id="line-223"></span><span class="hs-comment">--</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-225"></span><span class="hs-comment">--</span><span>
</span><span id="line-226"></span><span class="hs-keyword">type</span><span> </span><span id="WrappedCode"><span class="annot"><a href="Generics.SOP.Universe.html#WrappedCode"><span class="hs-identifier hs-var">WrappedCode</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198770"><span class="annot"><a href="#local-6989586621679198770"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Head</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Head</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#Code"><span class="hs-identifier hs-type">Code</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198770"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- | Convert from a wrapped type to its inner type.</span><span>
</span><span id="line-230"></span><span class="hs-comment">--</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-232"></span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span id="local-6989586621679198655"><span id="local-6989586621679198656"><span class="annot"><a href="Generics.SOP.Universe.html#wrappedTypeFrom"><span class="hs-identifier hs-type">wrappedTypeFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsWrappedType"><span class="hs-identifier hs-type">IsWrappedType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198656"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198656"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-234"></span><span id="wrappedTypeFrom"><span class="annot"><span class="annottext">wrappedTypeFrom :: forall a x. IsWrappedType a x =&gt; a -&gt; x
</span><a href="Generics.SOP.Universe.html#wrappedTypeFrom"><span class="hs-identifier hs-var hs-var">wrappedTypeFrom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I x -&gt; x
forall a. I a -&gt; a
</span><span class="hs-identifier hs-var">unI</span></span><span> </span><span class="annot"><span class="annottext">(I x -&gt; x) -&gt; (a -&gt; I x) -&gt; a -&gt; x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NP I '[x] -&gt; I x
forall {k} (f :: k -&gt; *) (x :: k) (xs :: [k]). NP f (x : xs) -&gt; f x
</span><span class="hs-identifier hs-var">hd</span></span><span> </span><span class="annot"><span class="annottext">(NP I '[x] -&gt; I x) -&gt; (a -&gt; NP I '[x]) -&gt; a -&gt; I x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NS (NP I) '[ '[x]] -&gt; NP I '[x]
forall {k} (f :: k -&gt; *) (x :: k). NS f '[x] -&gt; f x
</span><span class="hs-identifier hs-var">unZ</span></span><span> </span><span class="annot"><span class="annottext">(NS (NP I) '[ '[x]] -&gt; NP I '[x])
-&gt; (a -&gt; NS (NP I) '[ '[x]]) -&gt; a -&gt; NP I '[x]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SOP I '[ '[x]] -&gt; NS (NP I) '[ '[x]]
forall {k} (f :: k -&gt; *) (xss :: [[k]]). SOP f xss -&gt; NS (NP f) xss
</span><span class="hs-identifier hs-var">unSOP</span></span><span> </span><span class="annot"><span class="annottext">(SOP I '[ '[x]] -&gt; NS (NP I) '[ '[x]])
-&gt; (a -&gt; SOP I '[ '[x]]) -&gt; a -&gt; NS (NP I) '[ '[x]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SOP I '[ '[x]]
a -&gt; Rep a
forall a. Generic a =&gt; a -&gt; Rep a
</span><a href="Generics.SOP.Universe.html#from"><span class="hs-identifier hs-var">from</span></a></span><span>
</span><span id="line-235"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#wrappedTypeFrom"><span class="hs-pragma hs-type">wrappedTypeFrom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-comment">-- | Convert a type to a wrapped type.</span><span>
</span><span id="line-238"></span><span class="hs-comment">--</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-240"></span><span class="hs-comment">--</span><span>
</span><span id="line-241"></span><span id="local-6989586621679198665"><span id="local-6989586621679198666"><span class="annot"><a href="Generics.SOP.Universe.html#wrappedTypeTo"><span class="hs-identifier hs-type">wrappedTypeTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsWrappedType"><span class="hs-identifier hs-type">IsWrappedType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198665"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198666"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198666"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198665"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-242"></span><span id="wrappedTypeTo"><span class="annot"><span class="annottext">wrappedTypeTo :: forall a x. IsWrappedType a x =&gt; x -&gt; a
</span><a href="Generics.SOP.Universe.html#wrappedTypeTo"><span class="hs-identifier hs-var hs-var">wrappedTypeTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SOP I '[ '[x]] -&gt; a
Rep a -&gt; a
forall a. Generic a =&gt; Rep a -&gt; a
</span><a href="Generics.SOP.Universe.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">(SOP I '[ '[x]] -&gt; a) -&gt; (x -&gt; SOP I '[ '[x]]) -&gt; x -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NS (NP I) '[ '[x]] -&gt; SOP I '[ '[x]]
forall k (f :: k -&gt; *) (xss :: [[k]]). NS (NP f) xss -&gt; SOP f xss
</span><span class="hs-identifier hs-var">SOP</span></span><span> </span><span class="annot"><span class="annottext">(NS (NP I) '[ '[x]] -&gt; SOP I '[ '[x]])
-&gt; (x -&gt; NS (NP I) '[ '[x]]) -&gt; x -&gt; SOP I '[ '[x]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NP I '[x] -&gt; NS (NP I) '[ '[x]]
forall {k} (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">(NP I '[x] -&gt; NS (NP I) '[ '[x]])
-&gt; (x -&gt; NP I '[x]) -&gt; x -&gt; NS (NP I) '[ '[x]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">I x -&gt; NP I '[] -&gt; NP I '[x]
forall {k} (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">NP I '[]
forall {k} (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(I x -&gt; NP I '[x]) -&gt; (x -&gt; I x) -&gt; x -&gt; NP I '[x]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; I x
forall a. a -&gt; I a
</span><span class="hs-identifier hs-var">I</span></span><span>
</span><span id="line-243"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#wrappedTypeTo"><span class="hs-pragma hs-type">wrappedTypeTo</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-- | Constraint that captures that a datatype is a newtype.</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- This makes use of the fact that newtypes are always coercible</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- to the type they wrap, whereas datatypes are not.</span><span>
</span><span id="line-248"></span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- @since 0.3.1.0</span><span>
</span><span id="line-250"></span><span class="hs-comment">--</span><span>
</span><span id="line-251"></span><span class="hs-keyword">type</span><span> </span><span id="IsNewtype"><span class="annot"><a href="Generics.SOP.Universe.html#IsNewtype"><span class="hs-identifier hs-var">IsNewtype</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198787"><span class="annot"><a href="#local-6989586621679198787"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679198788"><span class="annot"><a href="#local-6989586621679198788"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Generics.SOP.Universe.html#IsWrappedType"><span class="hs-identifier hs-type">IsWrappedType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198787"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198788"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Coercible</span></span><span> </span><span class="annot"><a href="#local-6989586621679198787"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198788"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- | Convert a newtype to its inner type.</span><span>
</span><span id="line-255"></span><span class="hs-comment">--</span><span>
</span><span id="line-256"></span><span class="hs-comment">-- This is a specialised synonym for 'coerce'.</span><span>
</span><span id="line-257"></span><span class="hs-comment">--</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-259"></span><span class="hs-comment">--</span><span>
</span><span id="line-260"></span><span id="local-6989586621679198672"><span id="local-6989586621679198673"><span class="annot"><a href="Generics.SOP.Universe.html#newtypeFrom"><span class="hs-identifier hs-type">newtypeFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsNewtype"><span class="hs-identifier hs-type">IsNewtype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198672"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198673"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198672"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198673"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-261"></span><span id="newtypeFrom"><span class="annot"><span class="annottext">newtypeFrom :: forall a x. IsNewtype a x =&gt; a -&gt; x
</span><a href="Generics.SOP.Universe.html#newtypeFrom"><span class="hs-identifier hs-var hs-var">newtypeFrom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; x
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span>
</span><span id="line-262"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#newtypeFrom"><span class="hs-pragma hs-type">newtypeFrom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-comment">-- | Convert a type to a newtype.</span><span>
</span><span id="line-265"></span><span class="hs-comment">--</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- This is a specialised synonym for 'coerce'.</span><span>
</span><span id="line-267"></span><span class="hs-comment">--</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- @since 0.4.0.0</span><span>
</span><span id="line-269"></span><span class="hs-comment">--</span><span>
</span><span id="line-270"></span><span id="local-6989586621679198677"><span id="local-6989586621679198678"><span class="annot"><a href="Generics.SOP.Universe.html#newtypeTo"><span class="hs-identifier hs-type">newtypeTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#IsNewtype"><span class="hs-identifier hs-type">IsNewtype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198677"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679198678"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198678"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679198677"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-271"></span><span id="newtypeTo"><span class="annot"><span class="annottext">newtypeTo :: forall a x. IsNewtype a x =&gt; x -&gt; a
</span><a href="Generics.SOP.Universe.html#newtypeTo"><span class="hs-identifier hs-var hs-var">newtypeTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x -&gt; a
forall a b. Coercible a b =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">coerce</span></span><span>
</span><span id="line-272"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Generics.SOP.Universe.html#newtypeTo"><span class="hs-pragma hs-type">newtypeTo</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-273"></span></pre></body></html>