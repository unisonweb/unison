<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.StaticPtr</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">base-4.18.2.1: Core data structures and operations</span><ul class="links" id="page-menu"><li><a href="src/GHC.StaticPtr.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) 2014 I/O Tweag</td></tr><tr><th>License</th><td>see libraries/base/LICENSE</td></tr><tr><th>Maintainer</th><td>cvs-ghc@haskell.org</td></tr><tr><th>Stability</th><td>internal</td></tr><tr><th>Portability</th><td>non-portable (GHC Extensions)</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.StaticPtr</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Symbolic references to values.</p><p>References to values are usually implemented with memory addresses, and this
 is practical when communicating values between the different pieces of a
 single process.</p><p>When values are communicated across different processes running in possibly
 different machines, though, addresses are no longer useful since each
 process may use different addresses to store a given value.</p><p>To solve such concern, the references provided by this module offer a key
 that can be used to locate the values on each process. Each process maintains
 a global table of references which can be looked up with a given key. This
 table is known as the Static Pointer Table. The reference can then be
 dereferenced to obtain the value.</p><p>The various communicating processes need to agree on the keys used to refer
 to the values in the Static Pointer Table, or lookups will fail. Only
 processes launched from the same program binary are guaranteed to use the
 same set of keys.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:StaticPtr">StaticPtr</a> a</li><li class="src short"><a href="#v:deRefStaticPtr">deRefStaticPtr</a> :: <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; a</li><li class="src short"><span class="keyword">type</span> <a href="#t:StaticKey">StaticKey</a> = <a href="GHC-Fingerprint-Type.html#t:Fingerprint" title="GHC.Fingerprint.Type">Fingerprint</a></li><li class="src short"><a href="#v:staticKey">staticKey</a> :: <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; <a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a></li><li class="src short"><a href="#v:unsafeLookupStaticPtr">unsafeLookupStaticPtr</a> :: <a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a> -&gt; <a href="System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a))</li><li class="src short"><span class="keyword">data</span> <a href="#t:StaticPtrInfo">StaticPtrInfo</a> = <a href="#v:StaticPtrInfo">StaticPtrInfo</a> {<ul class="subs"><li><a href="#v:spInfoUnitId">spInfoUnitId</a> :: <a href="Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:spInfoModuleName">spInfoModuleName</a> :: <a href="Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:spInfoSrcLoc">spInfoSrcLoc</a> :: (<a href="Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Data-Int.html#t:Int" title="Data.Int">Int</a>)</li></ul>}</li><li class="src short"><a href="#v:staticPtrInfo">staticPtrInfo</a> :: <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; <a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a></li><li class="src short"><a href="#v:staticPtrKeys">staticPtrKeys</a> :: <a href="System-IO.html#t:IO" title="System.IO">IO</a> [<a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a>]</li><li class="src short"><span class="keyword">class</span> <a href="#t:IsStatic">IsStatic</a> p <span class="keyword">where</span><ul class="subs"><li><a href="#v:fromStaticPtr">fromStaticPtr</a> :: <a href="Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; p a</li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StaticPtr" class="def">StaticPtr</a> a <a href="src/GHC.StaticPtr.html#StaticPtr" class="link">Source</a> <a href="#t:StaticPtr" class="selflink">#</a></p><div class="doc"><p>A reference to a value of type <code>a</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:StaticPtr">Instances</h4><details id="i:StaticPtr" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:StaticPtr:IsStatic:1"></span> <a href="GHC-StaticPtr.html#t:IsStatic" title="GHC.StaticPtr">IsStatic</a> <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></span> <a href="src/GHC.StaticPtr.html#line-103" class="link">Source</a> <a href="#t:StaticPtr" class="selflink">#</a></td><td class="doc"><p><em>Since: base-4.9.0.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:StaticPtr:IsStatic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-StaticPtr.html">GHC.StaticPtr</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromStaticPtr">fromStaticPtr</a> :: <a href="Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a <a href="src/GHC.StaticPtr.html#fromStaticPtr" class="link">Source</a> <a href="#v:fromStaticPtr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:deRefStaticPtr" class="def">deRefStaticPtr</a> :: <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; a <a href="src/GHC.StaticPtr.html#deRefStaticPtr" class="link">Source</a> <a href="#v:deRefStaticPtr" class="selflink">#</a></p><div class="doc"><p>Dereferences a static pointer.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StaticKey" class="def">StaticKey</a> = <a href="GHC-Fingerprint-Type.html#t:Fingerprint" title="GHC.Fingerprint.Type">Fingerprint</a> <a href="src/GHC.StaticPtr.html#StaticKey" class="link">Source</a> <a href="#t:StaticKey" class="selflink">#</a></p><div class="doc"><p>A key for <code><a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></code>s that can be serialized and used with
 <code><a href="GHC-StaticPtr.html#v:unsafeLookupStaticPtr" title="GHC.StaticPtr">unsafeLookupStaticPtr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:staticKey" class="def">staticKey</a> :: <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; <a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a> <a href="src/GHC.StaticPtr.html#staticKey" class="link">Source</a> <a href="#v:staticKey" class="selflink">#</a></p><div class="doc"><p>The <code><a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a></code> that can be used to look up the given <code><a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafeLookupStaticPtr" class="def">unsafeLookupStaticPtr</a> :: <a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a> -&gt; <a href="System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a)) <a href="src/GHC.StaticPtr.html#unsafeLookupStaticPtr" class="link">Source</a> <a href="#v:unsafeLookupStaticPtr" class="selflink">#</a></p><div class="doc"><p>Looks up a <code><a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></code> by its <code><a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a></code>.</p><p>If the <code><a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></code> is not found returns <code>Nothing</code>.</p><p>This function is unsafe because the program behavior is undefined if the type
 of the returned <code><a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></code> does not match the expected one.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StaticPtrInfo" class="def">StaticPtrInfo</a> <a href="src/GHC.StaticPtr.html#StaticPtrInfo" class="link">Source</a> <a href="#t:StaticPtrInfo" class="selflink">#</a></p><div class="doc"><p>Miscellaneous information available for debugging purposes.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StaticPtrInfo" class="def">StaticPtrInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:spInfoUnitId" class="def">spInfoUnitId</a> :: <a href="Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Package key of the package where the static pointer is defined</p></div></li><li><dfn class="src"><a id="v:spInfoModuleName" class="def">spInfoModuleName</a> :: <a href="Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Name of the module where the static pointer is defined</p></div></li><li><dfn class="src"><a id="v:spInfoSrcLoc" class="def">spInfoSrcLoc</a> :: (<a href="Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc"><p>Source location of the definition of the static pointer as a
 <code>(Line, Column)</code> pair.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:StaticPtrInfo">Instances</h4><details id="i:StaticPtrInfo" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:StaticPtrInfo:Show:1"></span> <a href="Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a></span> <a href="src/GHC.StaticPtr.html#line-116" class="link">Source</a> <a href="#t:StaticPtrInfo" class="selflink">#</a></td><td class="doc"><p><em>Since: base-4.8.0.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:StaticPtrInfo:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-StaticPtr.html">GHC.StaticPtr</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a> -&gt; <a href="Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="src/GHC.Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a> -&gt; <a href="Data-String.html#t:String" title="Data.String">String</a> <a href="src/GHC.Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a>] -&gt; <a href="Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="src/GHC.Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:staticPtrInfo" class="def">staticPtrInfo</a> :: <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; <a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a> <a href="src/GHC.StaticPtr.html#staticPtrInfo" class="link">Source</a> <a href="#v:staticPtrInfo" class="selflink">#</a></p><div class="doc"><p><code><a href="GHC-StaticPtr.html#t:StaticPtrInfo" title="GHC.StaticPtr">StaticPtrInfo</a></code> of the given <code><a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:staticPtrKeys" class="def">staticPtrKeys</a> :: <a href="System-IO.html#t:IO" title="System.IO">IO</a> [<a href="GHC-StaticPtr.html#t:StaticKey" title="GHC.StaticPtr">StaticKey</a>] <a href="src/GHC.StaticPtr.html#staticPtrKeys" class="link">Source</a> <a href="#v:staticPtrKeys" class="selflink">#</a></p><div class="doc"><p>A list of all known keys.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:IsStatic" class="def">IsStatic</a> p <span class="keyword">where</span> <a href="src/GHC.StaticPtr.html#IsStatic" class="link">Source</a> <a href="#t:IsStatic" class="selflink">#</a></p><div class="doc"><p>A class for things buildable from static pointers.</p><p>GHC wraps each use of the <code>static</code> keyword with
 <code><a href="GHC-StaticPtr.html#v:fromStaticPtr" title="GHC.StaticPtr">fromStaticPtr</a></code>. Because the <code>static</code> keyword requires its argument
 to be an instance of <code><a href="Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a></code>, <code><a href="GHC-StaticPtr.html#v:fromStaticPtr" title="GHC.StaticPtr">fromStaticPtr</a></code> carries a
 <code><a href="Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a></code> constraint as well.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fromStaticPtr" class="def">fromStaticPtr</a> :: <a href="Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; p a <a href="src/GHC.StaticPtr.html#fromStaticPtr" class="link">Source</a> <a href="#v:fromStaticPtr" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsStatic">Instances</h4><details id="i:IsStatic" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsStatic:IsStatic:1"></span> <a href="GHC-StaticPtr.html#t:IsStatic" title="GHC.StaticPtr">IsStatic</a> <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a></span> <a href="src/GHC.StaticPtr.html#line-103" class="link">Source</a> <a href="#t:IsStatic" class="selflink">#</a></td><td class="doc"><p><em>Since: base-4.9.0.0</em></p></td></tr><tr><td colspan="2"><details id="i:ic:IsStatic:IsStatic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-StaticPtr.html">GHC.StaticPtr</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromStaticPtr">fromStaticPtr</a> :: <a href="Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a -&gt; <a href="GHC-StaticPtr.html#t:StaticPtr" title="GHC.StaticPtr">StaticPtr</a> a <a href="src/GHC.StaticPtr.html#fromStaticPtr" class="link">Source</a> <a href="#v:fromStaticPtr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>