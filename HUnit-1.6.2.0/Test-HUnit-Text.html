<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Test.HUnit.Text</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">HUnit-1.6.2.0: A unit testing framework for Haskell</span><ul class="links" id="page-menu"><li><a href="src/Test.HUnit.Text.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Test.HUnit.Text</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Text-based test controller for running HUnit tests and reporting
   results as text, usually to a terminal.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:PutText">PutText</a> st = <a href="#v:PutText">PutText</a> (<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; st -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> st) st</li><li class="src short"><a href="#v:putTextToHandle">putTextToHandle</a> :: <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:putTextToShowS">putTextToShowS</a> :: <a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a> <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></li><li class="src short"><a href="#v:runTestText">runTestText</a> :: <a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a> st -&gt; <a href="Test-HUnit-Base.html#t:Test" title="Test.HUnit.Base">Test</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Test-HUnit-Base.html#t:Counts" title="Test.HUnit.Base">Counts</a>, st)</li><li class="src short"><a href="#v:showPath">showPath</a> :: <a href="Test-HUnit-Base.html#t:Path" title="Test.HUnit.Base">Path</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:showCounts">showCounts</a> :: <a href="Test-HUnit-Base.html#t:Counts" title="Test.HUnit.Base">Counts</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:runTestTT">runTestTT</a> :: <a href="Test-HUnit-Base.html#t:Test" title="Test.HUnit.Base">Test</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Test-HUnit-Base.html#t:Counts" title="Test.HUnit.Base">Counts</a></li><li class="src short"><a href="#v:runTestTTAndExit">runTestTTAndExit</a> :: <a href="Test-HUnit-Base.html#t:Test" title="Test.HUnit.Base">Test</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PutText" class="def">PutText</a> st <a href="src/Test.HUnit.Text.html#PutText" class="link">Source</a> <a href="#t:PutText" class="selflink">#</a></p><div class="doc"><p>As the general text-based test controller (<code><a href="Test-HUnit-Text.html#v:runTestText" title="Test.HUnit.Text">runTestText</a></code>) executes a
   test, it reports each test case start, error, and failure by
   constructing a string and passing it to the function embodied in a
   <code><a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a></code>.  A report string is known as a &quot;line&quot;, although it includes
   no line terminator; the function in a <code><a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a></code> is responsible for
   terminating lines appropriately.  Besides the line, the function
   receives a flag indicating the intended &quot;persistence&quot; of the line:
   <code><a href="../base-4.18.2.1/Data-Bool.html#v:True" title="Data.Bool">True</a></code> indicates that the line should be part of the final overall
   report; <code><a href="../base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a></code> indicates that the line merely indicates progress of
   the test execution.  Each progress line shows the current values of
   the cumulative test execution counts; a final, persistent line shows
   the final count values.</p><p>The <code><a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a></code> function is also passed, and returns, an arbitrary state
   value (called <code>st</code> here).  The initial state value is given in the
   <code><a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a></code>; the final value is returned by <code><a href="Test-HUnit-Text.html#v:runTestText" title="Test.HUnit.Text">runTestText</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PutText" class="def">PutText</a> (<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; st -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> st) st</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:putTextToHandle" class="def">putTextToHandle</a> <a href="src/Test.HUnit.Text.html#putTextToHandle" class="link">Source</a> <a href="#v:putTextToHandle" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.18.2.1/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Write progress lines to handle?</p></td></tr><tr><td class="src">-&gt; <a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a> <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Two reporting schemes are defined here.  <code>putTextToHandle</code> writes
 report lines to a given handle.  <code><a href="Test-HUnit-Text.html#v:putTextToShowS" title="Test.HUnit.Text">putTextToShowS</a></code> accumulates
 persistent lines for return as a whole by <code><a href="Test-HUnit-Text.html#v:runTestText" title="Test.HUnit.Text">runTestText</a></code>.</p><p><code>putTextToHandle</code> writes persistent lines to the given handle,
 following each by a newline character.  In addition, if the given flag
 is <code>True</code>, it writes progress lines to the handle as well.  A progress
 line is written with no line termination, so that it can be
 overwritten by the next report line.  As overwriting involves writing
 carriage return and blank characters, its proper effect is usually
 only obtained on terminal devices.</p></div></div><div class="top"><p class="src"><a id="v:putTextToShowS" class="def">putTextToShowS</a> :: <a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a> <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="src/Test.HUnit.Text.html#putTextToShowS" class="link">Source</a> <a href="#v:putTextToShowS" class="selflink">#</a></p><div class="doc"><p>Accumulates persistent lines (dropping progess lines) for return by
   <code><a href="Test-HUnit-Text.html#v:runTestText" title="Test.HUnit.Text">runTestText</a></code>.  The accumulated lines are represented by a
   <code><code><a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></code> (<code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code> -&gt; <code><a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code>)</code> function whose first argument is the
   string to be appended to the accumulated report lines.</p></div></div><div class="top"><p class="src"><a id="v:runTestText" class="def">runTestText</a> :: <a href="Test-HUnit-Text.html#t:PutText" title="Test.HUnit.Text">PutText</a> st -&gt; <a href="Test-HUnit-Base.html#t:Test" title="Test.HUnit.Base">Test</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Test-HUnit-Base.html#t:Counts" title="Test.HUnit.Base">Counts</a>, st) <a href="src/Test.HUnit.Text.html#runTestText" class="link">Source</a> <a href="#v:runTestText" class="selflink">#</a></p><div class="doc"><p>Executes a test, processing each report line according to the given
   reporting scheme.  The reporting scheme's state is threaded through calls
   to the reporting scheme's function and finally returned, along with final
   count values.</p></div></div><div class="top"><p class="src"><a id="v:showPath" class="def">showPath</a> :: <a href="Test-HUnit-Base.html#t:Path" title="Test.HUnit.Base">Path</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Test.HUnit.Text.html#showPath" class="link">Source</a> <a href="#v:showPath" class="selflink">#</a></p><div class="doc"><p>Converts a test case path to a string, separating adjacent elements by
   the colon (':'). An element of the path is quoted (as with <code><a href="../base-4.18.2.1/Text-Show.html#v:show" title="Text.Show">show</a></code>) when
   there is potential ambiguity.</p></div></div><div class="top"><p class="src"><a id="v:showCounts" class="def">showCounts</a> :: <a href="Test-HUnit-Base.html#t:Counts" title="Test.HUnit.Base">Counts</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Test.HUnit.Text.html#showCounts" class="link">Source</a> <a href="#v:showCounts" class="selflink">#</a></p><div class="doc"><p>Converts test execution counts to a string.</p></div></div><div class="top"><p class="src"><a id="v:runTestTT" class="def">runTestTT</a> :: <a href="Test-HUnit-Base.html#t:Test" title="Test.HUnit.Base">Test</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Test-HUnit-Base.html#t:Counts" title="Test.HUnit.Base">Counts</a> <a href="src/Test.HUnit.Text.html#runTestTT" class="link">Source</a> <a href="#v:runTestTT" class="selflink">#</a></p><div class="doc"><p>Provides the &quot;standard&quot; text-based test controller. Reporting is made to
   standard error, and progress reports are included. For possible
   programmatic use, the final counts are returned.</p><p>The &quot;TT&quot; in the name suggests &quot;Text-based reporting to the Terminal&quot;.</p></div></div><div class="top"><p class="src"><a id="v:runTestTTAndExit" class="def">runTestTTAndExit</a> :: <a href="Test-HUnit-Base.html#t:Test" title="Test.HUnit.Base">Test</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Test.HUnit.Text.html#runTestTTAndExit" class="link">Source</a> <a href="#v:runTestTTAndExit" class="selflink">#</a></p><div class="doc"><p>Convenience wrapper for <code><a href="Test-HUnit-Text.html#v:runTestTT" title="Test.HUnit.Text">runTestTT</a></code>.
   Simply runs <code><a href="Test-HUnit-Text.html#v:runTestTT" title="Test.HUnit.Text">runTestTT</a></code> and then exits back to the OS,
   using <code><a href="../base-4.18.2.1/System-Exit.html#v:exitSuccess" title="System.Exit">exitSuccess</a></code> if there were no errors or failures,
   or <code><a href="../base-4.18.2.1/System-Exit.html#v:exitFailure" title="System.Exit">exitFailure</a></code> if there were. For example:</p><pre>tests :: Test
tests = ...

main :: IO ()
main = runTestTTAndExit tests</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>