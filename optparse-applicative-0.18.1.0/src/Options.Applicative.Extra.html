<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Options.Applicative.Extra</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-3"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Extra parser utilities</span></span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-5"></span><span>  </span><span class="annot"><span class="hs-comment">-- | This module contains high-level functions to run parsers.</span></span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#helper"><span class="hs-identifier">helper</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#helperWith"><span class="hs-identifier">helperWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#hsubparser"><span class="hs-identifier">hsubparser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#simpleVersioner"><span class="hs-identifier">simpleVersioner</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#execParser"><span class="hs-identifier">execParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#customExecParser"><span class="hs-identifier">customExecParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#execParserPure"><span class="hs-identifier">execParserPure</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#getParseResult"><span class="hs-identifier">getParseResult</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#handleParseResult"><span class="hs-identifier">handleParseResult</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#parserFailure"><span class="hs-identifier">parserFailure</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Options.Applicative.Extra.html#renderFailure"><span class="hs-identifier">renderFailure</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Options.Applicative.Types.html#ParserFailure"><span class="hs-identifier">ParserFailure</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Options.Applicative.Types.html#overFailure"><span class="hs-identifier">overFailure</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Options.Applicative.Types.html#ParserResult"><span class="hs-identifier">ParserResult</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Options.Applicative.Types.html#ParserPrefs"><span class="hs-identifier">ParserPrefs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Options.Applicative.Types.html#CompletionResult"><span class="hs-identifier">CompletionResult</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">void</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">traverse_</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Environment</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">getArgs</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getProgName</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Exit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">exitSuccess</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">exitWith</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ExitCode</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">hPutStrLn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">stderr</span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.BashCompletion.html"><span class="hs-identifier">Options.Applicative.BashCompletion</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.Builder.html"><span class="hs-identifier">Options.Applicative.Builder</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.Builder.Internal.html"><span class="hs-identifier">Options.Applicative.Builder.Internal</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.Common.html"><span class="hs-identifier">Options.Applicative.Common</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.Help.html"><span class="hs-identifier">Options.Applicative.Help</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.Internal.html"><span class="hs-identifier">Options.Applicative.Internal</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html"><span class="hs-identifier">Options.Applicative.Types</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- | A hidden \&quot;helper\&quot; option which always fails.</span><span>
</span><span id="line-43"></span><span class="hs-comment">--</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- A common usage pattern is to apply this applicatively when</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- creating a 'ParserInfo'</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- &gt; opts :: ParserInfo Sample</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- &gt; opts = info (sample &lt;**&gt; helper) mempty</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span id="local-6989586621679084767"><span class="annot"><a href="Options.Applicative.Extra.html#helper"><span class="hs-identifier hs-type">helper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679084767"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679084767"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-51"></span><span id="helper"><span class="annot"><span class="annottext">helper :: forall a. Parser (a -&gt; a)
</span><a href="Options.Applicative.Extra.html#helper"><span class="hs-identifier hs-var hs-var">helper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><span class="annottext">Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
forall a. Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
</span><a href="Options.Applicative.Extra.html#helperWith"><span class="hs-identifier hs-var">helperWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Mod OptionFields (a -&gt; a)] -&gt; Mod OptionFields (a -&gt; a)
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. HasName f =&gt; String -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#long"><span class="hs-identifier hs-var">long</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;help&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><span class="annottext">Char -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. HasName f =&gt; Char -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#short"><span class="hs-identifier hs-var">short</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'h'</span></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. String -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#help"><span class="hs-identifier hs-var">help</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Show this help text&quot;</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">-- | Like helper, but with a minimal set of modifiers that can be extended</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- as desired.</span><span>
</span><span id="line-60"></span><span class="hs-comment">--</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- &gt; opts :: ParserInfo Sample</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- &gt; opts = info (sample &lt;**&gt; helperWith (mconcat [</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- &gt;          long &quot;help&quot;,</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- &gt;          short 'h',</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- &gt;          help &quot;Show this help text&quot;,</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- &gt;          hidden</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- &gt;        ])) mempty</span><span>
</span><span id="line-68"></span><span id="local-6989586621679084775"><span class="annot"><a href="Options.Applicative.Extra.html#helperWith"><span class="hs-identifier hs-type">helperWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Builder.Internal.html#Mod"><span class="hs-identifier hs-type">Mod</span></a></span><span> </span><span class="annot"><a href="Options.Applicative.Builder.Internal.html#OptionFields"><span class="hs-identifier hs-type">OptionFields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679084775"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679084775"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679084775"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679084775"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-69"></span><span id="helperWith"><span class="annot"><span class="annottext">helperWith :: forall a. Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
</span><a href="Options.Applicative.Extra.html#helperWith"><span class="hs-identifier hs-var hs-var">helperWith</span></a></span></span><span> </span><span id="local-6989586621679084975"><span class="annot"><span class="annottext">Mod OptionFields (a -&gt; a)
</span><a href="#local-6989586621679084975"><span class="hs-identifier hs-var">modifiers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="annottext">ReadM (a -&gt; a) -&gt; Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
forall a. ReadM a -&gt; Mod OptionFields a -&gt; Parser a
</span><a href="Options.Applicative.Builder.html#option"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">ReadM (a -&gt; a)
forall {b}. ReadM b
</span><a href="#local-6989586621679084977"><span class="hs-identifier hs-var">helpReader</span></a></span><span> </span><span class="annot"><span class="annottext">(Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a))
-&gt; Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><span class="annottext">[Mod OptionFields (a -&gt; a)] -&gt; Mod OptionFields (a -&gt; a)
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span>
</span><span id="line-72"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. HasValue f =&gt; a -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#value"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. HasMetavar f =&gt; String -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#metavar"><span class="hs-identifier hs-var">metavar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>        </span><span class="annot"><span class="annottext">Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. Mod f a
</span><a href="Options.Applicative.Builder.Internal.html#noGlobal"><span class="hs-identifier hs-var">noGlobal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><span class="annottext">ParseError -&gt; Mod OptionFields (a -&gt; a)
forall a. ParseError -&gt; Mod OptionFields a
</span><a href="Options.Applicative.Builder.html#noArgError"><span class="hs-identifier hs-var">noArgError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; ParseError
</span><a href="Options.Applicative.Types.html#ShowHelpText"><span class="hs-identifier hs-var">ShowHelpText</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><span class="annottext">Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. Mod f a
</span><a href="Options.Applicative.Builder.html#hidden"><span class="hs-identifier hs-var">hidden</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><span class="annottext">Mod OptionFields (a -&gt; a)
</span><a href="#local-6989586621679084975"><span class="hs-identifier hs-var">modifiers</span></a></span><span>
</span><span id="line-78"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-80"></span><span>    </span><span id="local-6989586621679084977"><span class="annot"><span class="annottext">helpReader :: ReadM b
</span><a href="#local-6989586621679084977"><span class="hs-identifier hs-var hs-var">helpReader</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-81"></span><span>      </span><span id="local-6989586621679084987"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679084987"><span class="hs-identifier hs-var">potentialCommand</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadM String
</span><a href="Options.Applicative.Types.html#readerAsk"><span class="hs-identifier hs-var">readerAsk</span></a></span><span>
</span><span id="line-82"></span><span>      </span><span class="annot"><span class="annottext">ParseError -&gt; ReadM b
forall a. ParseError -&gt; ReadM a
</span><a href="Options.Applicative.Types.html#readerAbort"><span class="hs-identifier hs-var">readerAbort</span></a></span><span> </span><span class="annot"><span class="annottext">(ParseError -&gt; ReadM b) -&gt; ParseError -&gt; ReadM b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><span class="annottext">Maybe String -&gt; ParseError
</span><a href="Options.Applicative.Types.html#ShowHelpText"><span class="hs-identifier hs-var">ShowHelpText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679084987"><span class="hs-identifier hs-var">potentialCommand</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Builder for a command parser with a \&quot;helper\&quot; option attached.</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- Used in the same way as `subparser`, but includes a \&quot;--help|-h\&quot; inside</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- the subcommand.</span><span>
</span><span id="line-88"></span><span id="local-6989586621679084804"><span class="annot"><a href="Options.Applicative.Extra.html#hsubparser"><span class="hs-identifier hs-type">hsubparser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Builder.Internal.html#Mod"><span class="hs-identifier hs-type">Mod</span></a></span><span> </span><span class="annot"><a href="Options.Applicative.Builder.Internal.html#CommandFields"><span class="hs-identifier hs-type">CommandFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084804"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084804"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-89"></span><span id="hsubparser"><span class="annot"><span class="annottext">hsubparser :: forall a. Mod CommandFields a -&gt; Parser a
</span><a href="Options.Applicative.Extra.html#hsubparser"><span class="hs-identifier hs-var hs-var">hsubparser</span></a></span></span><span> </span><span id="local-6989586621679084991"><span class="annot"><span class="annottext">Mod CommandFields a
</span><a href="#local-6989586621679084991"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultProp a
-&gt; (OptProperties -&gt; OptProperties) -&gt; OptReader a -&gt; Parser a
forall a.
DefaultProp a
-&gt; (OptProperties -&gt; OptProperties) -&gt; OptReader a -&gt; Parser a
</span><a href="Options.Applicative.Builder.Internal.html#mkParser"><span class="hs-identifier hs-var">mkParser</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultProp a
</span><a href="#local-6989586621679084993"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">OptProperties -&gt; OptProperties
</span><a href="#local-6989586621679084994"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">OptReader a
</span><a href="#local-6989586621679084995"><span class="hs-identifier hs-var">rdr</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="Options.Applicative.Builder.Internal.html#Mod"><span class="hs-identifier hs-type">Mod</span></a></span><span> </span><span class="annot"><span class="annottext">CommandFields a -&gt; CommandFields a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679084993"><span class="annot"><span class="annottext">DefaultProp a
</span><a href="#local-6989586621679084993"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679084994"><span class="annot"><span class="annottext">OptProperties -&gt; OptProperties
</span><a href="#local-6989586621679084994"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Mod CommandFields a
forall (f :: * -&gt; *) a. HasMetavar f =&gt; String -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#metavar"><span class="hs-identifier hs-var">metavar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;COMMAND&quot;</span></span><span> </span><span class="annot"><span class="annottext">Mod CommandFields a -&gt; Mod CommandFields a -&gt; Mod CommandFields a
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">Mod CommandFields a
</span><a href="#local-6989586621679084991"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085000"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679085000"><span class="hs-identifier hs-var">groupName</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085001"><span class="annot"><span class="annottext">[(String, ParserInfo a)]
</span><a href="#local-6989586621679085001"><span class="hs-identifier hs-var">cmds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod CommandFields a -&gt; (Maybe String, [(String, ParserInfo a)])
forall a.
Mod CommandFields a -&gt; (Maybe String, [(String, ParserInfo a)])
</span><a href="Options.Applicative.Builder.Internal.html#mkCommand"><span class="hs-identifier hs-var">mkCommand</span></a></span><span> </span><span class="annot"><span class="annottext">Mod CommandFields a
</span><a href="#local-6989586621679084991"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679084995"><span class="annot"><span class="annottext">rdr :: OptReader a
</span><a href="#local-6989586621679084995"><span class="hs-identifier hs-var hs-var">rdr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; [(String, ParserInfo a)] -&gt; OptReader a
forall a. Maybe String -&gt; [(String, ParserInfo a)] -&gt; OptReader a
</span><a href="Options.Applicative.Types.html#CmdReader"><span class="hs-identifier hs-var">CmdReader</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679085000"><span class="hs-identifier hs-var">groupName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, ParserInfo a) -&gt; (String, ParserInfo a))
-&gt; [(String, ParserInfo a)] -&gt; [(String, ParserInfo a)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(((String, ParserInfo a) -&gt; (String, ParserInfo a))
 -&gt; [(String, ParserInfo a)] -&gt; [(String, ParserInfo a)])
-&gt; ((ParserInfo a -&gt; ParserInfo a)
    -&gt; (String, ParserInfo a) -&gt; (String, ParserInfo a))
-&gt; (ParserInfo a -&gt; ParserInfo a)
-&gt; [(String, ParserInfo a)]
-&gt; [(String, ParserInfo a)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ParserInfo a -&gt; ParserInfo a)
-&gt; (String, ParserInfo a) -&gt; (String, ParserInfo a)
forall a b. (a -&gt; b) -&gt; (String, a) -&gt; (String, b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ParserInfo a -&gt; ParserInfo a
forall {a}. ParserInfo a -&gt; ParserInfo a
</span><a href="#local-6989586621679085009"><span class="hs-identifier hs-var">add_helper</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, ParserInfo a)]
</span><a href="#local-6989586621679085001"><span class="hs-identifier hs-var">cmds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>    </span><span id="local-6989586621679085009"><span class="annot"><span class="annottext">add_helper :: ParserInfo a -&gt; ParserInfo a
</span><a href="#local-6989586621679085009"><span class="hs-identifier hs-var hs-var">add_helper</span></a></span></span><span> </span><span id="local-6989586621679085012"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085012"><span class="hs-identifier hs-var">pinfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085012"><span class="hs-identifier hs-var">pinfo</span></a></span><span>
</span><span id="line-95"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085012"><span class="hs-identifier hs-type">pinfo</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;**&gt;</span></span><span> </span><span class="annot"><a href="Options.Applicative.Extra.html#helper"><span class="hs-identifier hs-type">helper</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | A hidden \&quot;--version\&quot; option that displays the version.</span><span>
</span><span id="line-98"></span><span class="hs-comment">--</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- &gt; opts :: ParserInfo Sample</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- &gt; opts = info (sample &lt;**&gt; simpleVersioner &quot;v1.2.3&quot;) mempty</span><span>
</span><span id="line-101"></span><span id="local-6989586621679084825"><span class="annot"><a href="Options.Applicative.Extra.html#simpleVersioner"><span class="hs-identifier hs-type">simpleVersioner</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Version string to be shown</span></span><span>
</span><span id="line-102"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679084825"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679084825"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-103"></span><span id="simpleVersioner"><span class="annot"><span class="annottext">simpleVersioner :: forall a. String -&gt; Parser (a -&gt; a)
</span><a href="Options.Applicative.Extra.html#simpleVersioner"><span class="hs-identifier hs-var hs-var">simpleVersioner</span></a></span></span><span> </span><span id="local-6989586621679085017"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085017"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
forall a. String -&gt; Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
</span><a href="Options.Applicative.Builder.html#infoOption"><span class="hs-identifier hs-var">infoOption</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085017"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">(Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a))
-&gt; Mod OptionFields (a -&gt; a) -&gt; Parser (a -&gt; a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="annottext">[Mod OptionFields (a -&gt; a)] -&gt; Mod OptionFields (a -&gt; a)
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. HasName f =&gt; String -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#long"><span class="hs-identifier hs-var">long</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;version&quot;</span></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. String -&gt; Mod f a
</span><a href="Options.Applicative.Builder.html#help"><span class="hs-identifier hs-var">help</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Show version information&quot;</span></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Mod OptionFields (a -&gt; a)
forall (f :: * -&gt; *) a. Mod f a
</span><a href="Options.Applicative.Builder.html#hidden"><span class="hs-identifier hs-var">hidden</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | Run a program description.</span><span>
</span><span id="line-111"></span><span class="hs-comment">--</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- Parse command line arguments. Display help text and exit if any parse error</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- occurs.</span><span>
</span><span id="line-114"></span><span id="local-6989586621679084828"><span class="annot"><a href="Options.Applicative.Extra.html#execParser"><span class="hs-identifier hs-type">execParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084828"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679084828"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-115"></span><span id="execParser"><span class="annot"><span class="annottext">execParser :: forall a. ParserInfo a -&gt; IO a
</span><a href="Options.Applicative.Extra.html#execParser"><span class="hs-identifier hs-var hs-var">execParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; ParserInfo a -&gt; IO a
forall a. ParserPrefs -&gt; ParserInfo a -&gt; IO a
</span><a href="Options.Applicative.Extra.html#customExecParser"><span class="hs-identifier hs-var">customExecParser</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="Options.Applicative.Builder.html#defaultPrefs"><span class="hs-identifier hs-var">defaultPrefs</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="annot"><span class="hs-comment">-- | Run a program description with custom preferences.</span></span><span>
</span><span id="line-118"></span><span id="local-6989586621679084831"><span class="annot"><a href="Options.Applicative.Extra.html#customExecParser"><span class="hs-identifier hs-type">customExecParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserPrefs"><span class="hs-identifier hs-type">ParserPrefs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084831"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679084831"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-119"></span><span id="customExecParser"><span class="annot"><span class="annottext">customExecParser :: forall a. ParserPrefs -&gt; ParserInfo a -&gt; IO a
</span><a href="Options.Applicative.Extra.html#customExecParser"><span class="hs-identifier hs-var hs-var">customExecParser</span></a></span></span><span> </span><span id="local-6989586621679085024"><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085024"><span class="hs-identifier hs-var">pprefs</span></a></span></span><span> </span><span id="local-6989586621679085025"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085025"><span class="hs-identifier hs-var">pinfo</span></a></span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; ParserInfo a -&gt; [String] -&gt; ParserResult a
forall a. ParserPrefs -&gt; ParserInfo a -&gt; [String] -&gt; ParserResult a
</span><a href="Options.Applicative.Extra.html#execParserPure"><span class="hs-identifier hs-var">execParserPure</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085024"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085025"><span class="hs-identifier hs-var">pinfo</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; ParserResult a) -&gt; IO [String] -&gt; IO (ParserResult a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO [String]
</span><span class="hs-identifier hs-var">getArgs</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="annottext">IO (ParserResult a) -&gt; (ParserResult a -&gt; IO a) -&gt; IO a
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">ParserResult a -&gt; IO a
forall a. ParserResult a -&gt; IO a
</span><a href="Options.Applicative.Extra.html#handleParseResult"><span class="hs-identifier hs-var">handleParseResult</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="annot"><span class="hs-comment">-- | Handle `ParserResult`.</span></span><span>
</span><span id="line-124"></span><span id="local-6989586621679084841"><span class="annot"><a href="Options.Applicative.Extra.html#handleParseResult"><span class="hs-identifier hs-type">handleParseResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserResult"><span class="hs-identifier hs-type">ParserResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084841"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679084841"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-125"></span><span id="handleParseResult"><span class="annot"><span class="annottext">handleParseResult :: forall a. ParserResult a -&gt; IO a
</span><a href="Options.Applicative.Extra.html#handleParseResult"><span class="hs-identifier hs-var hs-var">handleParseResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679085034"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679085034"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IO a
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679085034"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Options.Applicative.Extra.html#handleParseResult"><span class="hs-identifier hs-var">handleParseResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679085036"><span class="annot"><span class="annottext">ParserFailure ParserHelp
</span><a href="#local-6989586621679085036"><span class="hs-identifier hs-var">failure</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-127"></span><span>      </span><span id="local-6989586621679085037"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085037"><span class="hs-identifier hs-var">progn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String
</span><span class="hs-identifier hs-var">getProgName</span></span><span>
</span><span id="line-128"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679085038"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085038"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085039"><span class="annot"><span class="annottext">ExitCode
</span><a href="#local-6989586621679085039"><span class="hs-identifier hs-var">exit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserFailure ParserHelp -&gt; String -&gt; (String, ExitCode)
</span><a href="Options.Applicative.Extra.html#renderFailure"><span class="hs-identifier hs-var">renderFailure</span></a></span><span> </span><span class="annot"><span class="annottext">ParserFailure ParserHelp
</span><a href="#local-6989586621679085036"><span class="hs-identifier hs-var">failure</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085037"><span class="hs-identifier hs-var">progn</span></a></span><span>
</span><span id="line-129"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><a href="#local-6989586621679085039"><span class="hs-identifier hs-var">exit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-130"></span><span>        </span><span class="annot"><span class="annottext">ExitCode
</span><span class="hs-identifier hs-var">ExitSuccess</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085038"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-131"></span><span>        </span><span class="annot"><span class="annottext">ExitCode
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stderr</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085038"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-132"></span><span>      </span><span class="annot"><span class="annottext">ExitCode -&gt; IO a
forall a. ExitCode -&gt; IO a
</span><span class="hs-identifier hs-var">exitWith</span></span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><a href="#local-6989586621679085039"><span class="hs-identifier hs-var">exit</span></a></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Options.Applicative.Extra.html#handleParseResult"><span class="hs-identifier hs-var">handleParseResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#CompletionInvoked"><span class="hs-identifier hs-type">CompletionInvoked</span></a></span><span> </span><span id="local-6989586621679085043"><span class="annot"><span class="annottext">CompletionResult
</span><a href="#local-6989586621679085043"><span class="hs-identifier hs-var">compl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-134"></span><span>      </span><span id="local-6989586621679085044"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085044"><span class="hs-identifier hs-var">progn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String
</span><span class="hs-identifier hs-var">getProgName</span></span><span>
</span><span id="line-135"></span><span>      </span><span id="local-6989586621679085045"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085045"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CompletionResult -&gt; String -&gt; IO String
</span><a href="Options.Applicative.Types.html#execCompletion"><span class="hs-identifier hs-var">execCompletion</span></a></span><span> </span><span class="annot"><span class="annottext">CompletionResult
</span><a href="#local-6989586621679085043"><span class="hs-identifier hs-var">compl</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085044"><span class="hs-identifier hs-var">progn</span></a></span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStr</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085045"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><span class="annottext">IO a
forall a. IO a
</span><span class="hs-identifier hs-var">exitSuccess</span></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Extract the actual result from a `ParserResult` value.</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- This function returns 'Nothing' in case of errors.  Possible error messages</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- or completion actions are simply discarded.</span><span>
</span><span id="line-143"></span><span class="hs-comment">--</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- If you want to display error messages and invoke completion actions</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- appropriately, use 'handleParseResult' instead.</span><span>
</span><span id="line-146"></span><span id="local-6989586621679084851"><span class="annot"><a href="Options.Applicative.Extra.html#getParseResult"><span class="hs-identifier hs-type">getParseResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserResult"><span class="hs-identifier hs-type">ParserResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084851"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679084851"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-147"></span><span id="getParseResult"><span class="annot"><span class="annottext">getParseResult :: forall a. ParserResult a -&gt; Maybe a
</span><a href="Options.Applicative.Extra.html#getParseResult"><span class="hs-identifier hs-var hs-var">getParseResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679085048"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679085048"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679085048"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-148"></span><span class="annot"><a href="Options.Applicative.Extra.html#getParseResult"><span class="hs-identifier hs-var">getParseResult</span></a></span><span> </span><span class="annot"><span class="annottext">ParserResult a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><span class="hs-comment">-- | The most general way to run a program description in pure code.</span></span><span>
</span><span id="line-151"></span><span id="local-6989586621679084834"><span class="annot"><a href="Options.Applicative.Extra.html#execParserPure"><span class="hs-identifier hs-type">execParserPure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserPrefs"><span class="hs-identifier hs-type">ParserPrefs</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Global preferences for this parser</span></span><span>
</span><span id="line-152"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084834"><span class="hs-identifier hs-type">a</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ Description of the program to run</span></span><span>
</span><span id="line-153"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Program arguments</span></span><span>
</span><span id="line-154"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserResult"><span class="hs-identifier hs-type">ParserResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084834"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-155"></span><span id="execParserPure"><span class="annot"><span class="annottext">execParserPure :: forall a. ParserPrefs -&gt; ParserInfo a -&gt; [String] -&gt; ParserResult a
</span><a href="Options.Applicative.Extra.html#execParserPure"><span class="hs-identifier hs-var hs-var">execParserPure</span></a></span></span><span> </span><span id="local-6989586621679085049"><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085049"><span class="hs-identifier hs-var">pprefs</span></a></span></span><span> </span><span id="local-6989586621679085050"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085050"><span class="hs-identifier hs-var">pinfo</span></a></span></span><span> </span><span id="local-6989586621679085051"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085051"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">P (Either CompletionResult a)
-&gt; ParserPrefs
-&gt; (Either ParseError (Either CompletionResult a), [Context])
forall a. P a -&gt; ParserPrefs -&gt; (Either ParseError a, [Context])
</span><a href="Options.Applicative.Internal.html#runP"><span class="hs-identifier hs-var">runP</span></a></span><span> </span><span class="annot"><span class="annottext">P (Either CompletionResult a)
</span><a href="#local-6989586621679085053"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085049"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679085054"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679085054"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Context]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; ParserResult a
forall a. a -&gt; ParserResult a
</span><a href="Options.Applicative.Types.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679085054"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679085055"><span class="annot"><span class="annottext">CompletionResult
</span><a href="#local-6989586621679085055"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Context]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CompletionResult -&gt; ParserResult a
forall a. CompletionResult -&gt; ParserResult a
</span><a href="Options.Applicative.Types.html#CompletionInvoked"><span class="hs-identifier hs-var">CompletionInvoked</span></a></span><span> </span><span class="annot"><span class="annottext">CompletionResult
</span><a href="#local-6989586621679085055"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679085056"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085056"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085057"><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085057"><span class="hs-identifier hs-var">ctx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ParserFailure ParserHelp -&gt; ParserResult a
forall a. ParserFailure ParserHelp -&gt; ParserResult a
</span><a href="Options.Applicative.Types.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(ParserFailure ParserHelp -&gt; ParserResult a)
-&gt; ParserFailure ParserHelp -&gt; ParserResult a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
-&gt; ParserInfo a
-&gt; ParseError
-&gt; [Context]
-&gt; ParserFailure ParserHelp
forall a.
ParserPrefs
-&gt; ParserInfo a
-&gt; ParseError
-&gt; [Context]
-&gt; ParserFailure ParserHelp
</span><a href="Options.Applicative.Extra.html#parserFailure"><span class="hs-identifier hs-var">parserFailure</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085049"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085050"><span class="hs-identifier hs-var">pinfo</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085056"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085057"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621679085063"><span class="annot"><span class="annottext">pinfo' :: ParserInfo (Either CompletionResult a)
</span><a href="#local-6989586621679085063"><span class="hs-identifier hs-var hs-var">pinfo'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085050"><span class="hs-identifier hs-var">pinfo</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="Options.Applicative.BashCompletion.html#bashCompletionParser"><span class="hs-identifier hs-type">bashCompletionParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085050"><span class="hs-identifier hs-type">pinfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085049"><span class="hs-identifier hs-type">pprefs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>                 </span><span class="annot"><span class="hs-operator hs-type">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679085050"><span class="hs-identifier hs-type">pinfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679085053"><span class="annot"><span class="annottext">p :: P (Either CompletionResult a)
</span><a href="#local-6989586621679085053"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserInfo (Either CompletionResult a)
-&gt; [String] -&gt; P (Either CompletionResult a)
forall (m :: * -&gt; *) a. MonadP m =&gt; ParserInfo a -&gt; [String] -&gt; m a
</span><a href="Options.Applicative.Common.html#runParserInfo"><span class="hs-identifier hs-var">runParserInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo (Either CompletionResult a)
</span><a href="#local-6989586621679085063"><span class="hs-identifier hs-var">pinfo'</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085051"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-comment">-- | Generate a `ParserFailure` from a `ParseError` in a given `Context`.</span><span>
</span><span id="line-167"></span><span class="hs-comment">--</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- This function can be used, for example, to show the help text for a parser:</span><span>
</span><span id="line-169"></span><span class="hs-comment">--</span><span>
</span><span id="line-170"></span><span class="hs-comment">-- @handleParseResult . Failure $ parserFailure pprefs pinfo (ShowHelpText Nothing) mempty@</span><span>
</span><span id="line-171"></span><span id="local-6989586621679084858"><span class="annot"><a href="Options.Applicative.Extra.html#parserFailure"><span class="hs-identifier hs-type">parserFailure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserPrefs"><span class="hs-identifier hs-type">ParserPrefs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084858"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-172"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Options.Applicative.Types.html#Context"><span class="hs-identifier hs-type">Context</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserFailure"><span class="hs-identifier hs-type">ParserFailure</span></a></span><span> </span><span class="annot"><a href="Options.Applicative.Help.Types.html#ParserHelp"><span class="hs-identifier hs-type">ParserHelp</span></a></span></span><span>
</span><span id="line-174"></span><span id="parserFailure"><span class="annot"><span class="annottext">parserFailure :: forall a.
ParserPrefs
-&gt; ParserInfo a
-&gt; ParseError
-&gt; [Context]
-&gt; ParserFailure ParserHelp
</span><a href="Options.Applicative.Extra.html#parserFailure"><span class="hs-identifier hs-var hs-var">parserFailure</span></a></span></span><span> </span><span id="local-6989586621679085088"><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span></span><span> </span><span id="local-6989586621679085089"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span></span><span> </span><span id="local-6989586621679085090"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621679085091"><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085091"><span class="hs-identifier hs-var">ctx0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; (ParserHelp, ExitCode, Int)) -&gt; ParserFailure ParserHelp
forall h. (String -&gt; (h, ExitCode, Int)) -&gt; ParserFailure h
</span><a href="Options.Applicative.Types.html#ParserFailure"><span class="hs-identifier hs-var">ParserFailure</span></a></span><span> </span><span class="annot"><span class="annottext">((String -&gt; (ParserHelp, ExitCode, Int))
 -&gt; ParserFailure ParserHelp)
-&gt; (String -&gt; (ParserHelp, ExitCode, Int))
-&gt; ParserFailure ParserHelp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679085092"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085092"><span class="hs-identifier hs-var">progn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085093"><span class="annot"><span class="annottext">h :: ParserHelp
</span><a href="#local-6989586621679085093"><span class="hs-identifier hs-var hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Context]
-&gt; ParserInfo a
-&gt; (forall b. [String] -&gt; ParserInfo b -&gt; ParserHelp)
-&gt; ParserHelp
forall a c.
[Context]
-&gt; ParserInfo a -&gt; (forall b. [String] -&gt; ParserInfo b -&gt; c) -&gt; c
</span><a href="#local-6989586621679085094"><span class="hs-identifier hs-var">with_context</span></a></span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085095"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span> </span><span class="annot"><span class="annottext">((forall b. [String] -&gt; ParserInfo b -&gt; ParserHelp) -&gt; ParserHelp)
-&gt; (forall b. [String] -&gt; ParserInfo b -&gt; ParserHelp) -&gt; ParserHelp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679085097"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085097"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621679085098"><span class="annot"><span class="annottext">ParserInfo b
</span><a href="#local-6989586621679085098"><span class="hs-identifier hs-var">pinfo'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[ParserHelp] -&gt; ParserHelp
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span>
</span><span id="line-176"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ParserInfo b -&gt; ParserHelp
forall a. ParserInfo a -&gt; ParserHelp
</span><a href="#local-6989586621679085099"><span class="hs-identifier hs-var">base_help</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo b
</span><a href="#local-6989586621679085098"><span class="hs-identifier hs-var">pinfo'</span></a></span><span>
</span><span id="line-177"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; ParserInfo b -&gt; ParserHelp
forall {a}. String -&gt; [String] -&gt; ParserInfo a -&gt; ParserHelp
</span><a href="#local-6989586621679085100"><span class="hs-identifier hs-var">usage_help</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085092"><span class="hs-identifier hs-var">progn</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085097"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo b
</span><a href="#local-6989586621679085098"><span class="hs-identifier hs-var">pinfo'</span></a></span><span>
</span><span id="line-178"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085101"><span class="hs-identifier hs-var">suggestion_help</span></a></span><span>
</span><span id="line-179"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Context] -&gt; ParserHelp
</span><a href="#local-6989586621679085102"><span class="hs-identifier hs-var">globals</span></a></span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085095"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-180"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085103"><span class="hs-identifier hs-var">error_help</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085093"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><a href="#local-6989586621679085104"><span class="hs-identifier hs-var">exit_code</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Int
</span><a href="Options.Applicative.Types.html#prefColumns"><span class="hs-identifier hs-var">prefColumns</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-comment">-- Add another context layer if the argument to --help is</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-comment">-- a valid command.</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621679085095"><span class="annot"><span class="annottext">ctx :: [Context]
</span><a href="#local-6989586621679085095"><span class="hs-identifier hs-var hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ShowHelpText"><span class="hs-identifier hs-type">ShowHelpText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679085108"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085108"><span class="hs-identifier hs-var">potentialCommand</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679085109"><span class="annot"><span class="annottext">ctx1 :: [Context]
</span><a href="#local-6989586621679085109"><span class="hs-identifier hs-var hs-var">ctx1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Context]
-&gt; ParserInfo a
-&gt; (forall b. [String] -&gt; ParserInfo b -&gt; [Context])
-&gt; [Context]
forall a c.
[Context]
-&gt; ParserInfo a -&gt; (forall b. [String] -&gt; ParserInfo b -&gt; c) -&gt; c
</span><a href="#local-6989586621679085094"><span class="hs-identifier hs-var">with_context</span></a></span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085091"><span class="hs-identifier hs-var">ctx0</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span> </span><span class="annot"><span class="annottext">((forall b. [String] -&gt; ParserInfo b -&gt; [Context]) -&gt; [Context])
-&gt; (forall b. [String] -&gt; ParserInfo b -&gt; [Context]) -&gt; [Context]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679085111"><span class="annot"><span class="annottext">ParserInfo b
</span><a href="#local-6989586621679085111"><span class="hs-identifier hs-var">pinfo'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-189"></span><span>              </span><span class="annot"><span class="annottext">(Either ParseError (Maybe (Parser b), [String]), [Context])
-&gt; [Context]
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span>
</span><span id="line-190"></span><span>                </span><span class="annot"><span class="annottext">((Either ParseError (Maybe (Parser b), [String]), [Context])
 -&gt; [Context])
-&gt; (Either ParseError (Maybe (Parser b), [String]), [Context])
-&gt; [Context]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(P (Maybe (Parser b), [String])
 -&gt; ParserPrefs
 -&gt; (Either ParseError (Maybe (Parser b), [String]), [Context]))
-&gt; ParserPrefs
-&gt; P (Maybe (Parser b), [String])
-&gt; (Either ParseError (Maybe (Parser b), [String]), [Context])
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">P (Maybe (Parser b), [String])
-&gt; ParserPrefs
-&gt; (Either ParseError (Maybe (Parser b), [String]), [Context])
forall a. P a -&gt; ParserPrefs -&gt; (Either ParseError a, [Context])
</span><a href="Options.Applicative.Internal.html#runP"><span class="hs-identifier hs-var">runP</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="Options.Applicative.Builder.html#defaultPrefs"><span class="hs-identifier hs-var">defaultPrefs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#prefBacktrack"><span class="hs-identifier hs-var">prefBacktrack</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#SubparserInline"><span class="hs-identifier hs-type">SubparserInline</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-191"></span><span>                </span><span class="annot"><span class="annottext">(P (Maybe (Parser b), [String])
 -&gt; (Either ParseError (Maybe (Parser b), [String]), [Context]))
-&gt; P (Maybe (Parser b), [String])
-&gt; (Either ParseError (Maybe (Parser b), [String]), [Context])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArgPolicy
-&gt; Parser b -&gt; String -&gt; [String] -&gt; P (Maybe (Parser b), [String])
forall (m :: * -&gt; *) a.
MonadP m =&gt;
ArgPolicy
-&gt; Parser a -&gt; String -&gt; [String] -&gt; m (Maybe (Parser a), [String])
</span><a href="Options.Applicative.Common.html#runParserStep"><span class="hs-identifier hs-var">runParserStep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo b -&gt; ArgPolicy
forall a. ParserInfo a -&gt; ArgPolicy
</span><a href="Options.Applicative.Types.html#infoPolicy"><span class="hs-identifier hs-var">infoPolicy</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo b
</span><a href="#local-6989586621679085111"><span class="hs-identifier hs-var">pinfo'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo b -&gt; Parser b
forall a. ParserInfo a -&gt; Parser a
</span><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo b
</span><a href="#local-6989586621679085111"><span class="hs-identifier hs-var">pinfo'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085108"><span class="hs-identifier hs-var">potentialCommand</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085109"><span class="hs-identifier hs-var">ctx1</span></a></span><span> </span><span class="annot"><span class="annottext">[Context] -&gt; [Context] -&gt; [Context]
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085091"><span class="hs-identifier hs-var">ctx0</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">ParseError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085091"><span class="hs-identifier hs-var">ctx0</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679085104"><span class="annot"><span class="annottext">exit_code :: ExitCode
</span><a href="#local-6989586621679085104"><span class="hs-identifier hs-var hs-var">exit_code</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ErrorMsg"><span class="hs-identifier hs-type">ErrorMsg</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ExitCode
</span><span class="hs-identifier hs-var">ExitFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Int
forall a. ParserInfo a -&gt; Int
</span><a href="Options.Applicative.Types.html#infoFailureCode"><span class="hs-identifier hs-var">infoFailureCode</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">ParseError
</span><a href="Options.Applicative.Types.html#UnknownError"><span class="hs-identifier hs-var">UnknownError</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ExitCode
</span><span class="hs-identifier hs-var">ExitFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Int
forall a. ParserInfo a -&gt; Int
</span><a href="Options.Applicative.Types.html#infoFailureCode"><span class="hs-identifier hs-var">infoFailureCode</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#MissingError"><span class="hs-identifier hs-type">MissingError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ExitCode
</span><span class="hs-identifier hs-var">ExitFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Int
forall a. ParserInfo a -&gt; Int
</span><a href="Options.Applicative.Types.html#infoFailureCode"><span class="hs-identifier hs-var">infoFailureCode</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ExpectsArgError"><span class="hs-identifier hs-type">ExpectsArgError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ExitCode
</span><span class="hs-identifier hs-var">ExitFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Int
forall a. ParserInfo a -&gt; Int
</span><a href="Options.Applicative.Types.html#infoFailureCode"><span class="hs-identifier hs-var">infoFailureCode</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#UnexpectedError"><span class="hs-identifier hs-type">UnexpectedError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ExitCode
</span><span class="hs-identifier hs-var">ExitFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Int
forall a. ParserInfo a -&gt; Int
</span><a href="Options.Applicative.Types.html#infoFailureCode"><span class="hs-identifier hs-var">infoFailureCode</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ShowHelpText"><span class="hs-identifier hs-type">ShowHelpText</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><span class="hs-identifier hs-var">ExitSuccess</span></span><span>
</span><span id="line-203"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#InfoMsg"><span class="hs-identifier hs-type">InfoMsg</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><span class="hs-identifier hs-var">ExitSuccess</span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679084872"><span id="local-6989586621679084873"><span class="annot"><a href="#local-6989586621679085094"><span class="hs-identifier hs-type">with_context</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Options.Applicative.Types.html#Context"><span class="hs-identifier hs-type">Context</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-206"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084872"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-207"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679084871"><span class="annot"><a href="#local-6989586621679084871"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084871"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679084873"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679084873"><span class="hs-identifier hs-type">c</span></a></span></span></span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621679085094"><span class="annot"><span class="annottext">with_context :: forall a c.
[Context]
-&gt; ParserInfo a -&gt; (forall b. [String] -&gt; ParserInfo b -&gt; c) -&gt; c
</span><a href="#local-6989586621679085094"><span class="hs-identifier hs-var hs-var">with_context</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679085126"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085126"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679085127"><span class="annot"><span class="annottext">forall b. [String] -&gt; ParserInfo b -&gt; c
</span><a href="#local-6989586621679085127"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; ParserInfo a -&gt; c
forall b. [String] -&gt; ParserInfo b -&gt; c
</span><a href="#local-6989586621679085127"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085126"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><a href="#local-6989586621679085094"><span class="hs-identifier hs-var">with_context</span></a></span><span> </span><span id="local-6989586621679085128"><span class="annot"><span class="annottext">c :: [Context]
</span><a href="#local-6989586621679085128"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#Context"><span class="hs-identifier hs-type">Context</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679085129"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085129"><span class="hs-identifier hs-var">i</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Context]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679085130"><span class="annot"><span class="annottext">forall b. [String] -&gt; ParserInfo b -&gt; c
</span><a href="#local-6989586621679085130"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; ParserInfo a -&gt; c
forall b. [String] -&gt; ParserInfo b -&gt; c
</span><a href="#local-6989586621679085130"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Context] -&gt; [String]
</span><a href="Options.Applicative.Internal.html#contextNames"><span class="hs-identifier hs-var">contextNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085128"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085129"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><a href="#local-6989586621679085102"><span class="hs-identifier hs-type">globals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Options.Applicative.Types.html#Context"><span class="hs-identifier hs-type">Context</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Help.Types.html#ParserHelp"><span class="hs-identifier hs-type">ParserHelp</span></a></span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621679085102"><span class="annot"><span class="annottext">globals :: [Context] -&gt; ParserHelp
</span><a href="#local-6989586621679085102"><span class="hs-identifier hs-var hs-var">globals</span></a></span></span><span> </span><span id="local-6989586621679085132"><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085132"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-214"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-215"></span><span>        </span><span id="local-6989586621679085139"><span class="annot"><span class="annottext">voided :: [ParserInfo ()]
</span><a href="#local-6989586621679085139"><span class="hs-identifier hs-var hs-var">voided</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-216"></span><span>          </span><span class="annot"><span class="annottext">(Context -&gt; ParserInfo ()) -&gt; [Context] -&gt; [ParserInfo ()]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#Context"><span class="hs-identifier hs-type">Context</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679085141"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085141"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ParserInfo a -&gt; ParserInfo ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085141"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Context]
</span><a href="#local-6989586621679085132"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">[ParserInfo ()] -&gt; [ParserInfo ()] -&gt; [ParserInfo ()]
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">ParserInfo () -&gt; [ParserInfo ()]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; ParserInfo ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085089"><span class="hs-identifier hs-var">pinfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span>        </span><span id="local-6989586621679085145"><span class="annot"><span class="annottext">globalParsers :: Parser ()
</span><a href="#local-6989586621679085145"><span class="hs-identifier hs-var hs-var">globalParsers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-219"></span><span>          </span><span class="annot"><span class="annottext">(ParserInfo () -&gt; Parser ()) -&gt; [ParserInfo ()] -&gt; Parser ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">ParserInfo () -&gt; Parser ()
forall a. ParserInfo a -&gt; Parser a
</span><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="annot"><span class="annottext">([ParserInfo ()] -&gt; Parser ()) -&gt; [ParserInfo ()] -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-220"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; [ParserInfo ()] -&gt; [ParserInfo ()]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">[ParserInfo ()]
</span><a href="#local-6989586621679085139"><span class="hs-identifier hs-var">voided</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Bool
</span><a href="Options.Applicative.Types.html#prefHelpShowGlobal"><span class="hs-identifier hs-var">prefHelpShowGlobal</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-223"></span><span>          </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Parser () -&gt; ParserHelp
forall a. ParserPrefs -&gt; Parser a -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#parserGlobals"><span class="hs-identifier hs-var">parserGlobals</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="#local-6989586621679085145"><span class="hs-identifier hs-var">globalParsers</span></a></span><span>
</span><span id="line-224"></span><span>        </span><span class="hs-keyword">else</span><span>
</span><span id="line-225"></span><span>          </span><span class="annot"><span class="annottext">ParserHelp
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span>    </span><span id="local-6989586621679085100"><span class="annot"><span class="annottext">usage_help :: String -&gt; [String] -&gt; ParserInfo a -&gt; ParserHelp
</span><a href="#local-6989586621679085100"><span class="hs-identifier hs-var hs-var">usage_help</span></a></span></span><span> </span><span id="local-6989586621679085153"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085153"><span class="hs-identifier hs-var">progn</span></a></span></span><span> </span><span id="local-6989586621679085154"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085154"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621679085155"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085155"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#InfoMsg"><span class="hs-identifier hs-type">InfoMsg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ParserHelp
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="annottext">ParseError
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-231"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[ParserHelp] -&gt; ParserHelp
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-232"></span><span>            </span><span class="annot"><span class="annottext">Chunk Doc -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#usageHelp"><span class="hs-identifier hs-var">usageHelp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Chunk Doc
forall a. a -&gt; Chunk a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Chunk Doc) -&gt; ([String] -&gt; Doc) -&gt; [String] -&gt; Chunk Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Parser a -&gt; String -&gt; Doc
forall a. ParserPrefs -&gt; Parser a -&gt; String -&gt; Doc
</span><a href="Options.Applicative.Help.Core.html#parserUsage"><span class="hs-identifier hs-var">parserUsage</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Parser a
forall a. ParserInfo a -&gt; Parser a
</span><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085155"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Doc) -&gt; ([String] -&gt; String) -&gt; [String] -&gt; Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; Chunk Doc) -&gt; [String] -&gt; Chunk Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085153"><span class="hs-identifier hs-var">progn</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085154"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Chunk Doc -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#descriptionHelp"><span class="hs-identifier hs-var">descriptionHelp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Chunk Doc
forall a. ParserInfo a -&gt; Chunk Doc
</span><a href="Options.Applicative.Types.html#infoProgDesc"><span class="hs-identifier hs-var">infoProgDesc</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085155"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679085103"><span class="annot"><span class="annottext">error_help :: ParserHelp
</span><a href="#local-6989586621679085103"><span class="hs-identifier hs-var hs-var">error_help</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk Doc -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#errorHelp"><span class="hs-identifier hs-var">errorHelp</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk Doc -&gt; ParserHelp) -&gt; Chunk Doc -&gt; ParserHelp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-237"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ShowHelpText"><span class="hs-identifier hs-type">ShowHelpText</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-238"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Chunk Doc
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ErrorMsg"><span class="hs-identifier hs-type">ErrorMsg</span></a></span><span> </span><span id="local-6989586621679085168"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085168"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085168"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#InfoMsg"><span class="hs-identifier hs-type">InfoMsg</span></a></span><span>  </span><span id="local-6989586621679085170"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085170"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-244"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085170"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#MissingError"><span class="hs-identifier hs-type">MissingError</span></a></span><span> </span><span class="annot"><span class="annottext">IsCmdStart
</span><a href="Options.Applicative.Types.html#CmdStart"><span class="hs-identifier hs-var">CmdStart</span></a></span><span> </span><span class="annot"><span class="annottext">SomeParser
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-247"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Bool
</span><a href="Options.Applicative.Types.html#prefShowHelpOnEmpty"><span class="hs-identifier hs-var">prefShowHelpOnEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span>
</span><span id="line-248"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Chunk Doc
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#MissingError"><span class="hs-identifier hs-type">MissingError</span></a></span><span> </span><span class="annot"><span class="annottext">IsCmdStart
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#SomeParser"><span class="hs-identifier hs-type">SomeParser</span></a></span><span> </span><span id="local-6989586621679085174"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679085174"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Missing:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Chunk Doc -&gt; Chunk Doc -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#%3C%3C%2B%3E%3E"><span class="hs-operator hs-var">&lt;&lt;+&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Parser a -&gt; Chunk Doc
forall a. ParserPrefs -&gt; Parser a -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Core.html#missingDesc"><span class="hs-identifier hs-var">missingDesc</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679085174"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ExpectsArgError"><span class="hs-identifier hs-type">ExpectsArgError</span></a></span><span> </span><span id="local-6989586621679085177"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085177"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-254"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Chunk Doc) -&gt; String -&gt; Chunk Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The option `&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085177"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;` expects an argument.&quot;</span></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#UnexpectedError"><span class="hs-identifier hs-type">UnexpectedError</span></a></span><span> </span><span id="local-6989586621679085178"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085178"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="annot"><span class="annottext">SomeParser
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-257"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085179"><span class="hs-identifier hs-var">msg'</span></a></span><span>
</span><span id="line-258"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-260"></span><span>            </span><span class="hs-comment">-- This gives us the same error we have always</span><span>
</span><span id="line-261"></span><span>            </span><span class="hs-comment">-- reported</span><span>
</span><span id="line-262"></span><span>            </span><span id="local-6989586621679085179"><span class="annot"><span class="annottext">msg' :: String
</span><a href="#local-6989586621679085179"><span class="hs-identifier hs-var hs-var">msg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085178"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-263"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid option `&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085178"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span>
</span><span id="line-264"></span><span>              </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid argument `&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085178"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><span class="annottext">ParseError
</span><a href="Options.Applicative.Types.html#UnknownError"><span class="hs-identifier hs-var">UnknownError</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Chunk Doc
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621679085101"><span class="annot"><span class="annottext">suggestion_help :: ParserHelp
</span><a href="#local-6989586621679085101"><span class="hs-identifier hs-var hs-var">suggestion_help</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk Doc -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#suggestionsHelp"><span class="hs-identifier hs-var">suggestionsHelp</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk Doc -&gt; ParserHelp) -&gt; Chunk Doc -&gt; ParserHelp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#UnexpectedError"><span class="hs-identifier hs-type">UnexpectedError</span></a></span><span> </span><span id="local-6989586621679085183"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085183"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Options.Applicative.Types.html#SomeParser"><span class="hs-identifier hs-type">SomeParser</span></a></span><span> </span><span id="local-6989586621679085184"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679085184"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-273"></span><span>        </span><span class="hs-comment">-- We have an unexpected argument and the parser which</span><span>
</span><span id="line-274"></span><span>        </span><span class="hs-comment">-- it's running over.</span><span>
</span><span id="line-275"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-276"></span><span>        </span><span class="hs-comment">-- We can make a good help suggestion here if we do</span><span>
</span><span id="line-277"></span><span>        </span><span class="hs-comment">-- a levenstein distance between all possible suggestions</span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-comment">-- and the supplied option or argument.</span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Chunk Doc
</span><a href="#local-6989586621679085185"><span class="hs-identifier hs-var">suggestions</span></a></span><span>
</span><span id="line-280"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-282"></span><span>            </span><span class="hs-comment">-- Not using chunked here, as we don't want to</span><span>
</span><span id="line-283"></span><span>            </span><span class="hs-comment">-- show &quot;Did you mean&quot; if there's nothing there</span><span>
</span><span id="line-284"></span><span>            </span><span class="hs-comment">-- to show</span><span>
</span><span id="line-285"></span><span>            </span><span id="local-6989586621679085185"><span class="annot"><span class="annottext">suggestions :: Chunk Doc
</span><a href="#local-6989586621679085185"><span class="hs-identifier hs-var hs-var">suggestions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><a href="Options.Applicative.Help.Pretty.html#.%24."><span class="hs-operator hs-var">(.$.)</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Doc -&gt; Doc) -&gt; Chunk Doc -&gt; Chunk (Doc -&gt; Doc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Chunk Doc
</span><a href="#local-6989586621679085192"><span class="hs-identifier hs-var">prose</span></a></span><span>
</span><span id="line-286"></span><span>                                </span><span class="annot"><span class="annottext">Chunk (Doc -&gt; Doc) -&gt; Chunk Doc -&gt; Chunk Doc
forall a b. Chunk (a -&gt; b) -&gt; Chunk a -&gt; Chunk b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">indent</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Doc) -&gt; Chunk Doc -&gt; Chunk Doc
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Chunk Doc] -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#vcatChunks"><span class="hs-identifier hs-var">vcatChunks</span></a></span><span> </span><span class="annot"><span class="annottext">([Chunk Doc] -&gt; Chunk Doc)
-&gt; ([String] -&gt; [Chunk Doc]) -&gt; [String] -&gt; Chunk Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Chunk Doc) -&gt; [String] -&gt; [Chunk Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; Chunk Doc) -&gt; [String] -&gt; Chunk Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085195"><span class="hs-identifier hs-var">good</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-289"></span><span>            </span><span class="hs-comment">-- We won't worry about the 0 case, it won't be</span><span>
</span><span id="line-290"></span><span>            </span><span class="hs-comment">-- shown anyway.</span><span>
</span><span id="line-291"></span><span>            </span><span id="local-6989586621679085192"><span class="annot"><span class="annottext">prose :: Chunk Doc
</span><a href="#local-6989586621679085192"><span class="hs-identifier hs-var hs-var">prose</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085195"><span class="hs-identifier hs-var">good</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-292"></span><span>                            </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Did you mean this?&quot;</span></span><span>
</span><span id="line-293"></span><span>                          </span><span class="hs-keyword">else</span><span>
</span><span id="line-294"></span><span>                            </span><span class="annot"><span class="annottext">String -&gt; Chunk Doc
</span><a href="Options.Applicative.Help.Chunk.html#stringChunk"><span class="hs-identifier hs-var">stringChunk</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Did you mean one of these?&quot;</span></span><span>
</span><span id="line-295"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-296"></span><span>            </span><span class="hs-comment">-- Suggestions we will show, they're close enough</span><span>
</span><span id="line-297"></span><span>            </span><span class="hs-comment">-- to what the user wrote</span><span>
</span><span id="line-298"></span><span>            </span><span id="local-6989586621679085195"><span class="annot"><span class="annottext">good :: [String]
</span><a href="#local-6989586621679085195"><span class="hs-identifier hs-var hs-var">good</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; [String] -&gt; [String]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621679085203"><span class="hs-identifier hs-var">isClose</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679085204"><span class="hs-identifier hs-var">possibles</span></a></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-301"></span><span>            </span><span class="hs-comment">-- Bit of an arbitrary decision here.</span><span>
</span><span id="line-302"></span><span>            </span><span class="hs-comment">-- Edit distances of 1 or 2 will give hints</span><span>
</span><span id="line-303"></span><span>            </span><span id="local-6989586621679085203"><span class="annot"><span class="annottext">isClose :: String -&gt; Bool
</span><a href="#local-6989586621679085203"><span class="hs-identifier hs-var hs-var">isClose</span></a></span></span><span> </span><span id="local-6989586621679085209"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085209"><span class="hs-identifier hs-var">a</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Int
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Int
</span><a href="Options.Applicative.Help.Levenshtein.html#editDistance"><span class="hs-identifier hs-var">editDistance</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085209"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085183"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-306"></span><span>            </span><span class="hs-comment">-- Similar to how bash completion works.</span><span>
</span><span id="line-307"></span><span>            </span><span class="hs-comment">-- We map over the parser and get the names</span><span>
</span><span id="line-308"></span><span>            </span><span class="hs-comment">-- ( no IO here though, unlike for completers )</span><span>
</span><span id="line-309"></span><span>            </span><span id="local-6989586621679085204"><span class="annot"><span class="annottext">possibles :: [String]
</span><a href="#local-6989586621679085204"><span class="hs-identifier hs-var hs-var">possibles</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">([[String]] -&gt; [String]) -&gt; [[String]] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall x. ArgumentReachability -&gt; Option x -&gt; [String])
-&gt; Parser a -&gt; [[String]]
forall b a.
(forall x. ArgumentReachability -&gt; Option x -&gt; b)
-&gt; Parser a -&gt; [b]
</span><a href="Options.Applicative.Common.html#mapParser"><span class="hs-identifier hs-var">mapParser</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentReachability -&gt; Option x -&gt; [String]
forall x. ArgumentReachability -&gt; Option x -&gt; [String]
</span><a href="#local-6989586621679085214"><span class="hs-identifier hs-var">opt_completions</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679085184"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-312"></span><span>            </span><span class="hs-comment">-- Look at the option and give back the possible</span><span>
</span><span id="line-313"></span><span>            </span><span class="hs-comment">-- things the user could type. If it's a command</span><span>
</span><span id="line-314"></span><span>            </span><span class="hs-comment">-- reader also ensure that it can be immediately</span><span>
</span><span id="line-315"></span><span>            </span><span class="hs-comment">-- reachable from where the error was given.</span><span>
</span><span id="line-316"></span><span>            </span><span id="local-6989586621679085214"><span class="annot"><span class="annottext">opt_completions :: ArgumentReachability -&gt; Option a -&gt; [String]
</span><a href="#local-6989586621679085214"><span class="hs-identifier hs-var hs-var">opt_completions</span></a></span></span><span> </span><span id="local-6989586621679085218"><span class="annot"><span class="annottext">ArgumentReachability
</span><a href="#local-6989586621679085218"><span class="hs-identifier hs-var">reachability</span></a></span></span><span> </span><span id="local-6989586621679085219"><span class="annot"><span class="annottext">Option a
</span><a href="#local-6989586621679085219"><span class="hs-identifier hs-var">opt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Option a -&gt; OptReader a
forall a. Option a -&gt; OptReader a
</span><a href="Options.Applicative.Types.html#optMain"><span class="hs-identifier hs-var">optMain</span></a></span><span> </span><span class="annot"><span class="annottext">Option a
</span><a href="#local-6989586621679085219"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-317"></span><span>              </span><span class="annot"><a href="Options.Applicative.Types.html#OptReader"><span class="hs-identifier hs-type">OptReader</span></a></span><span> </span><span id="local-6989586621679085222"><span class="annot"><span class="annottext">[OptName]
</span><a href="#local-6989586621679085222"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">CReader a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ParseError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(OptName -&gt; String) -&gt; [OptName] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">OptName -&gt; String
</span><a href="Options.Applicative.Common.html#showOption"><span class="hs-identifier hs-var">showOption</span></a></span><span> </span><span class="annot"><span class="annottext">[OptName]
</span><a href="#local-6989586621679085222"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-318"></span><span>              </span><span class="annot"><a href="Options.Applicative.Types.html#FlagReader"><span class="hs-identifier hs-type">FlagReader</span></a></span><span> </span><span id="local-6989586621679085225"><span class="annot"><span class="annottext">[OptName]
</span><a href="#local-6989586621679085225"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(OptName -&gt; String) -&gt; [OptName] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">OptName -&gt; String
</span><a href="Options.Applicative.Common.html#showOption"><span class="hs-identifier hs-var">showOption</span></a></span><span> </span><span class="annot"><span class="annottext">[OptName]
</span><a href="#local-6989586621679085225"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-319"></span><span>              </span><span class="annot"><a href="Options.Applicative.Types.html#ArgReader"><span class="hs-identifier hs-type">ArgReader</span></a></span><span> </span><span class="annot"><span class="annottext">CReader a
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>              </span><span class="annot"><a href="Options.Applicative.Types.html#CmdReader"><span class="hs-identifier hs-type">CmdReader</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679085227"><span class="annot"><span class="annottext">[(String, ParserInfo a)]
</span><a href="#local-6989586621679085227"><span class="hs-identifier hs-var">ns</span></a></span></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ArgumentReachability -&gt; Bool
</span><a href="Options.Applicative.Types.html#argumentIsUnreachable"><span class="hs-identifier hs-var">argumentIsUnreachable</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentReachability
</span><a href="#local-6989586621679085218"><span class="hs-identifier hs-var">reachability</span></a></span><span>
</span><span id="line-321"></span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>                                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-323"></span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String, ParserInfo a) -&gt; String
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((String, ParserInfo a) -&gt; String)
-&gt; [(String, ParserInfo a)] -&gt; [String]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(String, ParserInfo a)]
</span><a href="#local-6989586621679085227"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><span class="annottext">ParseError
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-325"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Chunk Doc
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>    </span><span id="local-6989586621679084875"><span class="annot"><a href="#local-6989586621679085099"><span class="hs-identifier hs-type">base_help</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserInfo"><span class="hs-identifier hs-type">ParserInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679084875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Options.Applicative.Help.Types.html#ParserHelp"><span class="hs-identifier hs-type">ParserHelp</span></a></span></span><span>
</span><span id="line-328"></span><span>    </span><span id="local-6989586621679085099"><span class="annot"><span class="annottext">base_help :: forall a. ParserInfo a -&gt; ParserHelp
</span><a href="#local-6989586621679085099"><span class="hs-identifier hs-var hs-var">base_help</span></a></span></span><span> </span><span id="local-6989586621679085232"><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085232"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-329"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679085233"><span class="hs-identifier hs-var">show_full_help</span></a></span><span>
</span><span id="line-330"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ParserHelp] -&gt; ParserHelp
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085234"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085235"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Parser a -&gt; ParserHelp
forall a. ParserPrefs -&gt; Parser a -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#parserHelp"><span class="hs-identifier hs-var">parserHelp</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Parser a
forall a. ParserInfo a -&gt; Parser a
</span><a href="Options.Applicative.Types.html#infoParser"><span class="hs-identifier hs-var">infoParser</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085232"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-331"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-332"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserHelp
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-333"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-334"></span><span>        </span><span id="local-6989586621679085234"><span class="annot"><span class="annottext">h :: ParserHelp
</span><a href="#local-6989586621679085234"><span class="hs-identifier hs-var hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk Doc -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#headerHelp"><span class="hs-identifier hs-var">headerHelp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Chunk Doc
forall a. ParserInfo a -&gt; Chunk Doc
</span><a href="Options.Applicative.Types.html#infoHeader"><span class="hs-identifier hs-var">infoHeader</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085232"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>        </span><span id="local-6989586621679085235"><span class="annot"><span class="annottext">f :: ParserHelp
</span><a href="#local-6989586621679085235"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk Doc -&gt; ParserHelp
</span><a href="Options.Applicative.Help.Core.html#footerHelp"><span class="hs-identifier hs-var">footerHelp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParserInfo a -&gt; Chunk Doc
forall a. ParserInfo a -&gt; Chunk Doc
</span><a href="Options.Applicative.Types.html#infoFooter"><span class="hs-identifier hs-var">infoFooter</span></a></span><span> </span><span class="annot"><span class="annottext">ParserInfo a
</span><a href="#local-6989586621679085232"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621679085233"><span class="annot"><span class="annottext">show_full_help :: Bool
</span><a href="#local-6989586621679085233"><span class="hs-identifier hs-var hs-var">show_full_help</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679085090"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-338"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#ShowHelpText"><span class="hs-identifier hs-type">ShowHelpText</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-339"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#MissingError"><span class="hs-identifier hs-type">MissingError</span></a></span><span> </span><span class="annot"><span class="annottext">IsCmdStart
</span><a href="Options.Applicative.Types.html#CmdStart"><span class="hs-identifier hs-var">CmdStart</span></a></span><span>  </span><span class="annot"><span class="annottext">SomeParser
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Bool
</span><a href="Options.Applicative.Types.html#prefShowHelpOnEmpty"><span class="hs-identifier hs-var">prefShowHelpOnEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span>
</span><span id="line-340"></span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-341"></span><span>      </span><span class="annot"><a href="Options.Applicative.Types.html#InfoMsg"><span class="hs-identifier hs-type">InfoMsg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-342"></span><span>      </span><span class="annot"><span class="annottext">ParseError
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ParserPrefs -&gt; Bool
</span><a href="Options.Applicative.Types.html#prefShowHelpOnError"><span class="hs-identifier hs-var">prefShowHelpOnError</span></a></span><span> </span><span class="annot"><span class="annottext">ParserPrefs
</span><a href="#local-6989586621679085088"><span class="hs-identifier hs-var">pprefs</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><a href="Options.Applicative.Extra.html#renderFailure"><span class="hs-identifier hs-type">renderFailure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Options.Applicative.Types.html#ParserFailure"><span class="hs-identifier hs-type">ParserFailure</span></a></span><span> </span><span class="annot"><a href="Options.Applicative.Help.Types.html#ParserHelp"><span class="hs-identifier hs-type">ParserHelp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExitCode</span></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span id="renderFailure"><span class="annot"><span class="annottext">renderFailure :: ParserFailure ParserHelp -&gt; String -&gt; (String, ExitCode)
</span><a href="Options.Applicative.Extra.html#renderFailure"><span class="hs-identifier hs-var hs-var">renderFailure</span></a></span></span><span> </span><span id="local-6989586621679085242"><span class="annot"><span class="annottext">ParserFailure ParserHelp
</span><a href="#local-6989586621679085242"><span class="hs-identifier hs-var">failure</span></a></span></span><span> </span><span id="local-6989586621679085243"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085243"><span class="hs-identifier hs-var">progn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679085244"><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085244"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085245"><span class="annot"><span class="annottext">ExitCode
</span><a href="#local-6989586621679085245"><span class="hs-identifier hs-var">exit</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085246"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679085246"><span class="hs-identifier hs-var">cols</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParserFailure ParserHelp -&gt; String -&gt; (ParserHelp, ExitCode, Int)
forall h. ParserFailure h -&gt; String -&gt; (h, ExitCode, Int)
</span><a href="Options.Applicative.Types.html#execFailure"><span class="hs-identifier hs-var">execFailure</span></a></span><span> </span><span class="annot"><span class="annottext">ParserFailure ParserHelp
</span><a href="#local-6989586621679085242"><span class="hs-identifier hs-var">failure</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679085243"><span class="hs-identifier hs-var">progn</span></a></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ParserHelp -&gt; String
</span><a href="Options.Applicative.Help.Types.html#renderHelp"><span class="hs-identifier hs-var">renderHelp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679085246"><span class="hs-identifier hs-var">cols</span></a></span><span> </span><span class="annot"><span class="annottext">ParserHelp
</span><a href="#local-6989586621679085244"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><a href="#local-6989586621679085245"><span class="hs-identifier hs-var">exit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span></pre></body></html>