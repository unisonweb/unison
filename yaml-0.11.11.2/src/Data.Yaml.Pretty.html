<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- | Prettier YAML encoding.</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- @since 0.8.13</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Yaml.Pretty</span><span>
</span><span id="line-6"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#encodePretty"><span class="hs-identifier">encodePretty</span></a></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier">Config</span></a></span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#getConfCompare"><span class="hs-identifier">getConfCompare</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#setConfCompare"><span class="hs-identifier">setConfCompare</span></a></span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#getConfDropNull"><span class="hs-identifier">getConfDropNull</span></a></span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#setConfDropNull"><span class="hs-identifier">setConfDropNull</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#defConfig"><span class="hs-identifier">defConfig</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#pretty"><span class="hs-identifier">pretty</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">null</span></span><span class="hs-special">)</span><span class="hs-cpp">

#if !MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator">&lt;$&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">first</span></span><span class="hs-special">)</span><span class="hs-cpp">
#if MIN_VERSION_aeson(2,0,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Key</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">K</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.KeyMap</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HM</span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.HashMap.Strict</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">HM</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">on</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">sortBy</span></span><span class="hs-special">)</span><span class="hs-cpp">
#if !MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Yaml.Builder.html"><span class="hs-identifier">Data.Yaml.Builder</span></a></span><span class="hs-cpp">

#if MIN_VERSION_aeson(2,0,0)
</span><span class="annot"><a href="Data.Yaml.Pretty.html#toText"><span class="hs-identifier hs-type">toText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-42"></span><span id="toText"><span class="annot"><span class="annottext">toText :: Key -&gt; Text
</span><a href="Data.Yaml.Pretty.html#toText"><span class="hs-identifier hs-var hs-var">toText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text
</span><span class="hs-identifier hs-var">K.toText</span></span><span class="hs-cpp">
#else
</span><span class="hs-identifier">toText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Key</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Text</span><span>
</span><span id="line-45"></span><span class="hs-identifier">toText</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">id</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">Key</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Text</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- @since 0.8.13</span><span>
</span><span id="line-52"></span><span class="hs-keyword">data</span><span> </span><span id="Config"><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-var">Config</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Config"><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-var">Config</span></a></span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="confCompare"><span class="annot"><span class="annottext">Config -&gt; Text -&gt; Text -&gt; Ordering
</span><a href="Data.Yaml.Pretty.html#confCompare"><span class="hs-identifier hs-var hs-var">confCompare</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Function used to sort keys in objects</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="confDropNull"><span class="annot"><span class="annottext">Config -&gt; Bool
</span><a href="Data.Yaml.Pretty.html#confDropNull"><span class="hs-identifier hs-var hs-var">confDropNull</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Drop null values from objects</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | The default configuration: do not sort objects or drop keys</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- @since 0.8.13</span><span>
</span><span id="line-60"></span><span class="annot"><a href="Data.Yaml.Pretty.html#defConfig"><span class="hs-identifier hs-type">defConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-61"></span><span id="defConfig"><span class="annot"><span class="annottext">defConfig :: Config
</span><a href="Data.Yaml.Pretty.html#defConfig"><span class="hs-identifier hs-var hs-var">defConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text -&gt; Ordering) -&gt; Bool -&gt; Config
</span><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-var">Config</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Ordering
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- @since 0.8.13</span><span>
</span><span id="line-65"></span><span class="annot"><a href="Data.Yaml.Pretty.html#getConfCompare"><span class="hs-identifier hs-type">getConfCompare</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span>
</span><span id="line-66"></span><span id="getConfCompare"><span class="annot"><span class="annottext">getConfCompare :: Config -&gt; Text -&gt; Text -&gt; Ordering
</span><a href="Data.Yaml.Pretty.html#getConfCompare"><span class="hs-identifier hs-var hs-var">getConfCompare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Text -&gt; Text -&gt; Ordering
</span><a href="Data.Yaml.Pretty.html#confCompare"><span class="hs-identifier hs-var">confCompare</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-comment">-- | Sets ordering for object keys</span><span>
</span><span id="line-69"></span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- @since 0.8.13</span><span>
</span><span id="line-71"></span><span class="annot"><a href="Data.Yaml.Pretty.html#setConfCompare"><span class="hs-identifier hs-type">setConfCompare</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-72"></span><span id="setConfCompare"><span class="annot"><span class="annottext">setConfCompare :: (Text -&gt; Text -&gt; Ordering) -&gt; Config -&gt; Config
</span><a href="Data.Yaml.Pretty.html#setConfCompare"><span class="hs-identifier hs-var hs-var">setConfCompare</span></a></span></span><span> </span><span id="local-6989586621679101679"><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Ordering
</span><a href="#local-6989586621679101679"><span class="hs-identifier hs-var">cmp</span></a></span></span><span> </span><span id="local-6989586621679101680"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101680"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101680"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#confCompare"><span class="hs-identifier hs-var">confCompare</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679101679"><span class="hs-identifier hs-type">cmp</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- @since 0.8.24</span><span>
</span><span id="line-76"></span><span class="annot"><a href="Data.Yaml.Pretty.html#getConfDropNull"><span class="hs-identifier hs-type">getConfDropNull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-77"></span><span id="getConfDropNull"><span class="annot"><span class="annottext">getConfDropNull :: Config -&gt; Bool
</span><a href="Data.Yaml.Pretty.html#getConfDropNull"><span class="hs-identifier hs-var hs-var">getConfDropNull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Bool
</span><a href="Data.Yaml.Pretty.html#confDropNull"><span class="hs-identifier hs-var">confDropNull</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | Drop entries with `Null` value from objects, if set to `True`</span><span>
</span><span id="line-80"></span><span class="hs-comment">--</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- @since 0.8.24</span><span>
</span><span id="line-82"></span><span class="annot"><a href="Data.Yaml.Pretty.html#setConfDropNull"><span class="hs-identifier hs-type">setConfDropNull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-83"></span><span id="setConfDropNull"><span class="annot"><span class="annottext">setConfDropNull :: Bool -&gt; Config -&gt; Config
</span><a href="Data.Yaml.Pretty.html#setConfDropNull"><span class="hs-identifier hs-var hs-var">setConfDropNull</span></a></span></span><span> </span><span id="local-6989586621679101682"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679101682"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679101683"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101683"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101683"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#confDropNull"><span class="hs-identifier hs-var">confDropNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679101682"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="annot"><a href="Data.Yaml.Pretty.html#pretty"><span class="hs-identifier hs-type">pretty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Yaml.Builder.html#YamlBuilder"><span class="hs-identifier hs-type">YamlBuilder</span></a></span><span>
</span><span id="line-86"></span><span id="pretty"><span class="annot"><span class="annottext">pretty :: Config -&gt; Value -&gt; YamlBuilder
</span><a href="Data.Yaml.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var">pretty</span></a></span></span><span> </span><span id="local-6989586621679101684"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101684"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; YamlBuilder
</span><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679101685"><span class="annot"><span class="annottext">go :: Value -&gt; YamlBuilder
</span><a href="#local-6989586621679101685"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Object</span></span><span> </span><span id="local-6989586621679101692"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679101692"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679101693"><span class="annot"><span class="annottext">sort :: [(Text, b)] -&gt; [(Text, b)]
</span><a href="#local-6989586621679101693"><span class="hs-identifier hs-var hs-var">sort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Text, b) -&gt; (Text, b) -&gt; Ordering) -&gt; [(Text, b)] -&gt; [(Text, b)]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Config -&gt; Text -&gt; Text -&gt; Ordering
</span><a href="Data.Yaml.Pretty.html#confCompare"><span class="hs-identifier hs-var">confCompare</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101684"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text -&gt; Ordering)
-&gt; ((Text, b) -&gt; Text) -&gt; (Text, b) -&gt; (Text, b) -&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">(Text, b) -&gt; Text
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>                            </span><span id="local-6989586621679101697"><span class="annot"><span class="annottext">select :: Object -&gt; Object
</span><a href="#local-6989586621679101697"><span class="hs-identifier hs-var hs-var">select</span></a></span></span><span>
</span><span id="line-89"></span><span>                              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Bool
</span><a href="Data.Yaml.Pretty.html#confDropNull"><span class="hs-identifier hs-var">confDropNull</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101684"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Bool) -&gt; Object -&gt; Object
forall v. (v -&gt; Bool) -&gt; KeyMap v -&gt; KeyMap v
</span><span class="hs-identifier hs-var">HM.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Null</span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>                              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; Object
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-91"></span><span>                        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[(Text, YamlBuilder)] -&gt; YamlBuilder
</span><a href="Data.Yaml.Builder.html#mapping"><span class="hs-identifier hs-var">mapping</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Text, YamlBuilder)] -&gt; [(Text, YamlBuilder)]
forall {b}. [(Text, b)] -&gt; [(Text, b)]
</span><a href="#local-6989586621679101693"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">([(Text, YamlBuilder)] -&gt; [(Text, YamlBuilder)])
-&gt; [(Text, YamlBuilder)] -&gt; [(Text, YamlBuilder)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Key, YamlBuilder) -&gt; (Text, YamlBuilder))
-&gt; [(Key, YamlBuilder)] -&gt; [(Text, YamlBuilder)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Key -&gt; Text) -&gt; (Key, YamlBuilder) -&gt; (Text, YamlBuilder)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text
</span><a href="Data.Yaml.Pretty.html#toText"><span class="hs-identifier hs-var">toText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Key, YamlBuilder)] -&gt; [(Text, YamlBuilder)])
-&gt; [(Key, YamlBuilder)] -&gt; [(Text, YamlBuilder)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">KeyMap YamlBuilder -&gt; [(Key, YamlBuilder)]
forall v. KeyMap v -&gt; [(Key, v)]
</span><span class="hs-identifier hs-var">HM.toList</span></span><span> </span><span class="annot"><span class="annottext">(KeyMap YamlBuilder -&gt; [(Key, YamlBuilder)])
-&gt; KeyMap YamlBuilder -&gt; [(Key, YamlBuilder)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; YamlBuilder) -&gt; Object -&gt; KeyMap YamlBuilder
forall a b. (a -&gt; b) -&gt; KeyMap a -&gt; KeyMap b
</span><span class="hs-identifier hs-var">HM.map</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; YamlBuilder
</span><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; KeyMap YamlBuilder) -&gt; Object -&gt; KeyMap YamlBuilder
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Object
</span><a href="#local-6989586621679101697"><span class="hs-identifier hs-var">select</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679101692"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span id="local-6989586621679101705"><span class="annot"><span class="annottext">Array
</span><a href="#local-6989586621679101705"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[YamlBuilder] -&gt; YamlBuilder
</span><a href="Data.Yaml.Builder.html#array"><span class="hs-identifier hs-var">array</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; YamlBuilder
</span><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; YamlBuilder) -&gt; [Value] -&gt; [YamlBuilder]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; [Value]
forall a. Vector a -&gt; [a]
</span><span class="hs-identifier hs-var">V.toList</span></span><span> </span><span class="annot"><span class="annottext">Array
</span><a href="#local-6989586621679101705"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>        </span><span class="annot"><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Null</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">YamlBuilder
</span><a href="Data.Yaml.Builder.html#null"><span class="hs-identifier hs-var">null</span></a></span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span id="local-6989586621679101711"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679101711"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; YamlBuilder
</span><a href="Data.Yaml.Builder.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679101711"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Number</span></span><span> </span><span id="local-6989586621679101714"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679101714"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; YamlBuilder
</span><a href="Data.Yaml.Builder.html#scientific"><span class="hs-identifier hs-var">scientific</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679101714"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="#local-6989586621679101685"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span id="local-6989586621679101717"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679101717"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; YamlBuilder
</span><a href="Data.Yaml.Builder.html#bool"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679101717"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">-- | Configurable 'encode'.</span><span>
</span><span id="line-99"></span><span class="hs-comment">--</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- @since 0.8.13</span><span>
</span><span id="line-101"></span><span id="local-6989586621679101648"><span class="annot"><a href="Data.Yaml.Pretty.html#encodePretty"><span class="hs-identifier hs-type">encodePretty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621679101648"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Yaml.Pretty.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679101648"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span></span><span>
</span><span id="line-102"></span><span id="encodePretty"><span class="annot"><span class="annottext">encodePretty :: forall a. ToJSON a =&gt; Config -&gt; a -&gt; ByteString
</span><a href="Data.Yaml.Pretty.html#encodePretty"><span class="hs-identifier hs-var hs-var">encodePretty</span></a></span></span><span> </span><span id="local-6989586621679101723"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101723"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">YamlBuilder -&gt; ByteString
forall a. ToYaml a =&gt; a -&gt; ByteString
</span><a href="Data.Yaml.Builder.html#toByteString"><span class="hs-identifier hs-var">toByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(YamlBuilder -&gt; ByteString)
-&gt; (a -&gt; YamlBuilder) -&gt; a -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Config -&gt; Value -&gt; YamlBuilder
</span><a href="Data.Yaml.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679101723"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; YamlBuilder) -&gt; (a -&gt; Value) -&gt; a -&gt; YamlBuilder
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span>
</span><span id="line-103"></span></pre></body></html>