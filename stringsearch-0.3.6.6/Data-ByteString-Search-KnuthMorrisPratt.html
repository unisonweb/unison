<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.ByteString.Search.KnuthMorrisPratt</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">stringsearch-0.3.6.6: Fast searching, splitting and replacing of ByteStrings</span><ul class="links" id="page-menu"><li><a href="src/Data.ByteString.Search.KnuthMorrisPratt.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Justin Bailey<br />Chris Kuklewicz<br />Daniel Fischer</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Daniel Fischer &lt;daniel.is.fischer@googlemail.com&gt;</td></tr><tr><th>Stability</th><td>Provisional</td></tr><tr><th>Portability</th><td>non-portable (BangPatterns)</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.ByteString.Search.KnuthMorrisPratt</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Overview</a><ul><li><a href="#g:2">Changes</a></li><li><a href="#g:3">Deprecation</a></li><li><a href="#g:4">Parameter and return types</a></li><li><a href="#g:5">Lazy ByteStrings</a></li></ul></li><li><a href="#g:6">Partial application</a></li><li><a href="#g:7">Complexity and Performance</a></li><li><a href="#g:8">Functions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><div class="warning"><p>Deprecated: Use the new interface instead</p></div><p>Fast non-overlapping Knuth-Morris-Pratt search of both strict and
 lazy <code><a href="../bytestring-0.11.5.3/Data-ByteString.html#v:ByteString" title="Data.ByteString">ByteString</a></code> values.</p><p>A description of the algorithm can be found at
 <a href="http://en.wikipedia.org/wiki/Knuth-Morris-Pratt_algorithm">http://en.wikipedia.org/wiki/Knuth-Morris-Pratt_algorithm</a>.</p><p>Original authors: Justin Bailey (jgbailey at gmail.com) and
 Chris Kuklewicz (haskell at list.mightyreason.com).</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:matchLL">matchLL</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int64" title="Data.Int">Int64</a>]</li><li class="src short"><a href="#v:matchLS">matchLS</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>]</li><li class="src short"><a href="#v:matchSS">matchSS</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>]</li><li class="src short"><a href="#v:matchSL">matchSL</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int64" title="Data.Int">Int64</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Overview</h1></a><div class="doc"><p>This module exists only for backwards compatibility. Nevertheless
 there have been small changes in the behaviour of the functions.
 The module exports four search functions: <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLL" title="Data.ByteString.Search.KnuthMorrisPratt">matchLL</a></code>, <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLS" title="Data.ByteString.Search.KnuthMorrisPratt">matchLS</a></code>,
 <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchSL" title="Data.ByteString.Search.KnuthMorrisPratt">matchSL</a></code>, and <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchSS" title="Data.ByteString.Search.KnuthMorrisPratt">matchSS</a></code>. All of them return the list of all
 starting positions of non-overlapping occurrences of a pattern
 in a string.</p></div><a href="#g:2" id="g:2"><h2>Changes</h2></a><div class="doc"><p>Formerly, all four functions returned an empty list when passed
 an empty pattern. Now, in accordance with the functions from the other
 modules, <code>matchXY &quot;&quot; target = [0 .. <code><a href="../base-4.18.2.1/Data-Foldable.html#v:length" title="Data.Foldable">length</a></code> target]</code>.</p><p>Further, the return type of <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLS" title="Data.ByteString.Search.KnuthMorrisPratt">matchLS</a></code> and <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchSS" title="Data.ByteString.Search.KnuthMorrisPratt">matchSS</a></code> has changed to
 <code>[<code><a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></code>]</code>, since strict <code><a href="../bytestring-0.11.5.3/Data-ByteString.html#v:ByteString" title="Data.ByteString">ByteString</a></code>s are <code><a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></code>-indexed.</p></div><a href="#g:3" id="g:3"><h2>Deprecation</h2></a><div class="doc"><p>This module is <em>deprecated</em>. You should use the new interface provided
 in <a href="Data-ByteString-Search-KMP.html">Data.ByteString.Search.KMP</a> and <a href="Data-ByteString-Lazy-Search-KMP.html">Data.ByteString.Lazy.Search.KMP</a>
 or the generally faster functions from <a href="Data-ByteString-Search.html">Data.ByteString.Search</a> and
 <a href="Data-ByteString-Search-DFA.html">Data.ByteString.Search.DFA</a>, respectively the lazy versions.</p></div><a href="#g:4" id="g:4"><h2>Parameter and return types</h2></a><div class="doc"><p>The first parameter is always the pattern string.  The second
 parameter is always the target string to be searched.  The returned
 list contains the offsets of all <em>non-overlapping</em> patterns.</p><p>A returned <code>Int</code> or <code>Int64</code> is an index into the target string
 which is aligned to the head of the pattern string.  Strict targets
 return <code>Int</code> indices and lazy targets return <code>Int64</code> indices.  All
 returned lists are computed and returned in a lazy fashion.</p></div><a href="#g:5" id="g:5"><h2>Lazy ByteStrings</h2></a><div class="doc"><p><code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLL" title="Data.ByteString.Search.KnuthMorrisPratt">matchLL</a></code> and <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLS" title="Data.ByteString.Search.KnuthMorrisPratt">matchLS</a></code> take lazy bytestrings as patterns.  For
 performance, if the pattern is not a single strict chunk then all
 the the pattern chunks will copied into a concatenated strict
 bytestring.  This limits the patterns to a length of (maxBound ::
 Int).</p><p><code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLL" title="Data.ByteString.Search.KnuthMorrisPratt">matchLL</a></code> and <code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchSL" title="Data.ByteString.Search.KnuthMorrisPratt">matchSL</a></code> take lazy bytestrings as targets.
 These are written so that while they work they will not retain a
 reference to all the earlier parts of the the lazy bytestring.
 This means the garbage collector would be able to keep only a small
 amount of the target string and free the rest.</p></div><a href="#g:6" id="g:6"><h1>Partial application</h1></a><div class="doc"><p>These functions can all be usefully partially applied. Given only a
 pattern, the auxiliary data will be computed only once, allowing for
 efficient re-use.</p></div><a href="#g:7" id="g:7"><h1>Complexity and Performance</h1></a><div class="doc"><p>The preprocessing of the pattern is <em>O</em>(<code>patternLength</code>) in time and space.
 The time complexity of the searching phase is <em>O</em>(<code>targetLength</code>) for all
 functions.</p><p>In most cases, these functions are considerably slower than the
 Boyer-Moore variants, performance is close to that of those from
 <a href="Data-ByteString-Search-DFA.html">Data.ByteString.Search.DFA</a> resp. <a href="Data-ByteString-Lazy-Search-DFA.html">Data.ByteString.Lazy.Search.DFA</a>.</p></div><a href="#g:8" id="g:8"><h1>Functions</h1></a><div class="top"><p class="src"><a id="v:matchLL" class="def">matchLL</a> <a href="src/Data.ByteString.Search.Internal.KnuthMorrisPratt.html#matchLL" class="link">Source</a> <a href="#v:matchLL" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc"><p>Lazy pattern</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc"><p>Lazy target string</p></td></tr><tr><td class="src">-&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int64" title="Data.Int">Int64</a>]</td><td class="doc"><p>Offsets of matches</p></td></tr></table></div><div class="doc"><p><code><code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLL" title="Data.ByteString.Search.KnuthMorrisPratt">matchLL</a></code></code> finds the starting indices of all <em>non-overlapping</em> occurrences
   of the pattern in the target string. It is a simple wrapper around
   <code><a href="Data-ByteString-Lazy-Search-KMP.html#v:nonOverlappingIndices" title="Data.ByteString.Lazy.Search.KMP">nonOverlappingIndices</a></code> strictifying
   the pattern.</p></div></div><div class="top"><p class="src"><a id="v:matchLS" class="def">matchLS</a> <a href="src/Data.ByteString.Search.Internal.KnuthMorrisPratt.html#matchLS" class="link">Source</a> <a href="#v:matchLS" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc"><p>Lazy pattern</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Strict target string</p></td></tr><tr><td class="src">-&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>]</td><td class="doc"><p>Offsets of matches</p></td></tr></table></div><div class="doc"><p><code><code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchLS" title="Data.ByteString.Search.KnuthMorrisPratt">matchLS</a></code></code> finds the starting indices of all <em>non-overlapping</em> occurrences
   of the pattern in the target string. It is a simple wrapper around
   <code><a href="Data-ByteString-Search-KMP.html#v:nonOverlappingIndices" title="Data.ByteString.Search.KMP">nonOverlappingIndices</a></code> strictifying
   the pattern.</p></div></div><div class="top"><p class="src"><a id="v:matchSS" class="def">matchSS</a> <a href="src/Data.ByteString.Search.Internal.KnuthMorrisPratt.html#matchSS" class="link">Source</a> <a href="#v:matchSS" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Strict pattern</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Strict target string</p></td></tr><tr><td class="src">-&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>]</td><td class="doc"><p>Offsets of matches</p></td></tr></table></div><div class="doc"><p><code><code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchSS" title="Data.ByteString.Search.KnuthMorrisPratt">matchSS</a></code></code> finds the starting indices of all <em>non-overlapping</em> occurrences
   of the pattern in the target string. It is an alias for
   <code><a href="Data-ByteString-Search-KMP.html#v:nonOverlappingIndices" title="Data.ByteString.Search.KMP">nonOverlappingIndices</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:matchSL" class="def">matchSL</a> <a href="src/Data.ByteString.Search.Internal.KnuthMorrisPratt.html#matchSL" class="link">Source</a> <a href="#v:matchSL" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Strict pattern</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.11.5.3/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc"><p>Lazy target string</p></td></tr><tr><td class="src">-&gt; [<a href="../base-4.18.2.1/Data-Int.html#t:Int64" title="Data.Int">Int64</a>]</td><td class="doc"><p>Offsets of matches</p></td></tr></table></div><div class="doc"><p><code><code><a href="Data-ByteString-Search-KnuthMorrisPratt.html#v:matchSL" title="Data.ByteString.Search.KnuthMorrisPratt">matchSL</a></code></code> finds the starting indices of all <em>non-overlapping</em> occurrences
   of the pattern in the target string. It is an alias for
   <code><a href="Data-ByteString-Lazy-Search-KMP.html#v:nonOverlappingIndices" title="Data.ByteString.Lazy.Search.KMP">nonOverlappingIndices</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>