<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE PackageImports #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.Numeral</span><span>
</span><span id="line-4"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Overview</span></span><span>
</span><span id="line-5"></span><span>      </span><span class="annot"><span class="hs-comment">-- $overview</span></span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Expression language</span></span><span>
</span><span id="line-8"></span><span>      </span><span class="annot"><span class="hs-comment">-- $dsl</span></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Rules</span></span><span>
</span><span id="line-11"></span><span>      </span><span class="annot"><span class="hs-comment">-- $rules</span></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Rendering</span></span><span>
</span><span id="line-14"></span><span>      </span><span class="annot"><span class="hs-comment">-- $render</span></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>      </span><span class="annot"><span class="hs-comment">-- ** Examples</span></span><span>
</span><span id="line-17"></span><span>      </span><span class="annot"><span class="hs-comment">-- $examples</span></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>      </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Text.Numeral.Exp.html"><span class="hs-identifier">Text.Numeral.Exp</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Text.Numeral.Render.html"><span class="hs-identifier">Text.Numeral.Render</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Text.Numeral.Rules.html"><span class="hs-identifier">Text.Numeral.Rules</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Text.Numeral.Grammar.html"><span class="hs-identifier">Text.Numeral.Grammar</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- Imports</span><span>
</span><span id="line-28"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-string">&quot;this&quot;</span><span> </span><span class="annot"><a href="Text.Numeral.Exp.html"><span class="hs-identifier">Text.Numeral.Exp</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-string">&quot;this&quot;</span><span> </span><span class="annot"><a href="Text.Numeral.Render.html"><span class="hs-identifier">Text.Numeral.Render</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-string">&quot;this&quot;</span><span> </span><span class="annot"><a href="Text.Numeral.Rules.html"><span class="hs-identifier">Text.Numeral.Rules</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="hs-string">&quot;this&quot;</span><span> </span><span class="annot"><a href="Text.Numeral.Grammar.html"><span class="hs-identifier">Text.Numeral.Grammar</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- Documentation</span><span>
</span><span id="line-37"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="annot"><span class="hs-comment">{- $overview
The general idea behind this package is to take a number, convert that number to
an abstract representation of its spoken form and finally render that
representation to a 'Text' value.
-}</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="annot"><span class="hs-comment">{- $dsl
Numerals are represented by a small expression language defined in the
&quot;Text.Numeral.Exp&quot; module.
-}</span></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><span class="hs-comment">{- $rules
Conversion from numbers to numerals is the responsibility of rules. The 'Rule'
type itself and a number of useful rules are defined in the &quot;Text.Numeral.Rules&quot;
module.
-}</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="annot"><span class="hs-comment">{- $render
Finally, the &quot;Text.Numeral.Render&quot; module is responsible for converting the
numeral expression language to a 'Text' value. This happens via the 'render'
function. Render is parametrised with a 'Repr' value and with an
'Inflection'. The 'Repr' contains all the knowledge on how to convert the
abstract expression to a concrete 'Text' value. The 'Inflection' is used for
languages where number words change based on a number of grammatical categories
such as case, gender or number.
-}</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="annot"><span class="hs-comment">{- $examples
The use of this package is best understood with some examples. First some
English number names, both British and US variants:

&gt;&gt;&gt; import qualified Text.Numeral.Language.EN as EN
&gt;&gt;&gt; EN.uk_cardinal defaultInflection 123 :: Maybe Text
Just &quot;one hundred and twenty-three&quot;
&gt;&gt;&gt; EN.us_cardinal defaultInflection (10^50 + 42) :: Maybe Text
Just &quot;one hundred quindecillion forty-two&quot;

French, which contains some traces of a base 20 system:

&gt;&gt;&gt; import qualified Text.Numeral.Language.FR as FR
&gt;&gt;&gt; FR.cardinal defaultInflection (-99) :: Maybe Text
Just &quot;moins quatre-vingt-dix-neuf&quot;

Conversions can fail. Alamblak, a language spoken by a few people in Papua New
Guinea, has no representation for negative numbers:

&gt;&gt;&gt; import qualified Text.Numeral.Language.AMP as AMP
&gt;&gt;&gt; AMP.cardinal defaultInflection (-3) :: Maybe Text
Nothing

Some languages have multiple scripts and methods for writing number names. Take
Chinese for example, which can be written using Han characters or transcribed to
the Latin script using Pinyin.

Traditional Chinese characters:

&gt;&gt;&gt; import qualified Text.Numeral.Language.ZH as ZH
&gt;&gt;&gt; ZH.trad_cardinal defaultInflection 123456 :: Maybe Text
Just &quot;&#21313;&#20108;&#33836;&#19977;&#21315;&#22235;&#30334;&#20116;&#21313;&#20845;&quot;

Simplified characters for use in financial contexts:

&gt;&gt;&gt; ZH.finance_simpl_cardinal defaultInflection 123456 :: Maybe Text
Just &quot;&#25342;&#36144;&#19975;&#21442;&#20191;&#32902;&#20271;&#20237;&#25342;&#38470;&quot;

Transcribed using Pinyin:

&gt;&gt;&gt; ZH.pinyin_cardinal defaultInflection 123456 :: Maybe Text
Just &quot;sh&#237;&#232;rw&#224;n s&#257;nqi&#257;n s&#236;b&#462;i w&#468;sh&#237; li&#249;&quot;

Using the 'struct' functions you can see the grammatical structure of number
names. Because the results of these functions are polymorphic you need to
specify a specific type.

&gt;&gt;&gt; import qualified Text.Numeral.Language.NL as NL
&gt;&gt;&gt; NL.struct 123 :: Integer
123
&gt;&gt;&gt; import Text.Numeral
&gt;&gt;&gt; NL.struct 123 :: Exp
Add (Lit 100) (Add (Lit 3) (Mul (Lit 2) (Lit 10)))

Compare with:

&gt;&gt;&gt; NL.cardinal defaultInflection 123 :: Maybe Text
Just &quot;honderddrie&#235;ntwintig&quot;

100 (honderd) + (3 (drie) + (&#235;n) 2 (twin) * 10 (tig))
-}</span></span><span>
</span><span id="line-127"></span></pre></body></html>