<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Text.Numeral</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">numerals-0.4.1: Convert numbers to number words</span><ul class="links" id="page-menu"><li><a href="src/Text.Numeral.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Text.Numeral</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Overview</a><ul><li><a href="#g:2">Expression language</a></li><li><a href="#g:3">Rules</a></li><li><a href="#g:4">Rendering</a></li><li><a href="#g:5">Examples</a></li></ul></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="Text-Numeral-Exp.html">Text.Numeral.Exp</a></li><li class="src short">module <a href="Text-Numeral-Render.html">Text.Numeral.Render</a></li><li class="src short">module <a href="Text-Numeral-Rules.html">Text.Numeral.Rules</a></li><li class="src short">module <a href="Text-Numeral-Grammar.html">Text.Numeral.Grammar</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Overview</h1></a><div class="doc"><p>The general idea behind this package is to take a number, convert that number to
an abstract representation of its spoken form and finally render that
representation to a <code>Text</code> value.</p></div><a href="#g:2" id="g:2"><h2>Expression language</h2></a><div class="doc"><p>Numerals are represented by a small expression language defined in the
<a href="Text-Numeral-Exp.html">Text.Numeral.Exp</a> module.</p></div><a href="#g:3" id="g:3"><h2>Rules</h2></a><div class="doc"><p>Conversion from numbers to numerals is the responsibility of rules. The <code><a href="Text-Numeral-Rules.html#t:Rule" title="Text.Numeral.Rules">Rule</a></code>
type itself and a number of useful rules are defined in the <a href="Text-Numeral-Rules.html">Text.Numeral.Rules</a>
module.</p></div><a href="#g:4" id="g:4"><h2>Rendering</h2></a><div class="doc"><p>Finally, the <a href="Text-Numeral-Render.html">Text.Numeral.Render</a> module is responsible for converting the
numeral expression language to a <code>Text</code> value. This happens via the <code><a href="Text-Numeral-Render.html#v:render" title="Text.Numeral.Render">render</a></code>
function. Render is parametrised with a <code><a href="Text-Numeral-Render.html#t:Repr" title="Text.Numeral.Render">Repr</a></code> value and with an
<code><a href="Text-Numeral-Grammar.html#t:Inflection" title="Text.Numeral.Grammar">Inflection</a></code>. The <code><a href="Text-Numeral-Render.html#t:Repr" title="Text.Numeral.Render">Repr</a></code> contains all the knowledge on how to convert the
abstract expression to a concrete <code>Text</code> value. The <code><a href="Text-Numeral-Grammar.html#t:Inflection" title="Text.Numeral.Grammar">Inflection</a></code> is used for
languages where number words change based on a number of grammatical categories
such as case, gender or number.</p></div><a href="#g:5" id="g:5"><h2>Examples</h2></a><div class="doc"><p>The use of this package is best understood with some examples. First some
English number names, both British and US variants:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Text.Numeral.Language.EN as EN
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>EN.uk_cardinal defaultInflection 123 :: Maybe Text
</code></strong>Just &quot;one hundred and twenty-three&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>EN.us_cardinal defaultInflection (10^50 + 42) :: Maybe Text
</code></strong>Just &quot;one hundred quindecillion forty-two&quot;
</pre><p>French, which contains some traces of a base 20 system:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Text.Numeral.Language.FR as FR
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>FR.cardinal defaultInflection (-99) :: Maybe Text
</code></strong>Just &quot;moins quatre-vingt-dix-neuf&quot;
</pre><p>Conversions can fail. Alamblak, a language spoken by a few people in Papua New
Guinea, has no representation for negative numbers:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Text.Numeral.Language.AMP as AMP
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>AMP.cardinal defaultInflection (-3) :: Maybe Text
</code></strong>Nothing
</pre><p>Some languages have multiple scripts and methods for writing number names. Take
Chinese for example, which can be written using Han characters or transcribed to
the Latin script using Pinyin.</p><p>Traditional Chinese characters:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Text.Numeral.Language.ZH as ZH
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ZH.trad_cardinal defaultInflection 123456 :: Maybe Text
</code></strong>Just &quot;&#21313;&#20108;&#33836;&#19977;&#21315;&#22235;&#30334;&#20116;&#21313;&#20845;&quot;
</pre><p>Simplified characters for use in financial contexts:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ZH.finance_simpl_cardinal defaultInflection 123456 :: Maybe Text
</code></strong>Just &quot;&#25342;&#36144;&#19975;&#21442;&#20191;&#32902;&#20271;&#20237;&#25342;&#38470;&quot;
</pre><p>Transcribed using Pinyin:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ZH.pinyin_cardinal defaultInflection 123456 :: Maybe Text
</code></strong>Just &quot;sh&#237;&#232;rw&#224;n s&#257;nqi&#257;n s&#236;b&#462;i w&#468;sh&#237; li&#249;&quot;
</pre><p>Using the <code>struct</code> functions you can see the grammatical structure of number
names. Because the results of these functions are polymorphic you need to
specify a specific type.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Text.Numeral.Language.NL as NL
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>NL.struct 123 :: Integer
</code></strong>123
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Text.Numeral
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>NL.struct 123 :: Exp
</code></strong>Add (Lit 100) (Add (Lit 3) (Mul (Lit 2) (Lit 10)))
</pre><p>Compare with:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>NL.cardinal defaultInflection 123 :: Maybe Text
</code></strong>Just &quot;honderddrie&#235;ntwintig&quot;
</pre><p>100 (honderd) + (3 (drie) + (&#235;n) 2 (twin) * 10 (tig))</p></div><div class="top"><p class="src">module <a href="Text-Numeral-Exp.html">Text.Numeral.Exp</a></p></div><div class="top"><p class="src">module <a href="Text-Numeral-Render.html">Text.Numeral.Render</a></p></div><div class="top"><p class="src">module <a href="Text-Numeral-Rules.html">Text.Numeral.Rules</a></p></div><div class="top"><p class="src">module <a href="Text-Numeral-Grammar.html">Text.Numeral.Grammar</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>