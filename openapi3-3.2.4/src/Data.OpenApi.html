<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- |</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- Module:      Data.OpenApi</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Maintainer:  Nickolay Kudasov &lt;nickolay@getshoptv.com&gt;</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Stability:   experimental</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Swagger&#8482; is a project used to describe and document RESTful APIs.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- The Swagger specification defines a set of files required to describe such an API.</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- These files can then be used by the Swagger-UI project to display the API</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- and Swagger-Codegen to generate clients in various languages.</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Additional utilities can also take advantage of the resulting files, such as testing tools.</span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.OpenApi</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><span class="hs-comment">-- * How to use this library</span></span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><span class="hs-comment">-- $howto</span></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** @'Monoid'@ instances</span></span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-comment">-- $monoids</span></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Lenses and prisms</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><span class="hs-comment">-- $lens</span></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Schema specification</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-comment">-- $schema</span></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Manipulation</span></span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- $manipulation</span></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Validation</span></span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-comment">-- $validation</span></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.OpenApi.Lens.html"><span class="hs-identifier">Data.OpenApi.Lens</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.OpenApi.Optics.html"><span class="hs-identifier">Data.OpenApi.Optics</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.OpenApi.Operation.html"><span class="hs-identifier">Data.OpenApi.Operation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.OpenApi.ParamSchema.html"><span class="hs-identifier">Data.OpenApi.ParamSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.OpenApi.Schema.html"><span class="hs-identifier">Data.OpenApi.Schema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Data.OpenApi.Schema.Validation.html"><span class="hs-identifier">Data.OpenApi.Schema.Validation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Swagger specification</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier">OpenApi</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Server"><span class="hs-identifier">Server</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#ServerVariable"><span class="hs-identifier">ServerVariable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Components"><span class="hs-identifier">Components</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Info types</span></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Info"><span class="hs-identifier">Info</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Contact"><span class="hs-identifier">Contact</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#License"><span class="hs-identifier">License</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** PathItem</span></span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#PathItem"><span class="hs-identifier">PathItem</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Operations</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Operation"><span class="hs-identifier">Operation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Tag"><span class="hs-identifier">Tag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#TagName"><span class="hs-identifier">TagName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Types and formats</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OpenApiType"><span class="hs-identifier">OpenApiType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Format"><span class="hs-identifier">Format</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Definitions"><span class="hs-identifier">Definitions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Style"><span class="hs-identifier">Style</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Parameters</span></span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Param"><span class="hs-identifier">Param</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#ParamLocation"><span class="hs-identifier">ParamLocation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#ParamName"><span class="hs-identifier">ParamName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Header"><span class="hs-identifier">Header</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#HeaderName"><span class="hs-identifier">HeaderName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Example"><span class="hs-identifier">Example</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#RequestBody"><span class="hs-identifier">RequestBody</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#MediaTypeObject"><span class="hs-identifier">MediaTypeObject</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Encoding"><span class="hs-identifier">Encoding</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Schemas</span></span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Schema"><span class="hs-identifier">Schema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#NamedSchema"><span class="hs-identifier">NamedSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OpenApiItems"><span class="hs-identifier">OpenApiItems</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Xml"><span class="hs-identifier">Xml</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Pattern"><span class="hs-identifier">Pattern</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#AdditionalProperties"><span class="hs-identifier">AdditionalProperties</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Discriminator"><span class="hs-identifier">Discriminator</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Responses</span></span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Responses"><span class="hs-identifier">Responses</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Response"><span class="hs-identifier">Response</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#HttpStatusCode"><span class="hs-identifier">HttpStatusCode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Link"><span class="hs-identifier">Link</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Callback"><span class="hs-identifier">Callback</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Security</span></span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#SecurityScheme"><span class="hs-identifier">SecurityScheme</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#SecuritySchemeType"><span class="hs-identifier">SecuritySchemeType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#HttpSchemeType"><span class="hs-identifier">HttpSchemeType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#SecurityDefinitions"><span class="hs-identifier">SecurityDefinitions</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#SecurityRequirement"><span class="hs-identifier">SecurityRequirement</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** API key</span></span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#ApiKeyParams"><span class="hs-identifier">ApiKeyParams</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#ApiKeyLocation"><span class="hs-identifier">ApiKeyLocation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** OAuth2</span></span><span>
</span><span id="line-103"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OAuth2Flows"><span class="hs-identifier">OAuth2Flows</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OAuth2Flow"><span class="hs-identifier">OAuth2Flow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OAuth2ImplicitFlow"><span class="hs-identifier">OAuth2ImplicitFlow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OAuth2PasswordFlow"><span class="hs-identifier">OAuth2PasswordFlow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OAuth2ClientCredentialsFlow"><span class="hs-identifier">OAuth2ClientCredentialsFlow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#OAuth2AuthorizationCodeFlow"><span class="hs-identifier">OAuth2AuthorizationCodeFlow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#AuthorizationURL"><span class="hs-identifier">AuthorizationURL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#TokenURL"><span class="hs-identifier">TokenURL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** External documentation</span></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#ExternalDocs"><span class="hs-identifier">ExternalDocs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** References</span></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Reference"><span class="hs-identifier">Reference</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#Referenced"><span class="hs-identifier">Referenced</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Miscellaneous</span></span><span>
</span><span id="line-120"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#MimeList"><span class="hs-identifier">MimeList</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><a href="Data.OpenApi.Internal.html#URL"><span class="hs-identifier">URL</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.Lens.html"><span class="hs-identifier">Data.OpenApi.Lens</span></a></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.Optics.html"><span class="hs-identifier">Data.OpenApi.Optics</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.Operation.html"><span class="hs-identifier">Data.OpenApi.Operation</span></a></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.ParamSchema.html"><span class="hs-identifier">Data.OpenApi.ParamSchema</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.Schema.html"><span class="hs-identifier">Data.OpenApi.Schema</span></a></span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.Schema.Validation.html"><span class="hs-identifier">Data.OpenApi.Schema.Validation</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.OpenApi.Internal.html"><span class="hs-identifier">Data.OpenApi.Internal</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Lens</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Aeson</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Monoid</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Proxy</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- &gt;&gt;&gt; import GHC.Generics</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.ByteString.Lazy.Char8 as BSL</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.OpenApi.Internal</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.OpenApi.Internal.Schema</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.HashMap.Strict.InsOrd as IOHM</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.OpenApi.Internal.Utils</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.OpenApi.Lens</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XDeriveGeneric</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XOverloadedStrings</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -fno-warn-missing-methods</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- $howto</span><span>
</span><span id="line-150"></span><span class="hs-comment">--</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- This section explains how to use this library to work with Swagger specification.</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- $monoids</span><span>
</span><span id="line-154"></span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- Virtually all types representing Swagger specification have @'Monoid'@ instances.</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- The @'Monoid'@ type class provides two methods &#8212; @'mempty'@ and @'mappend'@.</span><span>
</span><span id="line-157"></span><span class="hs-comment">--</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- In this library you can use @'mempty'@ for a default/empty value. For instance:</span><span>
</span><span id="line-159"></span><span class="hs-comment">--</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty (mempty :: OpenApi)</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-162"></span><span class="hs-comment">--     &quot;components&quot;: {},</span><span>
</span><span id="line-163"></span><span class="hs-comment">--     &quot;info&quot;: {</span><span>
</span><span id="line-164"></span><span class="hs-comment">--         &quot;title&quot;: &quot;&quot;,</span><span>
</span><span id="line-165"></span><span class="hs-comment">--         &quot;version&quot;: &quot;&quot;</span><span>
</span><span id="line-166"></span><span class="hs-comment">--     },</span><span>
</span><span id="line-167"></span><span class="hs-comment">--     &quot;openapi&quot;: &quot;3.0.0&quot;,</span><span>
</span><span id="line-168"></span><span class="hs-comment">--     &quot;paths&quot;: {}</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-170"></span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- As you can see some spec properties (e.g. @&quot;version&quot;@) are there even when the spec is empty.</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- That is because these properties are actually required ones.</span><span>
</span><span id="line-173"></span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- You /should/ always override the default (empty) value for these properties,</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- although it is not strictly necessary:</span><span>
</span><span id="line-176"></span><span class="hs-comment">--</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty mempty { _infoTitle = &quot;Todo API&quot;, _infoVersion = &quot;1.0&quot; }</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-179"></span><span class="hs-comment">--     &quot;title&quot;: &quot;Todo API&quot;,</span><span>
</span><span id="line-180"></span><span class="hs-comment">--     &quot;version&quot;: &quot;1.0&quot;</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-182"></span><span class="hs-comment">--</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- You can merge two values using @'mappend'@ or its infix version @('&lt;&gt;')@:</span><span>
</span><span id="line-184"></span><span class="hs-comment">--</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty $ mempty { _infoTitle = &quot;Todo API&quot; } &lt;&gt; mempty { _infoVersion = &quot;1.0&quot; }</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-187"></span><span class="hs-comment">--     &quot;title&quot;: &quot;Todo API&quot;,</span><span>
</span><span id="line-188"></span><span class="hs-comment">--     &quot;version&quot;: &quot;1.0&quot;</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-comment">--</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- This can be useful for combining specifications of endpoints into a whole API specification:</span><span>
</span><span id="line-193"></span><span class="hs-comment">--</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- \-\- /account subAPI specification</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- accountAPI :: OpenApi</span><span>
</span><span id="line-197"></span><span class="hs-comment">--</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- \-\- /task subAPI specification</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- taskAPI :: OpenApi</span><span>
</span><span id="line-200"></span><span class="hs-comment">--</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- \-\- while API specification is just a combination</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- \-\- of subAPIs' specifications</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- api :: OpenApi</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- api = accountAPI &lt;&gt; taskAPI</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- $lens</span><span>
</span><span id="line-208"></span><span class="hs-comment">--</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- Note: if you're working with the &lt;https://hackage.haskell.org/package/optics optics&gt; library, take a look at &quot;Data.OpenApi.Optics&quot;.</span><span>
</span><span id="line-210"></span><span class="hs-comment">--</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- Since @'Swagger'@ has a fairly complex structure, lenses and prisms are used</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- to work comfortably with it. In combination with @'Monoid'@ instances, lenses</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- make it fairly simple to construct/modify any part of the specification:</span><span>
</span><span id="line-214"></span><span class="hs-comment">--</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- BSL.putStrLn $ encodePretty $ (mempty :: OpenApi)</span><span>
</span><span id="line-217"></span><span class="hs-comment">--   &amp; components . schemas .~ IOHM.fromList [ (&quot;User&quot;, mempty &amp; type_ ?~ OpenApiString) ]</span><span>
</span><span id="line-218"></span><span class="hs-comment">--   &amp; paths .~</span><span>
</span><span id="line-219"></span><span class="hs-comment">--     IOHM.fromList [ (&quot;/user&quot;, mempty &amp; get ?~ (mempty</span><span>
</span><span id="line-220"></span><span class="hs-comment">--         &amp; at 200 ?~ (&quot;OK&quot; &amp; _Inline.content.at &quot;application/json&quot; ?~ (mempty &amp; schema ?~ Ref (Reference &quot;User&quot;)))</span><span>
</span><span id="line-221"></span><span class="hs-comment">--         &amp; at 404 ?~ &quot;User info not found&quot;)) ]</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-224"></span><span class="hs-comment">--     &quot;components&quot;: {</span><span>
</span><span id="line-225"></span><span class="hs-comment">--         &quot;schemas&quot;: {</span><span>
</span><span id="line-226"></span><span class="hs-comment">--             &quot;User&quot;: {</span><span>
</span><span id="line-227"></span><span class="hs-comment">--                 &quot;type&quot;: &quot;string&quot;</span><span>
</span><span id="line-228"></span><span class="hs-comment">--             }</span><span>
</span><span id="line-229"></span><span class="hs-comment">--         }</span><span>
</span><span id="line-230"></span><span class="hs-comment">--     },</span><span>
</span><span id="line-231"></span><span class="hs-comment">--     &quot;info&quot;: {</span><span>
</span><span id="line-232"></span><span class="hs-comment">--         &quot;title&quot;: &quot;&quot;,</span><span>
</span><span id="line-233"></span><span class="hs-comment">--         &quot;version&quot;: &quot;&quot;</span><span>
</span><span id="line-234"></span><span class="hs-comment">--     },</span><span>
</span><span id="line-235"></span><span class="hs-comment">--     &quot;openapi&quot;: &quot;3.0.0&quot;,</span><span>
</span><span id="line-236"></span><span class="hs-comment">--     &quot;paths&quot;: {</span><span>
</span><span id="line-237"></span><span class="hs-comment">--         &quot;/user&quot;: {</span><span>
</span><span id="line-238"></span><span class="hs-comment">--             &quot;get&quot;: {</span><span>
</span><span id="line-239"></span><span class="hs-comment">--                 &quot;responses&quot;: {</span><span>
</span><span id="line-240"></span><span class="hs-comment">--                     &quot;200&quot;: {</span><span>
</span><span id="line-241"></span><span class="hs-comment">--                         &quot;content&quot;: {</span><span>
</span><span id="line-242"></span><span class="hs-comment">--                             &quot;application/json&quot;: {</span><span>
</span><span id="line-243"></span><span class="hs-comment">--                                 &quot;schema&quot;: {</span><span>
</span><span id="line-244"></span><span class="hs-comment">--                                     &quot;$ref&quot;: &quot;#/components/schemas/User&quot;</span><span>
</span><span id="line-245"></span><span class="hs-comment">--                                 }</span><span>
</span><span id="line-246"></span><span class="hs-comment">--                             }</span><span>
</span><span id="line-247"></span><span class="hs-comment">--                         },</span><span>
</span><span id="line-248"></span><span class="hs-comment">--                         &quot;description&quot;: &quot;OK&quot;</span><span>
</span><span id="line-249"></span><span class="hs-comment">--                     },</span><span>
</span><span id="line-250"></span><span class="hs-comment">--                     &quot;404&quot;: {</span><span>
</span><span id="line-251"></span><span class="hs-comment">--                         &quot;description&quot;: &quot;User info not found&quot;</span><span>
</span><span id="line-252"></span><span class="hs-comment">--                     }</span><span>
</span><span id="line-253"></span><span class="hs-comment">--                 }</span><span>
</span><span id="line-254"></span><span class="hs-comment">--             }</span><span>
</span><span id="line-255"></span><span class="hs-comment">--         }</span><span>
</span><span id="line-256"></span><span class="hs-comment">--     }</span><span>
</span><span id="line-257"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-258"></span><span class="hs-comment">--</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- In the snippet above we declare an API with a single path @/user@. This path provides method @GET@</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- which produces @application/json@ output. It should respond with code @200@ and body specified</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- by schema @User@ which is defined in @'definitions'@ property of swagger specification.</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- Alternatively it may respond with code @404@ meaning that user info is not found.</span><span>
</span><span id="line-263"></span><span class="hs-comment">--</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- For convenience, @swagger2@ uses /classy field lenses/. It means that</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- field accessor names can be overloaded for different types. One such</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- common field is @'description'@. Many components of a Swagger specification</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- can have descriptions, and you can use the same name for them:</span><span>
</span><span id="line-268"></span><span class="hs-comment">--</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty $ (mempty :: Response) &amp; description .~ &quot;No content&quot;</span><span>
</span><span id="line-270"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-271"></span><span class="hs-comment">--     &quot;description&quot;: &quot;No content&quot;</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- BSL.putStrLn $ encodePretty $ (mempty :: Schema)</span><span>
</span><span id="line-275"></span><span class="hs-comment">--   &amp; type_       ?~ OpenApiBoolean</span><span>
</span><span id="line-276"></span><span class="hs-comment">--   &amp; description ?~ &quot;To be or not to be&quot;</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-279"></span><span class="hs-comment">--     &quot;description&quot;: &quot;To be or not to be&quot;,</span><span>
</span><span id="line-280"></span><span class="hs-comment">--     &quot;type&quot;: &quot;boolean&quot;</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-282"></span><span class="hs-comment">--</span><span>
</span><span id="line-283"></span><span class="hs-comment">-- Additionally, to simplify working with @'Response'@, both @'Operation'@ and @'Responses'@</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- have direct access to it via @'at' code@. Example:</span><span>
</span><span id="line-285"></span><span class="hs-comment">--</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- BSL.putStrLn $ encodePretty $ (mempty :: Operation)</span><span>
</span><span id="line-288"></span><span class="hs-comment">--   &amp; at 404 ?~ &quot;Not found&quot;</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-291"></span><span class="hs-comment">--     &quot;responses&quot;: {</span><span>
</span><span id="line-292"></span><span class="hs-comment">--         &quot;404&quot;: {</span><span>
</span><span id="line-293"></span><span class="hs-comment">--             &quot;description&quot;: &quot;Not found&quot;</span><span>
</span><span id="line-294"></span><span class="hs-comment">--         }</span><span>
</span><span id="line-295"></span><span class="hs-comment">--     }</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-297"></span><span class="hs-comment">--</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- You might've noticed that @'type_'@ has an extra underscore in its name</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- compared to, say, @'description'@ field accessor.</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- This is because @type@ is a keyword in Haskell.</span><span>
</span><span id="line-301"></span><span class="hs-comment">-- A few other field accessors are modified in this way:</span><span>
</span><span id="line-302"></span><span class="hs-comment">--</span><span>
</span><span id="line-303"></span><span class="hs-comment">--    - @'in_'@, @'type_'@, @'default_'@ (as keywords);</span><span>
</span><span id="line-304"></span><span class="hs-comment">--    - @'maximum_'@, @'minimum_'@, @'head_'@ (as conflicting with @Prelude@);</span><span>
</span><span id="line-305"></span><span class="hs-comment">--    - @'enum_'@ (as conflicting with @Control.Lens@).</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- $schema</span><span>
</span><span id="line-308"></span><span class="hs-comment">--</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- @'ParamSchema'@ and @'Schema'@ are the two core types for data model specification.</span><span>
</span><span id="line-310"></span><span class="hs-comment">--</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- @'ParamSchema' t@ specifies all the common properties, available for every data schema.</span><span>
</span><span id="line-312"></span><span class="hs-comment">-- The @t@ parameter imposes some restrictions on @type@ and @items@ properties (see @'OpenApiType'@ and @'OpenApiItems'@).</span><span>
</span><span id="line-313"></span><span class="hs-comment">--</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- @'Schema'@ is used for request and response bodies and allows specifying objects</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- with properties in addition to what @'ParamSchema'@ provides.</span><span>
</span><span id="line-316"></span><span class="hs-comment">--</span><span>
</span><span id="line-317"></span><span class="hs-comment">-- In most cases you will have a Haskell data type for which you would like to</span><span>
</span><span id="line-318"></span><span class="hs-comment">-- define a corresponding schema. To facilitate this use case</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- @swagger2@ provides two classes for schema encoding.</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- Both these classes provide means to encode /types/ as Swagger /schemas/.</span><span>
</span><span id="line-321"></span><span class="hs-comment">--</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- @'ToParamSchema'@ is intended to be used for primitive API endpoint parameters,</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- such as query parameters, headers and URL path pieces.</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- Its corresponding value-encoding class is @'ToHttpApiData'@ (from @http-api-data@ package).</span><span>
</span><span id="line-325"></span><span class="hs-comment">--</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- @'ToSchema'@ is used for request and response bodies and mostly differ from</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- primitive parameters by allowing objects/mappings in addition to primitive types and arrays.</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- Its corresponding value-encoding class is @'ToJSON'@ (from @aeson@ package).</span><span>
</span><span id="line-329"></span><span class="hs-comment">--</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- While lenses and prisms make it easy to define schemas, it might be that you don't need to:</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- @'ToSchema'@ and @'ToParamSchema'@ classes both have default @'Generic'@-based implementations!</span><span>
</span><span id="line-332"></span><span class="hs-comment">--</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- @'ToSchema'@ default implementation is also aligned with @'ToJSON'@ default implementation with</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- the only difference being for sum encoding. @'ToJSON'@ defaults sum encoding to @'defaultTaggedObject'@,</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- while @'ToSchema'@ defaults to something which corresponds to @'ObjectWithSingleField'@. This is due to</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- @'defaultTaggedObject'@ behavior being hard to specify in Swagger.</span><span>
</span><span id="line-337"></span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- Here's an example showing @'ToJSON'@&#8211;@'ToSchema'@ correspondance:</span><span>
</span><span id="line-339"></span><span class="hs-comment">--</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- &gt;&gt;&gt; data Person = Person { name :: String, age :: Integer } deriving Generic</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- &gt;&gt;&gt; instance ToJSON Person</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- &gt;&gt;&gt; instance ToSchema Person</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty (Person &quot;David&quot; 28)</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-345"></span><span class="hs-comment">--     &quot;age&quot;: 28,</span><span>
</span><span id="line-346"></span><span class="hs-comment">--     &quot;name&quot;: &quot;David&quot;</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty $ toSchema (Proxy :: Proxy Person)</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-350"></span><span class="hs-comment">--     &quot;properties&quot;: {</span><span>
</span><span id="line-351"></span><span class="hs-comment">--         &quot;age&quot;: {</span><span>
</span><span id="line-352"></span><span class="hs-comment">--             &quot;type&quot;: &quot;integer&quot;</span><span>
</span><span id="line-353"></span><span class="hs-comment">--         },</span><span>
</span><span id="line-354"></span><span class="hs-comment">--         &quot;name&quot;: {</span><span>
</span><span id="line-355"></span><span class="hs-comment">--             &quot;type&quot;: &quot;string&quot;</span><span>
</span><span id="line-356"></span><span class="hs-comment">--         }</span><span>
</span><span id="line-357"></span><span class="hs-comment">--     },</span><span>
</span><span id="line-358"></span><span class="hs-comment">--     &quot;required&quot;: [</span><span>
</span><span id="line-359"></span><span class="hs-comment">--         &quot;name&quot;,</span><span>
</span><span id="line-360"></span><span class="hs-comment">--         &quot;age&quot;</span><span>
</span><span id="line-361"></span><span class="hs-comment">--     ],</span><span>
</span><span id="line-362"></span><span class="hs-comment">--     &quot;type&quot;: &quot;object&quot;</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-364"></span><span class="hs-comment">--</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- This package implements OpenAPI 3.0 spec, which supports @oneOf@ in schemas, allowing any sum types</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- to be faithfully represented. All sum encodings supported by @aeson@ are supported here as well, with</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- an exception of 'Data.Aeson.TwoElemArray', since OpenAPI spec does not support heterogeneous arrays.</span><span>
</span><span id="line-368"></span><span class="hs-comment">--</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- An example with 'Data.Aeson.TaggedObject' encoding:</span><span>
</span><span id="line-370"></span><span class="hs-comment">--</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- &gt;&gt;&gt; data Error = ErrorNoUser { userId :: Int } | ErrorAccessDenied { requiredPermission :: String } deriving Generic</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- &gt;&gt;&gt; instance ToJSON Error</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- &gt;&gt;&gt; instance ToSchema Error</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- &gt;&gt;&gt; BSL.putStrLn $ encodePretty $ toSchema (Proxy :: Proxy Error)</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- {</span><span>
</span><span id="line-376"></span><span class="hs-comment">--     &quot;oneOf&quot;: [</span><span>
</span><span id="line-377"></span><span class="hs-comment">--         {</span><span>
</span><span id="line-378"></span><span class="hs-comment">--             &quot;properties&quot;: {</span><span>
</span><span id="line-379"></span><span class="hs-comment">--                 &quot;tag&quot;: {</span><span>
</span><span id="line-380"></span><span class="hs-comment">--                     &quot;enum&quot;: [</span><span>
</span><span id="line-381"></span><span class="hs-comment">--                         &quot;ErrorNoUser&quot;</span><span>
</span><span id="line-382"></span><span class="hs-comment">--                     ],</span><span>
</span><span id="line-383"></span><span class="hs-comment">--                     &quot;type&quot;: &quot;string&quot;</span><span>
</span><span id="line-384"></span><span class="hs-comment">--                 },</span><span>
</span><span id="line-385"></span><span class="hs-comment">--                 &quot;userId&quot;: {</span><span>
</span><span id="line-386"></span><span class="hs-comment">--                     &quot;maximum&quot;: 9223372036854775807,</span><span>
</span><span id="line-387"></span><span class="hs-comment">--                     &quot;minimum&quot;: -9223372036854775808,</span><span>
</span><span id="line-388"></span><span class="hs-comment">--                     &quot;type&quot;: &quot;integer&quot;</span><span>
</span><span id="line-389"></span><span class="hs-comment">--                 }</span><span>
</span><span id="line-390"></span><span class="hs-comment">--             },</span><span>
</span><span id="line-391"></span><span class="hs-comment">--             &quot;required&quot;: [</span><span>
</span><span id="line-392"></span><span class="hs-comment">--                 &quot;userId&quot;,</span><span>
</span><span id="line-393"></span><span class="hs-comment">--                 &quot;tag&quot;</span><span>
</span><span id="line-394"></span><span class="hs-comment">--             ],</span><span>
</span><span id="line-395"></span><span class="hs-comment">--             &quot;title&quot;: &quot;ErrorNoUser&quot;,</span><span>
</span><span id="line-396"></span><span class="hs-comment">--             &quot;type&quot;: &quot;object&quot;</span><span>
</span><span id="line-397"></span><span class="hs-comment">--         },</span><span>
</span><span id="line-398"></span><span class="hs-comment">--         {</span><span>
</span><span id="line-399"></span><span class="hs-comment">--             &quot;properties&quot;: {</span><span>
</span><span id="line-400"></span><span class="hs-comment">--                 &quot;requiredPermission&quot;: {</span><span>
</span><span id="line-401"></span><span class="hs-comment">--                     &quot;type&quot;: &quot;string&quot;</span><span>
</span><span id="line-402"></span><span class="hs-comment">--                 },</span><span>
</span><span id="line-403"></span><span class="hs-comment">--                 &quot;tag&quot;: {</span><span>
</span><span id="line-404"></span><span class="hs-comment">--                     &quot;enum&quot;: [</span><span>
</span><span id="line-405"></span><span class="hs-comment">--                         &quot;ErrorAccessDenied&quot;</span><span>
</span><span id="line-406"></span><span class="hs-comment">--                     ],</span><span>
</span><span id="line-407"></span><span class="hs-comment">--                     &quot;type&quot;: &quot;string&quot;</span><span>
</span><span id="line-408"></span><span class="hs-comment">--                 }</span><span>
</span><span id="line-409"></span><span class="hs-comment">--             },</span><span>
</span><span id="line-410"></span><span class="hs-comment">--             &quot;required&quot;: [</span><span>
</span><span id="line-411"></span><span class="hs-comment">--                 &quot;requiredPermission&quot;,</span><span>
</span><span id="line-412"></span><span class="hs-comment">--                 &quot;tag&quot;</span><span>
</span><span id="line-413"></span><span class="hs-comment">--             ],</span><span>
</span><span id="line-414"></span><span class="hs-comment">--             &quot;title&quot;: &quot;ErrorAccessDenied&quot;,</span><span>
</span><span id="line-415"></span><span class="hs-comment">--             &quot;type&quot;: &quot;object&quot;</span><span>
</span><span id="line-416"></span><span class="hs-comment">--         }</span><span>
</span><span id="line-417"></span><span class="hs-comment">--     ]</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- }</span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-comment">-- $manipulation</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- Sometimes you have to work with an imported or generated @'Swagger'@.</span><span>
</span><span id="line-422"></span><span class="hs-comment">-- For instance, &lt;servant-swagger http://hackage.haskell.org/package/servant-swagger&gt; generates basic @'Swagger'@</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- for a type-level servant API.</span><span>
</span><span id="line-424"></span><span class="hs-comment">--</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- Lenses and prisms can be used to manipulate such specification to add additional information, tags, extra responses, etc.</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- To facilitate common needs, @&quot;Data.OpenApi.Operation&quot;@ module provides useful helpers.</span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="hs-comment">-- $validation</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- While @'ToParamSchema'@ and @'ToSchema'@ provide means to easily obtain schemas for Haskell types,</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- there is no static mechanism to ensure those instances correspond to the @'ToHttpApiData'@ or @'ToJSON'@ instances.</span><span>
</span><span id="line-431"></span><span class="hs-comment">--</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- @&quot;Data.OpenApi.Schema.Validation&quot;@ addresses @'ToJSON'@/@'ToSchema'@ validation.</span><span>
</span><span id="line-433"></span></pre></body></html>