<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">{- |
Module      :  Data.IntervalMap.Generic.Strict
Copyright   :  (c) Christoph Breitkopf 2014
License     :  BSD-style
Maintainer  :  chbreitkopf@gmail.com
Stability   :  experimental
Portability :  non-portable (MPTC with FD)

An implementation of maps from intervals to values. The key intervals
may overlap, and the implementation contains efficient search
functions for all keys containing a point or overlapping an
interval. Closed, open, and half-open intervals can be contained in
the same map.

The functions in this module are strict in both the keys and the
values.  If you need value-lazy maps, use &quot;Data.IntervalMap.Lazy&quot;
instead. The IntervalMap type itself is shared between the lazy and
strict modules, meaning that the same IntervalMap value can be passed
to functions in both modules (although that is rarely needed).

An IntervalMap cannot contain duplicate keys - if you need to map a
key to multiple values, use a collection as the value type, for
example: @IntervalMap /k/ [/v/]@.

It is an error to insert an empty interval into a map. This
precondition is not checked by the various construction functions.

Since many function names (but not the type name) clash with /Prelude/
names, this module is usually imported @qualified@, e.g.

&gt;  import Data.Generic.IntervalMap.Strict (IntervalMap)
&gt;  import qualified Data.Generic.IntervalMap.Strict as IM

It offers most of the same functions as 'Data.Map', but the
key type must be an instance of 'Interval'.
Some functions differ in asymptotic performance (for example 'size') or
have not been tuned for efficiency as much as their equivalents in
'Data.Map' (in particular the various set functions).

In addition, there are functions specific to maps of intervals, for
example to search for all keys containing a given point or contained
in a given interval.

The implementation is a red-black tree augmented with the maximum
upper bound of all keys.

Parts of this implementation are based on code from the 'Data.Map'
implementation, (c) Daan Leijen 2002, (c) Andriy Palamarchuk 2008. The
red-black tree deletion is based on code from llrbtree by Kazu
Yamamoto. Of course, any errors are mine.
-}</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.IntervalMap.Generic.Strict</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-53"></span><span>            </span><span class="annot"><span class="hs-comment">-- * re-export</span></span><span>
</span><span id="line-54"></span><span>            </span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier">Interval</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Map type</span></span><span>
</span><span id="line-56"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier">IntervalMap</span></a></span><span>      </span><span class="hs-comment">-- instance Eq,Show,Read</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Operators</span></span><span>
</span><span id="line-59"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#%21"><span class="hs-operator">(!)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#%5C%5C"><span class="hs-operator">(\\)</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Query</span></span><span>
</span><span id="line-62"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#null"><span class="hs-identifier">null</span></a></span><span>
</span><span id="line-63"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#size"><span class="hs-identifier">size</span></a></span><span>
</span><span id="line-64"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#member"><span class="hs-identifier">member</span></a></span><span>
</span><span id="line-65"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#notMember"><span class="hs-identifier">notMember</span></a></span><span>
</span><span id="line-66"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookup"><span class="hs-identifier">lookup</span></a></span><span>
</span><span id="line-67"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#findWithDefault"><span class="hs-identifier">findWithDefault</span></a></span><span>
</span><span id="line-68"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupLT"><span class="hs-identifier">lookupLT</span></a></span><span>
</span><span id="line-69"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupGT"><span class="hs-identifier">lookupGT</span></a></span><span>
</span><span id="line-70"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupLE"><span class="hs-identifier">lookupLE</span></a></span><span>
</span><span id="line-71"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupGE"><span class="hs-identifier">lookupGE</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Interval query</span></span><span>
</span><span id="line-74"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#containing"><span class="hs-identifier">containing</span></a></span><span>
</span><span id="line-75"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#intersecting"><span class="hs-identifier">intersecting</span></a></span><span>
</span><span id="line-76"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#within"><span class="hs-identifier">within</span></a></span><span>
</span><span id="line-77"></span><span>            </span><span>
</span><span id="line-78"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Construction</span></span><span>
</span><span id="line-79"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#empty"><span class="hs-identifier">empty</span></a></span><span>
</span><span id="line-80"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#singleton"><span class="hs-identifier">singleton</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Insertion</span></span><span>
</span><span id="line-83"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insert"><span class="hs-identifier">insert</span></a></span><span>
</span><span id="line-84"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insertWith"><span class="hs-identifier">insertWith</span></a></span><span>
</span><span id="line-85"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insertWithKey"><span class="hs-identifier">insertWithKey</span></a></span><span>
</span><span id="line-86"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insertLookupWithKey"><span class="hs-identifier">insertLookupWithKey</span></a></span><span>
</span><span id="line-87"></span><span>            </span><span>
</span><span id="line-88"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Delete\/Update</span></span><span>
</span><span id="line-89"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#delete"><span class="hs-identifier">delete</span></a></span><span>
</span><span id="line-90"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#adjust"><span class="hs-identifier">adjust</span></a></span><span>
</span><span id="line-91"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier">adjustWithKey</span></a></span><span>
</span><span id="line-92"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#update"><span class="hs-identifier">update</span></a></span><span>
</span><span id="line-93"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateWithKey"><span class="hs-identifier">updateWithKey</span></a></span><span>
</span><span id="line-94"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateLookupWithKey"><span class="hs-identifier">updateLookupWithKey</span></a></span><span>
</span><span id="line-95"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#alter"><span class="hs-identifier">alter</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Combine</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Union</span></span><span>
</span><span id="line-100"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#union"><span class="hs-identifier">union</span></a></span><span>
</span><span id="line-101"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#unionWith"><span class="hs-identifier">unionWith</span></a></span><span>
</span><span id="line-102"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#unionWithKey"><span class="hs-identifier">unionWithKey</span></a></span><span>
</span><span id="line-103"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#unions"><span class="hs-identifier">unions</span></a></span><span>
</span><span id="line-104"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#unionsWith"><span class="hs-identifier">unionsWith</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Difference</span></span><span>
</span><span id="line-107"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#difference"><span class="hs-identifier">difference</span></a></span><span>
</span><span id="line-108"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#differenceWith"><span class="hs-identifier">differenceWith</span></a></span><span>
</span><span id="line-109"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#differenceWithKey"><span class="hs-identifier">differenceWithKey</span></a></span><span>
</span><span id="line-110"></span><span>            </span><span>
</span><span id="line-111"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Intersection</span></span><span>
</span><span id="line-112"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#intersection"><span class="hs-identifier">intersection</span></a></span><span>
</span><span id="line-113"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#intersectionWith"><span class="hs-identifier">intersectionWith</span></a></span><span>
</span><span id="line-114"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#intersectionWithKey"><span class="hs-identifier">intersectionWithKey</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Traversal</span></span><span>
</span><span id="line-117"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Map</span></span><span>
</span><span id="line-118"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#map"><span class="hs-identifier">map</span></a></span><span>
</span><span id="line-119"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapWithKey"><span class="hs-identifier">mapWithKey</span></a></span><span>
</span><span id="line-120"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapAccum"><span class="hs-identifier">mapAccum</span></a></span><span>
</span><span id="line-121"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapAccumWithKey"><span class="hs-identifier">mapAccumWithKey</span></a></span><span>
</span><span id="line-122"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapAccumRWithKey"><span class="hs-identifier">mapAccumRWithKey</span></a></span><span>
</span><span id="line-123"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapKeys"><span class="hs-identifier">mapKeys</span></a></span><span>
</span><span id="line-124"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapKeysWith"><span class="hs-identifier">mapKeysWith</span></a></span><span>
</span><span id="line-125"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapKeysMonotonic"><span class="hs-identifier">mapKeysMonotonic</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Fold</span></span><span>
</span><span id="line-128"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#foldr"><span class="hs-identifier">foldr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#foldl"><span class="hs-identifier">foldl</span></a></span><span>
</span><span id="line-129"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#foldrWithKey"><span class="hs-identifier">foldrWithKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#foldlWithKey"><span class="hs-identifier">foldlWithKey</span></a></span><span>
</span><span id="line-130"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#flattenWith"><span class="hs-identifier">flattenWith</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#flattenWithMonotonic"><span class="hs-identifier">flattenWithMonotonic</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Conversion</span></span><span>
</span><span id="line-133"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#elems"><span class="hs-identifier">elems</span></a></span><span>
</span><span id="line-134"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#keys"><span class="hs-identifier">keys</span></a></span><span>
</span><span id="line-135"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#keysSet"><span class="hs-identifier">keysSet</span></a></span><span>
</span><span id="line-136"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#assocs"><span class="hs-identifier">assocs</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Lists</span></span><span>
</span><span id="line-139"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#toList"><span class="hs-identifier">toList</span></a></span><span>
</span><span id="line-140"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromList"><span class="hs-identifier">fromList</span></a></span><span>
</span><span id="line-141"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromListWith"><span class="hs-identifier">fromListWith</span></a></span><span>
</span><span id="line-142"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromListWithKey"><span class="hs-identifier">fromListWithKey</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span>            </span><span class="annot"><span class="hs-comment">-- ** Ordered lists</span></span><span>
</span><span id="line-145"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier">toAscList</span></a></span><span>
</span><span id="line-146"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#toDescList"><span class="hs-identifier">toDescList</span></a></span><span>
</span><span id="line-147"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromAscList"><span class="hs-identifier">fromAscList</span></a></span><span>
</span><span id="line-148"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWith"><span class="hs-identifier">fromAscListWith</span></a></span><span>
</span><span id="line-149"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWithKey"><span class="hs-identifier">fromAscListWithKey</span></a></span><span>
</span><span id="line-150"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier">fromDistinctAscList</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Filter</span></span><span>
</span><span id="line-153"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#filter"><span class="hs-identifier">filter</span></a></span><span>
</span><span id="line-154"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#filterWithKey"><span class="hs-identifier">filterWithKey</span></a></span><span>
</span><span id="line-155"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#partition"><span class="hs-identifier">partition</span></a></span><span>
</span><span id="line-156"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#partitionWithKey"><span class="hs-identifier">partitionWithKey</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapMaybe"><span class="hs-identifier">mapMaybe</span></a></span><span>
</span><span id="line-159"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapMaybeWithKey"><span class="hs-identifier">mapMaybeWithKey</span></a></span><span>
</span><span id="line-160"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapEither"><span class="hs-identifier">mapEither</span></a></span><span>
</span><span id="line-161"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapEitherWithKey"><span class="hs-identifier">mapEitherWithKey</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#split"><span class="hs-identifier">split</span></a></span><span>
</span><span id="line-164"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#splitLookup"><span class="hs-identifier">splitLookup</span></a></span><span>
</span><span id="line-165"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#splitAt"><span class="hs-identifier">splitAt</span></a></span><span>
</span><span id="line-166"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#splitIntersecting"><span class="hs-identifier">splitIntersecting</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Submap</span></span><span>
</span><span id="line-169"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#isSubmapOf"><span class="hs-identifier">isSubmapOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#isSubmapOfBy"><span class="hs-identifier">isSubmapOfBy</span></a></span><span>
</span><span id="line-170"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#isProperSubmapOf"><span class="hs-identifier">isProperSubmapOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#isProperSubmapOfBy"><span class="hs-identifier">isProperSubmapOfBy</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Min\/Max</span></span><span>
</span><span id="line-173"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#findMin"><span class="hs-identifier">findMin</span></a></span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#findMax"><span class="hs-identifier">findMax</span></a></span><span>
</span><span id="line-175"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#findLast"><span class="hs-identifier">findLast</span></a></span><span>
</span><span id="line-176"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupMin"><span class="hs-identifier">lookupMin</span></a></span><span>
</span><span id="line-177"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupMax"><span class="hs-identifier">lookupMax</span></a></span><span>
</span><span id="line-178"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#lookupLast"><span class="hs-identifier">lookupLast</span></a></span><span>
</span><span id="line-179"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#deleteMin"><span class="hs-identifier">deleteMin</span></a></span><span>
</span><span id="line-180"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#deleteMax"><span class="hs-identifier">deleteMax</span></a></span><span>
</span><span id="line-181"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#deleteFindMin"><span class="hs-identifier">deleteFindMin</span></a></span><span>
</span><span id="line-182"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#deleteFindMax"><span class="hs-identifier">deleteFindMax</span></a></span><span>
</span><span id="line-183"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMin"><span class="hs-identifier">updateMin</span></a></span><span>
</span><span id="line-184"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMax"><span class="hs-identifier">updateMax</span></a></span><span>
</span><span id="line-185"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMinWithKey"><span class="hs-identifier">updateMinWithKey</span></a></span><span>
</span><span id="line-186"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMaxWithKey"><span class="hs-identifier">updateMaxWithKey</span></a></span><span>
</span><span id="line-187"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#minView"><span class="hs-identifier">minView</span></a></span><span>
</span><span id="line-188"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#maxView"><span class="hs-identifier">maxView</span></a></span><span>
</span><span id="line-189"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#minViewWithKey"><span class="hs-identifier">minViewWithKey</span></a></span><span>
</span><span id="line-190"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#maxViewWithKey"><span class="hs-identifier">maxViewWithKey</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Debugging</span></span><span>
</span><span id="line-193"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#valid"><span class="hs-identifier">valid</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>            </span><span class="annot"><span class="hs-comment">-- * Testing</span></span><span>
</span><span id="line-196"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#height"><span class="hs-identifier">height</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#maxHeight"><span class="hs-identifier">maxHeight</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#showStats"><span class="hs-identifier">showStats</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span>            </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">null</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">lookup</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">map</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">filter</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">foldr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">foldl</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">splitAt</span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-202"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html"><span class="hs-identifier">Data.IntervalMap.Generic.Base</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#singleton"><span class="hs-identifier">singleton</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#insert"><span class="hs-identifier">insert</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#insertWith"><span class="hs-identifier">insertWith</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#insertWithKey"><span class="hs-identifier">insertWithKey</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#findWithDefault"><span class="hs-identifier">findWithDefault</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#insertLookupWithKey"><span class="hs-identifier">insertLookupWithKey</span></a></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#adjust"><span class="hs-identifier">adjust</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#adjustWithKey"><span class="hs-identifier">adjustWithKey</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#update"><span class="hs-identifier">update</span></a></span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#updateWithKey"><span class="hs-identifier">updateWithKey</span></a></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#updateLookupWithKey"><span class="hs-identifier">updateLookupWithKey</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#alter"><span class="hs-identifier">alter</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#unionWith"><span class="hs-identifier">unionWith</span></a></span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#unionWithKey"><span class="hs-identifier">unionWithKey</span></a></span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#unionsWith"><span class="hs-identifier">unionsWith</span></a></span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#differenceWith"><span class="hs-identifier">differenceWith</span></a></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#differenceWithKey"><span class="hs-identifier">differenceWithKey</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#intersectionWith"><span class="hs-identifier">intersectionWith</span></a></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#intersectionWithKey"><span class="hs-identifier">intersectionWithKey</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#map"><span class="hs-identifier">map</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapWithKey"><span class="hs-identifier">mapWithKey</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapAccum"><span class="hs-identifier">mapAccum</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapAccumWithKey"><span class="hs-identifier">mapAccumWithKey</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapAccumRWithKey"><span class="hs-identifier">mapAccumRWithKey</span></a></span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapKeysWith"><span class="hs-identifier">mapKeysWith</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromList"><span class="hs-identifier">fromList</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromListWith"><span class="hs-identifier">fromListWith</span></a></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromListWithKey"><span class="hs-identifier">fromListWithKey</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromAscList"><span class="hs-identifier">fromAscList</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromAscListWith"><span class="hs-identifier">fromAscListWith</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#fromAscListWithKey"><span class="hs-identifier">fromAscListWithKey</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapMaybe"><span class="hs-identifier">mapMaybe</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapMaybeWithKey"><span class="hs-identifier">mapMaybeWithKey</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapEither"><span class="hs-identifier">mapEither</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#mapEitherWithKey"><span class="hs-identifier">mapEitherWithKey</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#updateMin"><span class="hs-identifier">updateMin</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#updateMax"><span class="hs-identifier">updateMax</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#updateMinWithKey"><span class="hs-identifier">updateMinWithKey</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#updateMaxWithKey"><span class="hs-identifier">updateMaxWithKey</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="annot"><span class="hs-comment">-- | /O(1)/. A map with one entry.</span></span><span>
</span><span id="line-246"></span><span id="local-6989586621679075670"><span id="local-6989586621679075671"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#singleton"><span class="hs-identifier hs-type">singleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679075670"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075671"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075670"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075671"><span class="hs-identifier hs-type">v</span></a></span></span></span><span>
</span><span id="line-247"></span><span id="singleton"><span class="annot"><span class="annottext">singleton :: forall k v. k -&gt; v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#singleton"><span class="hs-identifier hs-var hs-var">singleton</span></a></span></span><span> </span><span id="local-6989586621679076136"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076136"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076137"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076137"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076137"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="Data.IntervalMap.Generic.Base.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076136"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076136"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076137"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">-- | /O(log n)/. The expression @('findWithDefault' def k map)@ returns</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- the value at key @k@ or returns default value @def@</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- when the key is not in the map.</span><span>
</span><span id="line-253"></span><span class="hs-comment">--</span><span>
</span><span id="line-254"></span><span class="hs-comment">-- &gt; findWithDefault 'x' 1 (fromList [(5,'a'), (3,'b')]) == 'x'</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- &gt; findWithDefault 'x' 5 (fromList [(5,'a'), (3,'b')]) == 'a'</span><span>
</span><span id="line-256"></span><span id="local-6989586621679075681"><span id="local-6989586621679075682"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#findWithDefault"><span class="hs-identifier hs-type">findWithDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075681"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075682"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075681"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075681"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075682"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075682"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-257"></span><span id="findWithDefault"><span class="annot"><span class="annottext">findWithDefault :: forall k a. Ord k =&gt; a -&gt; k -&gt; IntervalMap k a -&gt; a
</span><a href="Data.IntervalMap.Generic.Strict.html#findWithDefault"><span class="hs-identifier hs-var hs-var">findWithDefault</span></a></span></span><span> </span><span id="local-6989586621679076143"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076143"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679076144"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076144"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076145"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076145"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076143"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; a
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076143"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k -&gt; IntervalMap k a -&gt; Maybe a
forall k v. Ord k =&gt; k -&gt; IntervalMap k v -&gt; Maybe v
</span><a href="Data.IntervalMap.Generic.Base.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076144"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076145"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-comment">-- | /O(log n)/. Insert a new key/value pair. If the map already contains the key, its value is</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- changed to the new value.</span><span>
</span><span id="line-261"></span><span id="local-6989586621679075688"><span id="local-6989586621679075689"><span id="local-6989586621679075691"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insert"><span class="hs-identifier hs-type">insert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075688"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075689"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075688"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075688"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075691"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075688"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075691"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075688"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075691"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-262"></span><span id="insert"><span class="annot"><span class="annottext">insert :: forall k e v.
(Interval k e, Ord k) =&gt;
k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insert"><span class="hs-identifier hs-var hs-var">insert</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">(k -&gt; v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insertWithKey"><span class="hs-identifier hs-var">insertWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076150"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076150"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076150"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-comment">-- | /O(log n)/. Insert with a function, combining new value and old value.</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- @'insertWith' f key value mp@ </span><span>
</span><span id="line-266"></span><span class="hs-comment">-- will insert the pair (key, value) into @mp@ if key does</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- not exist in the map. If the key does exist, the function will</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- insert the pair @(key, f new_value old_value)@.</span><span>
</span><span id="line-269"></span><span id="local-6989586621679075698"><span id="local-6989586621679075699"><span id="local-6989586621679075700"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insertWith"><span class="hs-identifier hs-type">insertWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075698"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075699"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075698"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075700"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075700"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075700"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075698"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075700"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075698"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075700"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075698"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075700"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-270"></span><span id="insertWith"><span class="annot"><span class="annottext">insertWith :: forall k e v.
(Interval k e, Ord k) =&gt;
(v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insertWith"><span class="hs-identifier hs-var hs-var">insertWith</span></a></span></span><span> </span><span id="local-6989586621679076155"><span class="annot"><span class="annottext">v -&gt; v -&gt; v
</span><a href="#local-6989586621679076155"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insertWithKey"><span class="hs-identifier hs-var">insertWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076156"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076156"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span id="local-6989586621679076157"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076157"><span class="hs-identifier hs-var">old</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; v -&gt; v
</span><a href="#local-6989586621679076155"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076156"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076157"><span class="hs-identifier hs-var">old</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">-- | /O(log n)/. Insert with a function, combining key, new value and old value.</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- @'insertWithKey' f key value mp@ </span><span>
</span><span id="line-274"></span><span class="hs-comment">-- will insert the pair (key, value) into @mp@ if key does</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- not exist in the map. If the key does exist, the function will</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- insert the pair @(key, f key new_value old_value)@.</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- Note that the key passed to f is the same key passed to 'insertWithKey'.</span><span>
</span><span id="line-278"></span><span id="local-6989586621679075695"><span id="local-6989586621679075696"><span id="local-6989586621679075697"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insertWithKey"><span class="hs-identifier hs-type">insertWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075695"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075696"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075695"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075695"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075697"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075697"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075697"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075695"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075697"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075695"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075697"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075695"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075697"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-279"></span><span id="insertWithKey"><span class="annot"><span class="annottext">insertWithKey :: forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insertWithKey"><span class="hs-identifier hs-var hs-var">insertWithKey</span></a></span></span><span> </span><span id="local-6989586621679076165"><span class="annot"><span class="annottext">k -&gt; v -&gt; v -&gt; v
</span><a href="#local-6989586621679076165"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076166"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076166"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679076167"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076167"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span id="local-6989586621679076168"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076168"><span class="hs-identifier hs-var">mp</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076166"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; IntervalMap k v -&gt; IntervalMap k v
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
forall k v. IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#turnBlack"><span class="hs-identifier hs-var">turnBlack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076170"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076168"><span class="hs-identifier hs-var">mp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679076171"><span class="annot"><span class="annottext">singletonR :: k -&gt; v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076171"><span class="hs-identifier hs-var hs-var">singletonR</span></a></span></span><span> </span><span id="local-6989586621679076172"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076172"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076173"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076173"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="Data.IntervalMap.Generic.Base.html#R"><span class="hs-identifier hs-var">R</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076172"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076172"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076173"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621679076170"><span class="annot"><span class="annottext">ins :: IntervalMap k v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076170"><span class="hs-identifier hs-var hs-var">ins</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076167"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; IntervalMap k v
forall k v. k -&gt; v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076171"><span class="hs-identifier hs-var">singletonR</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076166"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076167"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><a href="#local-6989586621679076170"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679076181"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076181"><span class="hs-identifier hs-var">color</span></a></span></span><span> </span><span id="local-6989586621679076182"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076182"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076183"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076183"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679076184"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076184"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679076185"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076185"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076186"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076186"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-284"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076166"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076182"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
Interval k e =&gt;
Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#balanceL"><span class="hs-identifier hs-var">balanceL</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076181"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076182"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076184"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076170"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076185"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076186"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
Interval k e =&gt;
Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#balanceR"><span class="hs-identifier hs-var">balanceR</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076181"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076182"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076184"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076185"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076170"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076186"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076190"><span class="annot"><span class="annottext">v' :: v
</span><a href="#local-6989586621679076190"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; v -&gt; v
</span><a href="#local-6989586621679076165"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076182"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076167"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076184"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076190"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076181"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076182"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076183"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076190"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076185"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076186"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="annot"><span class="hs-comment">-- | /O(log n)/. Combine insert with old values retrieval.</span></span><span>
</span><span id="line-291"></span><span id="local-6989586621679075717"><span id="local-6989586621679075718"><span id="local-6989586621679075719"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#insertLookupWithKey"><span class="hs-identifier hs-type">insertLookupWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075717"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075718"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075717"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075717"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075717"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075717"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075717"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075719"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-292"></span><span id="insertLookupWithKey"><span class="annot"><span class="annottext">insertLookupWithKey :: forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; v -&gt; v)
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; (Maybe v, IntervalMap k v)
</span><a href="Data.IntervalMap.Generic.Strict.html#insertLookupWithKey"><span class="hs-identifier hs-var hs-var">insertLookupWithKey</span></a></span></span><span> </span><span id="local-6989586621679076196"><span class="annot"><span class="annottext">k -&gt; v -&gt; v -&gt; v
</span><a href="#local-6989586621679076196"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076197"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076197"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679076198"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076198"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span id="local-6989586621679076199"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076199"><span class="hs-identifier hs-var">mp</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076197"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; (Maybe v, IntervalMap k v) -&gt; (Maybe v, IntervalMap k v)
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679076200"><span class="hs-identifier hs-var">oldval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
forall k v. IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#turnBlack"><span class="hs-identifier hs-var">turnBlack</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076201"><span class="hs-identifier hs-var">mp'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679076200"><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679076200"><span class="hs-identifier hs-var">oldval</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076201"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076201"><span class="hs-identifier hs-var">mp'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; (Maybe v, IntervalMap k v)
</span><a href="#local-6989586621679076202"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076199"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621679076203"><span class="annot"><span class="annottext">singletonR :: k -&gt; v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076203"><span class="hs-identifier hs-var hs-var">singletonR</span></a></span></span><span> </span><span id="local-6989586621679076204"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076204"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076205"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076205"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="Data.IntervalMap.Generic.Base.html#R"><span class="hs-identifier hs-var">R</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076204"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076204"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076205"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621679076202"><span class="annot"><span class="annottext">ins :: IntervalMap k v -&gt; (Maybe v, IntervalMap k v)
</span><a href="#local-6989586621679076202"><span class="hs-identifier hs-var hs-var">ins</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076198"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; (Maybe v, IntervalMap k v) -&gt; (Maybe v, IntervalMap k v)
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; IntervalMap k v
forall k v. k -&gt; v -&gt; IntervalMap k v
</span><a href="#local-6989586621679076203"><span class="hs-identifier hs-var">singletonR</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076197"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076198"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><a href="#local-6989586621679076202"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679076212"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076212"><span class="hs-identifier hs-var">color</span></a></span></span><span> </span><span id="local-6989586621679076213"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076214"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076214"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679076215"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679076216"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076216"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076217"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076217"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-298"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076197"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-299"></span><span>        </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; (Maybe v, IntervalMap k v)
</span><a href="#local-6989586621679076202"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076216"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-300"></span><span>                 </span><span class="hs-special">(</span><span id="local-6989586621679076218"><span class="annot"><span class="annottext">x :: Maybe v
</span><a href="#local-6989586621679076218"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076219"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076219"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679076218"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076212"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076214"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076219"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076217"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076220"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076220"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
Interval k e =&gt;
Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#balanceL"><span class="hs-identifier hs-var">balanceL</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076212"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076220"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076217"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; (Maybe v, IntervalMap k v)
</span><a href="#local-6989586621679076202"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076217"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-303"></span><span>                 </span><span class="hs-special">(</span><span id="local-6989586621679076221"><span class="annot"><span class="annottext">x :: Maybe v
</span><a href="#local-6989586621679076221"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076222"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076222"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679076221"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076212"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076214"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076216"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076222"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076223"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076223"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
Interval k e =&gt;
Color
-&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#balanceR"><span class="hs-identifier hs-var">balanceR</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076212"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076216"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076223"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>        </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076224"><span class="annot"><span class="annottext">v' :: v
</span><a href="#local-6989586621679076224"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; v -&gt; v
</span><a href="#local-6989586621679076196"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076198"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076224"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; (Maybe v, IntervalMap k v) -&gt; (Maybe v, IntervalMap k v)
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; Maybe v
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076215"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076212"><span class="hs-identifier hs-var">color</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076213"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076214"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076224"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076216"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076217"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-comment">-- | /O(log n)/. Update a value at a specific key with the result of the provided function.</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- When the key is not</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- a member of the map, the original map is returned.</span><span>
</span><span id="line-311"></span><span id="local-6989586621679075725"><span id="local-6989586621679075726"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#adjust"><span class="hs-identifier hs-type">adjust</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075725"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075726"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075726"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075725"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075725"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075726"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075725"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075726"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-312"></span><span id="adjust"><span class="annot"><span class="annottext">adjust :: forall k a.
Ord k =&gt;
(a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjust"><span class="hs-identifier hs-var hs-var">adjust</span></a></span></span><span> </span><span id="local-6989586621679076227"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679076227"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076228"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076228"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076229"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076229"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier hs-var">adjustWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076230"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076230"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679076227"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076230"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076228"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076229"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-comment">-- | /O(log n)/. Adjust a value at a specific key. When the key is not</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- a member of the map, the original map is returned.</span><span>
</span><span id="line-316"></span><span id="local-6989586621679075729"><span id="local-6989586621679075730"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier hs-type">adjustWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075729"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075729"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075730"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075730"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075729"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075729"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075730"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075729"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075730"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-317"></span><span id="adjustWithKey"><span class="annot"><span class="annottext">adjustWithKey :: forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier hs-var hs-var">adjustWithKey</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-318"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier hs-var">adjustWithKey</span></a></span><span> </span><span id="local-6989586621679076235"><span class="annot"><span class="annottext">k -&gt; a -&gt; a
</span><a href="#local-6989586621679076235"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076236"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076236"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679076237"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076237"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679076238"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076238"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076239"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076239"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679076240"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076240"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679076241"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076241"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076242"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076242"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076236"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076238"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; a
-&gt; IntervalMap k a
-&gt; IntervalMap k a
-&gt; IntervalMap k a
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076237"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076238"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076239"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076240"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier hs-var">adjustWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a
</span><a href="#local-6989586621679076235"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076236"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076241"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076242"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; a
-&gt; IntervalMap k a
-&gt; IntervalMap k a
-&gt; IntervalMap k a
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076237"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076238"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076239"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076240"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076241"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjustWithKey"><span class="hs-identifier hs-var">adjustWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a
</span><a href="#local-6989586621679076235"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076236"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076242"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076243"><span class="annot"><span class="annottext">v' :: a
</span><a href="#local-6989586621679076243"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a
</span><a href="#local-6989586621679076235"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076238"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076240"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076243"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k a -&gt; IntervalMap k a
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; a
-&gt; IntervalMap k a
-&gt; IntervalMap k a
-&gt; IntervalMap k a
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076237"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076238"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076239"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076243"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076241"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076242"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="annot"><span class="hs-comment">-- | /O(log n)/. Update or delete value at minimum key.</span></span><span>
</span><span id="line-325"></span><span id="local-6989586621679075733"><span id="local-6989586621679075734"><span id="local-6989586621679075735"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMin"><span class="hs-identifier hs-type">updateMin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075733"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075734"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075733"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075735"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075735"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075733"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075735"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075733"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075735"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-326"></span><span id="updateMin"><span class="annot"><span class="annottext">updateMin :: forall k e v.
(Interval k e, Ord k) =&gt;
(v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#updateMin"><span class="hs-identifier hs-var hs-var">updateMin</span></a></span></span><span> </span><span id="local-6989586621679076248"><span class="annot"><span class="annottext">v -&gt; Maybe v
</span><a href="#local-6989586621679076248"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076249"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076249"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#updateMinWithKey"><span class="hs-identifier hs-var">updateMinWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076250"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076250"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; Maybe v
</span><a href="#local-6989586621679076248"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076250"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076249"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="annot"><span class="hs-comment">-- | /O(log n)/. Update or delete value at maximum key.</span></span><span>
</span><span id="line-329"></span><span id="local-6989586621679076251"><span id="local-6989586621679076252"><span id="local-6989586621679076253"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMax"><span class="hs-identifier hs-type">updateMax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076251"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076252"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679076251"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679076253"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679076253"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076251"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076253"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076251"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076253"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-330"></span><span id="updateMax"><span class="annot"><span class="annottext">updateMax :: forall k e v.
(Interval k e, Ord k) =&gt;
(v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#updateMax"><span class="hs-identifier hs-var hs-var">updateMax</span></a></span></span><span> </span><span id="local-6989586621679076258"><span class="annot"><span class="annottext">v -&gt; Maybe v
</span><a href="#local-6989586621679076258"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076259"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076259"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#updateMaxWithKey"><span class="hs-identifier hs-var">updateMaxWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076260"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076260"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; Maybe v
</span><a href="#local-6989586621679076258"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076260"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076259"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="annot"><span class="hs-comment">-- | /O(log n)/. Update or delete value at minimum key.</span></span><span>
</span><span id="line-333"></span><span id="local-6989586621679075739"><span id="local-6989586621679075740"><span id="local-6989586621679075741"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMinWithKey"><span class="hs-identifier hs-type">updateMinWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075739"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075740"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075739"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075739"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075741"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075741"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075739"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075741"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075739"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075741"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-334"></span><span id="updateMinWithKey"><span class="annot"><span class="annottext">updateMinWithKey :: forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#updateMinWithKey"><span class="hs-identifier hs-var hs-var">updateMinWithKey</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; Maybe v
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-335"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMinWithKey"><span class="hs-identifier hs-var">updateMinWithKey</span></a></span><span> </span><span id="local-6989586621679076265"><span class="annot"><span class="annottext">k -&gt; v -&gt; Maybe v
</span><a href="#local-6989586621679076265"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076266"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076266"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076267"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076267"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076268"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076268"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; (k, v)
forall k v. IntervalMap k v -&gt; (k, v)
</span><a href="Data.IntervalMap.Generic.Base.html#findMin"><span class="hs-identifier hs-var">findMin</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076266"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-336"></span><span>                       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; Maybe v
</span><a href="#local-6989586621679076265"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076267"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076268"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-337"></span><span>                         </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076269"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076269"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076269"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall v k. v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#setMinValue"><span class="hs-identifier hs-var">setMinValue</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076269"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076266"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-338"></span><span>                         </span><span class="annot"><span class="annottext">Maybe v
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#deleteMin"><span class="hs-identifier hs-var">deleteMin</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076266"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="annot"><span class="hs-comment">-- | /O(log n)/. Update or delete value at maximum key.</span></span><span>
</span><span id="line-341"></span><span id="local-6989586621679076271"><span id="local-6989586621679076272"><span id="local-6989586621679076273"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMaxWithKey"><span class="hs-identifier hs-type">updateMaxWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076271"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076272"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679076271"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679076271"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679076273"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679076273"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076271"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076273"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076271"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076273"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-342"></span><span id="updateMaxWithKey"><span class="annot"><span class="annottext">updateMaxWithKey :: forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; Maybe v) -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#updateMaxWithKey"><span class="hs-identifier hs-var hs-var">updateMaxWithKey</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; Maybe v
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-343"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateMaxWithKey"><span class="hs-identifier hs-var">updateMaxWithKey</span></a></span><span> </span><span id="local-6989586621679076278"><span class="annot"><span class="annottext">k -&gt; v -&gt; Maybe v
</span><a href="#local-6989586621679076278"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076279"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076279"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076280"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076280"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076281"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076281"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; (k, v)
forall k v. IntervalMap k v -&gt; (k, v)
</span><a href="Data.IntervalMap.Generic.Base.html#findMax"><span class="hs-identifier hs-var">findMax</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076279"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-344"></span><span>                       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; Maybe v
</span><a href="#local-6989586621679076278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076280"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076281"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-345"></span><span>                         </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076282"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076282"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076282"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall v k. v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#setMaxValue"><span class="hs-identifier hs-var">setMaxValue</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076282"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076279"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-346"></span><span>                         </span><span class="annot"><span class="annottext">Maybe v
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#deleteMax"><span class="hs-identifier hs-var">deleteMax</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076279"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | /O(n log n)/. Build a map from a list of key\/value pairs. See also 'fromAscList'.</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- If the list contains more than one value for the same key, the last value</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- for the key is retained.</span><span>
</span><span id="line-351"></span><span id="local-6989586621679075758"><span id="local-6989586621679075759"><span id="local-6989586621679075760"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromList"><span class="hs-identifier hs-type">fromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075758"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075759"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075758"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075758"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075760"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075758"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075760"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-352"></span><span id="fromList"><span class="annot"><span class="annottext">fromList :: forall k e v. (Interval k e, Ord k) =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#fromList"><span class="hs-identifier hs-var hs-var">fromList</span></a></span></span><span> </span><span id="local-6989586621679076290"><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679076290"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntervalMap k v -&gt; (k, v) -&gt; IntervalMap k v)
-&gt; IntervalMap k v -&gt; [(k, v)] -&gt; IntervalMap k v
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">L.foldl'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679076292"><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076292"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076293"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076293"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076294"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076294"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
forall k e v.
(Interval k e, Ord k) =&gt;
k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insert"><span class="hs-identifier hs-var">insert</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076293"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076294"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
</span><a href="#local-6989586621679076292"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k v
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679076290"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="annot"><span class="hs-comment">-- | /O(n log n)/. Build a map from a list of key\/value pairs with a combining function. See also 'fromAscListWith'.</span></span><span>
</span><span id="line-355"></span><span id="local-6989586621679075767"><span id="local-6989586621679075768"><span id="local-6989586621679075769"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromListWith"><span class="hs-identifier hs-type">fromListWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075767"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075768"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075767"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075769"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075769"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075769"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075767"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075769"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075767"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075769"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-356"></span><span id="fromListWith"><span class="annot"><span class="annottext">fromListWith :: forall k e a.
(Interval k e, Ord k) =&gt;
(a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromListWith"><span class="hs-identifier hs-var hs-var">fromListWith</span></a></span></span><span> </span><span id="local-6989586621679076299"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076299"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076300"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076300"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromListWithKey"><span class="hs-identifier hs-var">fromListWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076301"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076301"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679076302"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076302"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076299"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076301"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076302"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076300"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="annot"><span class="hs-comment">-- | /O(n log n)/. Build a map from a list of key\/value pairs with a combining function. See also 'fromAscListWith'.</span></span><span>
</span><span id="line-359"></span><span id="local-6989586621679075773"><span id="local-6989586621679075774"><span id="local-6989586621679075775"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromListWithKey"><span class="hs-identifier hs-type">fromListWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075773"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075774"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075773"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075773"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075775"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075775"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075775"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075773"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075775"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075773"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075775"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-360"></span><span id="fromListWithKey"><span class="annot"><span class="annottext">fromListWithKey :: forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromListWithKey"><span class="hs-identifier hs-var hs-var">fromListWithKey</span></a></span></span><span> </span><span id="local-6989586621679076309"><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076309"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076310"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076310"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntervalMap k a -&gt; (k, a) -&gt; IntervalMap k a)
-&gt; IntervalMap k a -&gt; [(k, a)] -&gt; IntervalMap k a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">L.foldl'</span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a -&gt; (k, a) -&gt; IntervalMap k a
</span><a href="#local-6989586621679076311"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076310"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>    </span><span id="local-6989586621679076311"><span class="annot"><span class="annottext">ins :: IntervalMap k a -&gt; (k, a) -&gt; IntervalMap k a
</span><a href="#local-6989586621679076311"><span class="hs-identifier hs-var hs-var">ins</span></a></span></span><span> </span><span id="local-6989586621679076317"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076317"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076318"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076318"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076319"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076319"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e v.
(Interval k e, Ord k) =&gt;
(k -&gt; v -&gt; v -&gt; v) -&gt; k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insertWithKey"><span class="hs-identifier hs-var">insertWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076309"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076318"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076319"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076317"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- | /O(n)/. Build a map from an ascending list in linear time.</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- /The precondition (input list is ascending) is not checked./</span><span>
</span><span id="line-366"></span><span id="local-6989586621679075779"><span id="local-6989586621679075780"><span id="local-6989586621679075781"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromAscList"><span class="hs-identifier hs-type">fromAscList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075779"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075780"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679075779"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075779"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075781"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075779"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075781"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-367"></span><span id="fromAscList"><span class="annot"><span class="annottext">fromAscList :: forall k e v. (Interval k e, Eq k) =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#fromAscList"><span class="hs-identifier hs-var hs-var">fromAscList</span></a></span></span><span> </span><span id="local-6989586621679076324"><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679076324"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(v -&gt; v -&gt; v) -&gt; [(k, v)] -&gt; IntervalMap k v
forall k e a.
(Interval k e, Eq k) =&gt;
(a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWith"><span class="hs-identifier hs-var">fromAscListWith</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076325"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076325"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679076325"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679076324"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="hs-comment">-- | /O(n)/. Build a map from an ascending list in linear time with a combining function for equal keys.</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- /The precondition (input list is ascending) is not checked./</span><span>
</span><span id="line-371"></span><span id="local-6989586621679075785"><span id="local-6989586621679075786"><span id="local-6989586621679075787"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWith"><span class="hs-identifier hs-type">fromAscListWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075785"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075786"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679075785"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075787"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075787"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075787"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075785"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075787"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075785"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075787"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span>
</span><span id="line-372"></span><span id="fromAscListWith"><span class="annot"><span class="annottext">fromAscListWith :: forall k e a.
(Interval k e, Eq k) =&gt;
(a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWith"><span class="hs-identifier hs-var hs-var">fromAscListWith</span></a></span></span><span> </span><span id="local-6989586621679076330"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076330"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076331"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076331"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
forall k e a.
(Interval k e, Eq k) =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWithKey"><span class="hs-identifier hs-var">fromAscListWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076332"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076332"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679076333"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076333"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076330"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076332"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076333"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076331"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">-- | /O(n)/. Build a map from an ascending list in linear time with a combining function for equal keys.</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- /The precondition (input list is ascending) is not checked./</span><span>
</span><span id="line-376"></span><span id="local-6989586621679075791"><span id="local-6989586621679075792"><span id="local-6989586621679075793"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWithKey"><span class="hs-identifier hs-type">fromAscListWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075791"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075792"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679075791"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075791"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075793"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075793"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075793"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075791"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075793"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075791"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075793"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-377"></span><span id="fromAscListWithKey"><span class="annot"><span class="annottext">fromAscListWithKey :: forall k e a.
(Interval k e, Eq k) =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromAscListWithKey"><span class="hs-identifier hs-var hs-var">fromAscListWithKey</span></a></span></span><span> </span><span id="local-6989586621679076338"><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076338"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076339"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076339"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)] -&gt; IntervalMap k a
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
forall k a. Eq k =&gt; (k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-var">combineEq</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076338"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076339"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span id="local-6989586621679075800"><span id="local-6989586621679075801"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-type">combineEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679075800"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075800"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075801"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075801"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075801"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075800"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075801"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075800"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075801"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-380"></span><span id="combineEq"><span class="annot"><span class="annottext">combineEq :: forall k a. Eq k =&gt; (k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-var hs-var">combineEq</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-381"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-var">combineEq</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076345"><span class="annot"><span class="annottext">xs :: [(k, a)]
</span><a href="#local-6989586621679076345"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><span class="annottext">(k, a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076345"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-382"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-var">combineEq</span></a></span><span> </span><span id="local-6989586621679076346"><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076346"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076347"><span class="annot"><span class="annottext">x :: (k, a)
</span><a href="#local-6989586621679076347"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076348"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076348"><span class="hs-identifier hs-var">xk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076349"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076349"><span class="hs-identifier hs-var">xv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679076350"><span class="annot"><span class="annottext">xs :: [(k, a)]
</span><a href="#local-6989586621679076350"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679076351"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076351"><span class="hs-identifier hs-var">yk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076352"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076352"><span class="hs-identifier hs-var">yv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679076353"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076353"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076348"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076351"><span class="hs-identifier hs-var">yk</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076354"><span class="annot"><span class="annottext">v' :: a
</span><a href="#local-6989586621679076354"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076346"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076348"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076349"><span class="hs-identifier hs-var">xv</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076352"><span class="hs-identifier hs-var">yv</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076354"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [(k, a)] -&gt; [(k, a)]
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
forall k a. Eq k =&gt; (k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-var">combineEq</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076346"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076348"><span class="hs-identifier hs-var">xk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076354"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076353"><span class="hs-identifier hs-var">xs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k, a)
</span><a href="#local-6989586621679076347"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
forall k a. Eq k =&gt; (k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#combineEq"><span class="hs-identifier hs-var">combineEq</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076346"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076350"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="annot"><span class="hs-comment">-- | /O(n)/. Map a function over all values in the map.</span></span><span>
</span><span id="line-388"></span><span id="local-6989586621679075805"><span id="local-6989586621679075806"><span id="local-6989586621679075807"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#map"><span class="hs-identifier hs-type">map</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075805"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075806"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075807"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075805"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075807"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075806"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-389"></span><span id="map"><span class="annot"><span class="annottext">map :: forall a b k. (a -&gt; b) -&gt; IntervalMap k a -&gt; IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Strict.html#map"><span class="hs-identifier hs-var hs-var">map</span></a></span></span><span> </span><span id="local-6989586621679076355"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679076355"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b) -&gt; IntervalMap k a -&gt; IntervalMap k b
forall k a b. (k -&gt; a -&gt; b) -&gt; IntervalMap k a -&gt; IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Strict.html#mapWithKey"><span class="hs-identifier hs-var">mapWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076356"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076356"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679076355"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076356"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span class="annot"><span class="hs-comment">-- | /O(n)/. Map a function over all values in the map.</span></span><span>
</span><span id="line-392"></span><span id="local-6989586621679075811"><span id="local-6989586621679075812"><span id="local-6989586621679075813"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapWithKey"><span class="hs-identifier hs-type">mapWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075811"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075812"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075813"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075811"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075812"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075811"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075813"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-393"></span><span id="mapWithKey"><span class="annot"><span class="annottext">mapWithKey :: forall k a b. (k -&gt; a -&gt; b) -&gt; IntervalMap k a -&gt; IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Strict.html#mapWithKey"><span class="hs-identifier hs-var hs-var">mapWithKey</span></a></span></span><span> </span><span id="local-6989586621679076357"><span class="annot"><span class="annottext">k -&gt; a -&gt; b
</span><a href="#local-6989586621679076357"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a -&gt; IntervalMap k b
</span><a href="#local-6989586621679076358"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>    </span><span id="local-6989586621679076358"><span class="annot"><span class="annottext">go :: IntervalMap k a -&gt; IntervalMap k b
</span><a href="#local-6989586621679076358"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>
</span><span id="line-396"></span><span>    </span><span class="annot"><a href="#local-6989586621679076358"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679076359"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076359"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679076360"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076360"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076361"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076361"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679076362"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076362"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679076363"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076363"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076364"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076364"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076365"><span class="annot"><span class="annottext">v' :: b
</span><a href="#local-6989586621679076365"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b
</span><a href="#local-6989586621679076357"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076360"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076362"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076365"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; IntervalMap k b -&gt; IntervalMap k b
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; b
-&gt; IntervalMap k b
-&gt; IntervalMap k b
-&gt; IntervalMap k b
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076359"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076360"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076361"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076365"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; IntervalMap k b
</span><a href="#local-6989586621679076358"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076363"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; IntervalMap k b
</span><a href="#local-6989586621679076358"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076364"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="hs-comment">-- | /O(n)/. The function 'mapAccum' threads an accumulating</span><span>
</span><span id="line-399"></span><span class="hs-comment">-- argument through the map in ascending order of keys.</span><span>
</span><span id="line-400"></span><span class="hs-comment">--</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- &gt; let f a b = (a ++ b, b ++ &quot;X&quot;)</span><span>
</span><span id="line-402"></span><span class="hs-comment">-- &gt; mapAccum f &quot;Everything: &quot; (fromList [(5,&quot;a&quot;), (3,&quot;b&quot;)]) == (&quot;Everything: ba&quot;, fromList [(3, &quot;bX&quot;), (5, &quot;aX&quot;)])</span><span>
</span><span id="line-403"></span><span id="local-6989586621679075817"><span id="local-6989586621679075818"><span id="local-6989586621679075819"><span id="local-6989586621679075820"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapAccum"><span class="hs-identifier hs-type">mapAccum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075817"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075818"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075819"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075817"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075820"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075818"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075820"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075819"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-404"></span><span id="mapAccum"><span class="annot"><span class="annottext">mapAccum :: forall a b c k.
(a -&gt; b -&gt; (a, c)) -&gt; a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapAccum"><span class="hs-identifier hs-var hs-var">mapAccum</span></a></span></span><span> </span><span id="local-6989586621679076366"><span class="annot"><span class="annottext">a -&gt; b -&gt; (a, c)
</span><a href="#local-6989586621679076366"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076367"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076367"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679076368"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076368"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; k -&gt; b -&gt; (a, c))
-&gt; a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
forall a k b c.
(a -&gt; k -&gt; b -&gt; (a, c))
-&gt; a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapAccumWithKey"><span class="hs-identifier hs-var">mapAccumWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679076369"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076369"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076370"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076370"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; (a, c)
</span><a href="#local-6989586621679076366"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076369"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076370"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076367"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076368"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-comment">-- | /O(n)/. The function 'mapAccumWithKey' threads an accumulating</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- argument through the map in ascending order of keys.</span><span>
</span><span id="line-408"></span><span class="hs-comment">--</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- &gt; let f a k b = (a ++ &quot; &quot; ++ (show k) ++ &quot;-&quot; ++ b, b ++ &quot;X&quot;)</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- &gt; mapAccumWithKey f &quot;Everything:&quot; (fromList [(5,&quot;a&quot;), (3,&quot;b&quot;)]) == (&quot;Everything: 3-b 5-a&quot;, fromList [(3, &quot;bX&quot;), (5, &quot;aX&quot;)])</span><span>
</span><span id="line-411"></span><span id="local-6989586621679075825"><span id="local-6989586621679075826"><span id="local-6989586621679075827"><span id="local-6989586621679075828"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapAccumWithKey"><span class="hs-identifier hs-type">mapAccumWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075825"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075826"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075827"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075825"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075828"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075825"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075826"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075827"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075825"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075826"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075828"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-412"></span><span id="mapAccumWithKey"><span class="annot"><span class="annottext">mapAccumWithKey :: forall a k b c.
(a -&gt; k -&gt; b -&gt; (a, c))
-&gt; a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapAccumWithKey"><span class="hs-identifier hs-var hs-var">mapAccumWithKey</span></a></span></span><span> </span><span id="local-6989586621679076371"><span class="annot"><span class="annottext">a -&gt; k -&gt; b -&gt; (a, c)
</span><a href="#local-6989586621679076371"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076372"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621679076372"><span class="annot"><span class="annottext">go :: a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076372"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679076373"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076373"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076373"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">IntervalMap k c
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><a href="#local-6989586621679076372"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679076374"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076374"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679076375"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076375"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679076376"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076376"><span class="hs-identifier hs-var">kx</span></a></span></span><span> </span><span id="local-6989586621679076377"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076377"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679076378"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076378"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679076379"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076379"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076380"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076380"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-416"></span><span>                 </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076381"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076381"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076382"><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076382"><span class="hs-identifier hs-var">l'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076372"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076374"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076379"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-417"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621679076383"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076383"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076384"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076384"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; k -&gt; b -&gt; (a, c)
</span><a href="#local-6989586621679076371"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076381"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076376"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076378"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-418"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621679076385"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076385"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076386"><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076386"><span class="hs-identifier hs-var">r'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076372"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076383"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076380"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-419"></span><span>                 </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076384"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">c -&gt; (a, IntervalMap k c) -&gt; (a, IntervalMap k c)
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076385"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; c
-&gt; IntervalMap k c
-&gt; IntervalMap k c
-&gt; IntervalMap k c
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076375"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076376"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076377"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076384"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076382"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076386"><span class="hs-identifier hs-var">r'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-comment">-- | /O(n)/. The function 'mapAccumRWithKey' threads an accumulating</span><span>
</span><span id="line-422"></span><span class="hs-comment">-- argument through the map in descending order of keys.</span><span>
</span><span id="line-423"></span><span id="local-6989586621679076387"><span id="local-6989586621679076388"><span id="local-6989586621679076389"><span id="local-6989586621679076390"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapAccumRWithKey"><span class="hs-identifier hs-type">mapAccumRWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679076387"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679076388"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679076389"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679076387"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679076390"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679076387"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076388"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076389"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679076387"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076388"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679076390"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-424"></span><span id="mapAccumRWithKey"><span class="annot"><span class="annottext">mapAccumRWithKey :: forall a k b c.
(a -&gt; k -&gt; b -&gt; (a, c))
-&gt; a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapAccumRWithKey"><span class="hs-identifier hs-var hs-var">mapAccumRWithKey</span></a></span></span><span> </span><span id="local-6989586621679076391"><span class="annot"><span class="annottext">a -&gt; k -&gt; b -&gt; (a, c)
</span><a href="#local-6989586621679076391"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076392"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621679076392"><span class="annot"><span class="annottext">go :: a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076392"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679076393"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076393"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076393"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntervalMap k c
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>    </span><span class="annot"><a href="#local-6989586621679076392"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679076394"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076394"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span id="local-6989586621679076395"><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076395"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679076396"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076396"><span class="hs-identifier hs-var">kx</span></a></span></span><span> </span><span id="local-6989586621679076397"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076397"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679076398"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076398"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679076399"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076399"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076400"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076400"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-428"></span><span>                 </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076401"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076401"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076402"><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076402"><span class="hs-identifier hs-var">r'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076392"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076394"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076400"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-429"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621679076403"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076403"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076404"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076404"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; k -&gt; b -&gt; (a, c)
</span><a href="#local-6989586621679076391"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076401"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076396"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076398"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-430"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621679076405"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076405"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076406"><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076406"><span class="hs-identifier hs-var">l'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalMap k b -&gt; (a, IntervalMap k c)
</span><a href="#local-6989586621679076392"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076403"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076399"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-431"></span><span>                 </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076404"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">c -&gt; (a, IntervalMap k c) -&gt; (a, IntervalMap k c)
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076405"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Color
-&gt; k
-&gt; k
-&gt; c
-&gt; IntervalMap k c
-&gt; IntervalMap k c
-&gt; IntervalMap k c
forall k v.
Color
-&gt; k
-&gt; k
-&gt; v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
-&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-var">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><a href="#local-6989586621679076395"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076396"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076397"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076404"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076406"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k c
</span><a href="#local-6989586621679076402"><span class="hs-identifier hs-var">r'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="annot"><span class="hs-comment">-- | /O(n)/. Map values and collect the 'Just' results.</span></span><span>
</span><span id="line-435"></span><span id="local-6989586621679075837"><span id="local-6989586621679075838"><span id="local-6989586621679075839"><span id="local-6989586621679075840"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapMaybe"><span class="hs-identifier hs-type">mapMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075837"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075838"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075839"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075840"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075837"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075839"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075837"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075840"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-436"></span><span id="mapMaybe"><span class="annot"><span class="annottext">mapMaybe :: forall k e a b.
Interval k e =&gt;
(a -&gt; Maybe b) -&gt; IntervalMap k a -&gt; IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Strict.html#mapMaybe"><span class="hs-identifier hs-var hs-var">mapMaybe</span></a></span></span><span> </span><span id="local-6989586621679076409"><span class="annot"><span class="annottext">a -&gt; Maybe b
</span><a href="#local-6989586621679076409"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076410"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076410"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; Maybe b) -&gt; IntervalMap k a -&gt; IntervalMap k b
forall k e a b.
Interval k e =&gt;
(k -&gt; a -&gt; Maybe b) -&gt; IntervalMap k a -&gt; IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Strict.html#mapMaybeWithKey"><span class="hs-identifier hs-var">mapMaybeWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076411"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076411"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe b
</span><a href="#local-6989586621679076409"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076411"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076410"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span class="annot"><span class="hs-comment">-- | /O(n)/. Map keys\/values and collect the 'Just' results.</span></span><span>
</span><span id="line-439"></span><span id="local-6989586621679075845"><span id="local-6989586621679075846"><span id="local-6989586621679075847"><span id="local-6989586621679075848"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapMaybeWithKey"><span class="hs-identifier hs-type">mapMaybeWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075846"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075847"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075848"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075847"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075845"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075848"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-440"></span><span id="mapMaybeWithKey"><span class="annot"><span class="annottext">mapMaybeWithKey :: forall k e a b.
Interval k e =&gt;
(k -&gt; a -&gt; Maybe b) -&gt; IntervalMap k a -&gt; IntervalMap k b
</span><a href="Data.IntervalMap.Generic.Strict.html#mapMaybeWithKey"><span class="hs-identifier hs-var hs-var">mapMaybeWithKey</span></a></span></span><span> </span><span id="local-6989586621679076414"><span class="annot"><span class="annottext">k -&gt; a -&gt; Maybe b
</span><a href="#local-6989586621679076414"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076415"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076415"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; IntervalMap k b
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076416"><span class="hs-identifier hs-var">mapf</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076415"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621679076416"><span class="annot"><span class="annottext">mapf :: [(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076416"><span class="hs-identifier hs-var hs-var">mapf</span></a></span></span><span> </span><span id="local-6989586621679076417"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076417"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Base.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076417"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-443"></span><span>    </span><span class="annot"><a href="#local-6989586621679076416"><span class="hs-identifier hs-var">mapf</span></a></span><span> </span><span id="local-6989586621679076418"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076418"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#Node"><span class="hs-identifier hs-type">Node</span></a></span><span> </span><span class="annot"><span class="annottext">Color
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076419"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076419"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076420"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076420"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679076421"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076421"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679076422"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076422"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076416"><span class="hs-identifier hs-var">mapf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k -&gt; a -&gt; [(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076423"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076419"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076420"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076418"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076422"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076421"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-444"></span><span>    </span><span id="local-6989586621679076423"><span class="annot"><span class="annottext">f' :: k -&gt; a -&gt; [(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076423"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679076424"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076424"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076425"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076425"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679076426"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076426"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679076427"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076427"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; Maybe b
</span><a href="#local-6989586621679076414"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076424"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076425"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-445"></span><span>                   </span><span class="annot"><span class="annottext">Maybe b
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076416"><span class="hs-identifier hs-var">mapf</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076426"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076427"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-446"></span><span>                   </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076428"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076428"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076428"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; [(k, b)] -&gt; [(k, b)]
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076424"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076428"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(k, b) -&gt; [(k, b)] -&gt; [(k, b)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; IntervalMap k a -&gt; [(k, b)]
</span><a href="#local-6989586621679076416"><span class="hs-identifier hs-var">mapf</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076426"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076427"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="annot"><span class="hs-comment">-- | /O(n)/. Map values and separate the 'Left' and 'Right' results.</span></span><span>
</span><span id="line-449"></span><span id="local-6989586621679075853"><span id="local-6989586621679075854"><span id="local-6989586621679075855"><span id="local-6989586621679075856"><span id="local-6989586621679075857"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapEither"><span class="hs-identifier hs-type">mapEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075853"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075854"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075855"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679075856"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075857"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075853"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075855"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075853"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075856"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075853"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075857"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-450"></span><span id="mapEither"><span class="annot"><span class="annottext">mapEither :: forall k e a b c.
Interval k e =&gt;
(a -&gt; Either b c)
-&gt; IntervalMap k a -&gt; (IntervalMap k b, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapEither"><span class="hs-identifier hs-var hs-var">mapEither</span></a></span></span><span> </span><span id="local-6989586621679076431"><span class="annot"><span class="annottext">a -&gt; Either b c
</span><a href="#local-6989586621679076431"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076432"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076432"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; Either b c)
-&gt; IntervalMap k a -&gt; (IntervalMap k b, IntervalMap k c)
forall k e a b c.
Interval k e =&gt;
(k -&gt; a -&gt; Either b c)
-&gt; IntervalMap k a -&gt; (IntervalMap k b, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapEitherWithKey"><span class="hs-identifier hs-var">mapEitherWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076433"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076433"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either b c
</span><a href="#local-6989586621679076431"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076433"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076432"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><span class="hs-comment">-- | /O(n)/. Map keys\/values and separate the 'Left' and 'Right' results.</span></span><span>
</span><span id="line-453"></span><span id="local-6989586621679075863"><span id="local-6989586621679075864"><span id="local-6989586621679075865"><span id="local-6989586621679075866"><span id="local-6989586621679075867"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapEitherWithKey"><span class="hs-identifier hs-type">mapEitherWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075863"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075864"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075863"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075865"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679075866"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075867"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075863"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075865"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075863"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075866"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075863"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075867"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-454"></span><span id="mapEitherWithKey"><span class="annot"><span class="annottext">mapEitherWithKey :: forall k e a b c.
Interval k e =&gt;
(k -&gt; a -&gt; Either b c)
-&gt; IntervalMap k a -&gt; (IntervalMap k b, IntervalMap k c)
</span><a href="Data.IntervalMap.Generic.Strict.html#mapEitherWithKey"><span class="hs-identifier hs-var hs-var">mapEitherWithKey</span></a></span></span><span> </span><span id="local-6989586621679076437"><span class="annot"><span class="annottext">k -&gt; a -&gt; Either b c
</span><a href="#local-6989586621679076437"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076438"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076438"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(k, b)] -&gt; IntervalMap k b
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076439"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(k, c)] -&gt; IntervalMap k c
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076440"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679076439"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076439"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076440"><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076440"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; [(k, c)] -&gt; [(k, a)] -&gt; ([(k, b)], [(k, c)])
</span><a href="#local-6989586621679076441"><span class="hs-identifier hs-var">part</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; [(k, a)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toDescList"><span class="hs-identifier hs-var">toDescList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076438"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621679076441"><span class="annot"><span class="annottext">part :: [(k, b)] -&gt; [(k, c)] -&gt; [(k, a)] -&gt; ([(k, b)], [(k, c)])
</span><a href="#local-6989586621679076441"><span class="hs-identifier hs-var hs-var">part</span></a></span></span><span> </span><span id="local-6989586621679076442"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076442"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679076443"><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076443"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076442"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076443"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><a href="#local-6989586621679076441"><span class="hs-identifier hs-var">part</span></a></span><span> </span><span id="local-6989586621679076444"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076444"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679076445"><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076445"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679076446"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076446"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076447"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076447"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076448"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076448"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; Either b c
</span><a href="#local-6989586621679076437"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076446"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076447"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-459"></span><span>                              </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679076449"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076449"><span class="hs-identifier hs-var">v'</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076449"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; ([(k, b)], [(k, c)]) -&gt; ([(k, b)], [(k, c)])
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; [(k, c)] -&gt; [(k, a)] -&gt; ([(k, b)], [(k, c)])
</span><a href="#local-6989586621679076441"><span class="hs-identifier hs-var">part</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076446"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076449"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(k, b) -&gt; [(k, b)] -&gt; [(k, b)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076444"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076445"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076448"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-460"></span><span>                              </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679076450"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076450"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076450"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">c -&gt; ([(k, b)], [(k, c)]) -&gt; ([(k, b)], [(k, c)])
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">[(k, b)] -&gt; [(k, c)] -&gt; [(k, a)] -&gt; ([(k, b)], [(k, c)])
</span><a href="#local-6989586621679076441"><span class="hs-identifier hs-var">part</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076444"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076446"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076450"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(k, c) -&gt; [(k, c)] -&gt; [(k, c)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[(k, c)]
</span><a href="#local-6989586621679076445"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076448"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="hs-comment">-- | /O(log n)/. The expression (@'alter' f k map@) alters the value @x@ at @k@, or absence thereof.</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- 'alter' can be used to insert, delete, or update a value in a 'Map'.</span><span>
</span><span id="line-465"></span><span class="hs-comment">-- In short : @'lookup' k ('alter' f k m) = f ('lookup' k m)@.</span><span>
</span><span id="line-466"></span><span id="local-6989586621679075875"><span id="local-6989586621679075876"><span id="local-6989586621679075877"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#alter"><span class="hs-identifier hs-type">alter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075876"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075877"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075877"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075877"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075877"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-467"></span><span id="alter"><span class="annot"><span class="annottext">alter :: forall k e a.
(Interval k e, Ord k) =&gt;
(Maybe a -&gt; Maybe a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#alter"><span class="hs-identifier hs-var hs-var">alter</span></a></span></span><span> </span><span id="local-6989586621679076459"><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679076459"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076460"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076460"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679076461"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076461"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; IntervalMap k a -&gt; Maybe a
forall k v. Ord k =&gt; k -&gt; IntervalMap k v -&gt; Maybe v
</span><a href="Data.IntervalMap.Generic.Base.html#lookup"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076460"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076461"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-468"></span><span>                </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679076459"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-469"></span><span>                             </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076461"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-470"></span><span>                             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076462"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076462"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e v.
(Interval k e, Ord k) =&gt;
k -&gt; v -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Strict.html#insert"><span class="hs-identifier hs-var">insert</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076460"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076462"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076461"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-471"></span><span>                </span><span id="local-6989586621679076463"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679076463"><span class="hs-identifier hs-var">y</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679076459"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679076463"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-472"></span><span>                             </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e v.
(Interval k e, Ord k) =&gt;
k -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#delete"><span class="hs-identifier hs-var">delete</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076460"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076461"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-473"></span><span>                             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076464"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076464"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k a.
Ord k =&gt;
(a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjust"><span class="hs-identifier hs-var">adjust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076464"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076460"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076461"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-comment">-- | /O(n log n)/. @'mapKeysWith' c f s@ is the map obtained by applying @f@ to each key of @s@.</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- </span><span>
</span><span id="line-478"></span><span class="hs-comment">-- The size of the result may be smaller if @f@ maps two or more distinct</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- keys to the same new key.  In this case the associated values will be</span><span>
</span><span id="line-480"></span><span class="hs-comment">-- combined using @c@.</span><span>
</span><span id="line-481"></span><span id="local-6989586621679075886"><span id="local-6989586621679075887"><span id="local-6989586621679075888"><span id="local-6989586621679075889"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#mapKeysWith"><span class="hs-identifier hs-type">mapKeysWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">k2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075887"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">k2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075889"><span class="hs-identifier hs-type">k1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">k2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075889"><span class="hs-identifier hs-type">k1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">k2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-482"></span><span id="mapKeysWith"><span class="annot"><span class="annottext">mapKeysWith :: forall k2 e a k1.
(Interval k2 e, Ord k2) =&gt;
(a -&gt; a -&gt; a) -&gt; (k1 -&gt; k2) -&gt; IntervalMap k1 a -&gt; IntervalMap k2 a
</span><a href="Data.IntervalMap.Generic.Strict.html#mapKeysWith"><span class="hs-identifier hs-var hs-var">mapKeysWith</span></a></span></span><span> </span><span id="local-6989586621679076470"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076470"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679076471"><span class="annot"><span class="annottext">k1 -&gt; k2
</span><a href="#local-6989586621679076471"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076472"><span class="annot"><span class="annottext">IntervalMap k1 a
</span><a href="#local-6989586621679076472"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; [(k2, a)] -&gt; IntervalMap k2 a
forall k e a.
(Interval k e, Ord k) =&gt;
(a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#fromListWith"><span class="hs-identifier hs-var">fromListWith</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076470"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k1 -&gt; k2
</span><a href="#local-6989586621679076471"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k1
</span><a href="#local-6989586621679076473"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076474"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679076473"><span class="annot"><span class="annottext">k1
</span><a href="#local-6989586621679076473"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679076474"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076474"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntervalMap k1 a -&gt; [(k1, a)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k1 a
</span><a href="#local-6989586621679076472"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span class="hs-comment">-- | /O(log n)/. The expression (@'update' f k map@) updates the value @x@</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- at @k@ (if it is in the map). If (@f x@) is 'Nothing', the element is</span><span>
</span><span id="line-486"></span><span class="hs-comment">-- deleted. If it is (@'Just' y@), the key @k@ is bound to the new value @y@.</span><span>
</span><span id="line-487"></span><span id="local-6989586621679075894"><span id="local-6989586621679075895"><span id="local-6989586621679075896"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#update"><span class="hs-identifier hs-type">update</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075894"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075895"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075894"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075896"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075894"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075894"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075894"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075896"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-488"></span><span id="update"><span class="annot"><span class="annottext">update :: forall k e a.
(Interval k e, Ord k) =&gt;
(a -&gt; Maybe a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#update"><span class="hs-identifier hs-var hs-var">update</span></a></span></span><span> </span><span id="local-6989586621679076479"><span class="annot"><span class="annottext">a -&gt; Maybe a
</span><a href="#local-6989586621679076479"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076480"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076480"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076481"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076481"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; Maybe a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; Maybe a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#updateWithKey"><span class="hs-identifier hs-var">updateWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076482"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076482"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
</span><a href="#local-6989586621679076479"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076482"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076480"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076481"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">-- | /O(log n)/. The expression (@'updateWithKey' f k map@) updates the</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- value @x@ at @k@ (if it is in the map). If (@f k x@) is 'Nothing',</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- the element is deleted. If it is (@'Just' y@), the key @k@ is bound</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- to the new value @y@.</span><span>
</span><span id="line-494"></span><span id="local-6989586621679075900"><span id="local-6989586621679075901"><span id="local-6989586621679075902"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateWithKey"><span class="hs-identifier hs-type">updateWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075900"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075901"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075900"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075900"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075902"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075902"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075900"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075900"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075902"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075900"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075902"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-495"></span><span id="updateWithKey"><span class="annot"><span class="annottext">updateWithKey :: forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; Maybe a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#updateWithKey"><span class="hs-identifier hs-var hs-var">updateWithKey</span></a></span></span><span> </span><span id="local-6989586621679076487"><span class="annot"><span class="annottext">k -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679076487"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076488"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076488"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679076489"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076489"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe a, IntervalMap k a) -&gt; IntervalMap k a
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; Maybe a)
-&gt; k -&gt; IntervalMap k a -&gt; (Maybe a, IntervalMap k a)
forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; Maybe a)
-&gt; k -&gt; IntervalMap k a -&gt; (Maybe a, IntervalMap k a)
</span><a href="Data.IntervalMap.Generic.Strict.html#updateLookupWithKey"><span class="hs-identifier hs-var">updateLookupWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679076487"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076488"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076489"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="hs-comment">-- | /O(log n)/. Lookup and update. See also 'updateWithKey'.</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- The function returns changed value, if it is updated.</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- Returns the original key value if the map entry is deleted.</span><span>
</span><span id="line-500"></span><span id="local-6989586621679075908"><span id="local-6989586621679075909"><span id="local-6989586621679075910"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#updateLookupWithKey"><span class="hs-identifier hs-type">updateLookupWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075908"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075909"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075908"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075908"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075910"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075910"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075908"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075908"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075910"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075910"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075908"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075910"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-501"></span><span id="updateLookupWithKey"><span class="annot"><span class="annottext">updateLookupWithKey :: forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; Maybe a)
-&gt; k -&gt; IntervalMap k a -&gt; (Maybe a, IntervalMap k a)
</span><a href="Data.IntervalMap.Generic.Strict.html#updateLookupWithKey"><span class="hs-identifier hs-var hs-var">updateLookupWithKey</span></a></span></span><span> </span><span id="local-6989586621679076497"><span class="annot"><span class="annottext">k -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679076497"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076498"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076498"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679076499"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076499"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; IntervalMap k a -&gt; Maybe a
forall k v. Ord k =&gt; k -&gt; IntervalMap k v -&gt; Maybe v
</span><a href="Data.IntervalMap.Generic.Base.html#lookup"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076498"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076499"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-502"></span><span>                              </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076499"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>                              </span><span id="local-6989586621679076500"><span class="annot"><span class="annottext">r :: Maybe a
</span><a href="#local-6989586621679076500"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076501"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076501"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679076497"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076498"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076501"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-504"></span><span>                                              </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679076500"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e v.
(Interval k e, Ord k) =&gt;
k -&gt; IntervalMap k v -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#delete"><span class="hs-identifier hs-var">delete</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076498"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076499"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>                                              </span><span id="local-6989586621679076502"><span class="annot"><span class="annottext">r' :: Maybe a
</span><a href="#local-6989586621679076502"><span class="hs-identifier hs-var">r'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076503"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076503"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679076502"><span class="hs-identifier hs-var">r'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k a.
Ord k =&gt;
(a -&gt; a) -&gt; k -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#adjust"><span class="hs-identifier hs-var">adjust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076503"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076498"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076499"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span class="annot"><span class="hs-comment">-- | /O(n+m)/. Union with a combining function.</span></span><span>
</span><span id="line-509"></span><span id="local-6989586621679075914"><span id="local-6989586621679075915"><span id="local-6989586621679075916"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#unionWith"><span class="hs-identifier hs-type">unionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075914"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075915"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075914"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075916"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075914"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075914"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075914"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075916"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-510"></span><span id="unionWith"><span class="annot"><span class="annottext">unionWith :: forall k e a.
(Interval k e, Ord k) =&gt;
(a -&gt; a -&gt; a)
-&gt; IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#unionWith"><span class="hs-identifier hs-var hs-var">unionWith</span></a></span></span><span> </span><span id="local-6989586621679076508"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076508"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076509"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076509"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679076510"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076510"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a)
-&gt; IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; a -&gt; a)
-&gt; IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#unionWithKey"><span class="hs-identifier hs-var">unionWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076511"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076511"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679076512"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076512"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076508"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076511"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076512"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076509"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076510"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span class="annot"><span class="hs-comment">-- | /O(n+m)/. Union with a combining function.</span></span><span>
</span><span id="line-513"></span><span id="local-6989586621679075920"><span id="local-6989586621679075921"><span id="local-6989586621679075922"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#unionWithKey"><span class="hs-identifier hs-type">unionWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075920"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075921"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075920"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075920"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075922"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075922"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075922"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075920"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075922"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075920"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075922"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075920"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075922"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-514"></span><span id="unionWithKey"><span class="annot"><span class="annottext">unionWithKey :: forall k e a.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; a -&gt; a)
-&gt; IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#unionWithKey"><span class="hs-identifier hs-var hs-var">unionWithKey</span></a></span></span><span> </span><span id="local-6989586621679076517"><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076517"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076518"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076518"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679076519"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076519"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)] -&gt; IntervalMap k a
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076517"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; [(k, a)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076518"><span class="hs-identifier hs-var">m1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; [(k, a)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076519"><span class="hs-identifier hs-var">m2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span class="hs-comment">-- | The union of a list of maps, with a combining operation:</span><span>
</span><span id="line-517"></span><span class="hs-comment">--   (@'unionsWith' f == 'Prelude.foldl' ('unionWith' f) 'empty'@).</span><span>
</span><span id="line-518"></span><span id="local-6989586621679075928"><span id="local-6989586621679075929"><span id="local-6989586621679075930"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#unionsWith"><span class="hs-identifier hs-type">unionsWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075928"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075929"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075928"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075930"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075930"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075930"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075928"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075930"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075928"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075930"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-519"></span><span id="unionsWith"><span class="annot"><span class="annottext">unionsWith :: forall k e a.
(Interval k e, Ord k) =&gt;
(a -&gt; a -&gt; a) -&gt; [IntervalMap k a] -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#unionsWith"><span class="hs-identifier hs-var hs-var">unionsWith</span></a></span></span><span> </span><span id="local-6989586621679076526"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076526"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a)
-&gt; IntervalMap k a -&gt; [IntervalMap k a] -&gt; IntervalMap k a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">L.foldl</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a
forall k e a.
(Interval k e, Ord k) =&gt;
(a -&gt; a -&gt; a)
-&gt; IntervalMap k a -&gt; IntervalMap k a -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#unionWith"><span class="hs-identifier hs-var">unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679076526"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
forall k v. IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-comment">-- | /O(n+m)/. Difference with a combining function. </span><span>
</span><span id="line-522"></span><span class="hs-comment">-- When two equal keys are</span><span>
</span><span id="line-523"></span><span class="hs-comment">-- encountered, the combining function is applied to the values of these keys.</span><span>
</span><span id="line-524"></span><span class="hs-comment">-- If it returns 'Nothing', the element is discarded (proper set difference). If</span><span>
</span><span id="line-525"></span><span class="hs-comment">-- it returns (@'Just' y@), the element is updated with a new value @y@. </span><span>
</span><span id="line-526"></span><span id="local-6989586621679075934"><span id="local-6989586621679075935"><span id="local-6989586621679075936"><span id="local-6989586621679075937"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#differenceWith"><span class="hs-identifier hs-type">differenceWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075934"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075935"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075934"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075936"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075937"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075936"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075934"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075936"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075934"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075937"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075934"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075936"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-527"></span><span id="differenceWith"><span class="annot"><span class="annottext">differenceWith :: forall k e a b.
(Interval k e, Ord k) =&gt;
(a -&gt; b -&gt; Maybe a)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#differenceWith"><span class="hs-identifier hs-var hs-var">differenceWith</span></a></span></span><span> </span><span id="local-6989586621679076531"><span class="annot"><span class="annottext">a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076531"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076532"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076532"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679076533"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076533"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; Maybe a)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k a
forall k e a b.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#differenceWithKey"><span class="hs-identifier hs-var">differenceWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076534"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076534"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679076535"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076535"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076531"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076534"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076535"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076532"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076533"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="hs-comment">-- | /O(n+m)/. Difference with a combining function. When two equal keys are</span><span>
</span><span id="line-530"></span><span class="hs-comment">-- encountered, the combining function is applied to the key and both values.</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- If it returns 'Nothing', the element is discarded (proper set difference). If</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- it returns (@'Just' y@), the element is updated with a new value @y@. </span><span>
</span><span id="line-533"></span><span id="local-6989586621679075942"><span id="local-6989586621679075943"><span id="local-6989586621679075944"><span id="local-6989586621679075945"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#differenceWithKey"><span class="hs-identifier hs-type">differenceWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075942"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075943"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075942"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075942"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075944"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075945"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075944"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075942"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075944"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075942"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075945"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075942"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075944"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-534"></span><span id="differenceWithKey"><span class="annot"><span class="annottext">differenceWithKey :: forall k e a b.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k a
</span><a href="Data.IntervalMap.Generic.Strict.html#differenceWithKey"><span class="hs-identifier hs-var hs-var">differenceWithKey</span></a></span></span><span> </span><span id="local-6989586621679076540"><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076540"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076541"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076541"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679076542"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076542"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)] -&gt; IntervalMap k a
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
forall k a b.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076540"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; [(k, a)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076541"><span class="hs-identifier hs-var">m1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k b -&gt; [(k, b)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076542"><span class="hs-identifier hs-var">m2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="annot"><span class="hs-comment">-- | /O(n+m)/. Intersection with a combining function.</span></span><span>
</span><span id="line-537"></span><span id="local-6989586621679075953"><span id="local-6989586621679075954"><span id="local-6989586621679075955"><span id="local-6989586621679075956"><span id="local-6989586621679075957"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#intersectionWith"><span class="hs-identifier hs-type">intersectionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075953"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075954"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075953"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075955"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075956"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075957"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075953"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075955"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075953"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075956"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075953"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075957"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-538"></span><span id="intersectionWith"><span class="annot"><span class="annottext">intersectionWith :: forall k e a b c.
(Interval k e, Ord k) =&gt;
(a -&gt; b -&gt; c)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k c
</span><a href="Data.IntervalMap.Generic.Strict.html#intersectionWith"><span class="hs-identifier hs-var hs-var">intersectionWith</span></a></span></span><span> </span><span id="local-6989586621679076548"><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679076548"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076549"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076549"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679076550"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076550"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; c)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k c
forall k e a b c.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; b -&gt; c)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k c
</span><a href="Data.IntervalMap.Generic.Strict.html#intersectionWithKey"><span class="hs-identifier hs-var">intersectionWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076551"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076551"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621679076552"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076552"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679076548"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076551"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076552"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076549"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076550"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="annot"><span class="hs-comment">-- | /O(n+m)/. Intersection with a combining function.</span></span><span>
</span><span id="line-541"></span><span id="local-6989586621679075963"><span id="local-6989586621679075964"><span id="local-6989586621679075965"><span id="local-6989586621679075966"><span id="local-6989586621679075967"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#intersectionWithKey"><span class="hs-identifier hs-type">intersectionWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.IntervalMap.Generic.Interval.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075963"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075964"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075963"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075963"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075965"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075966"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075967"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075963"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075965"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075963"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075966"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.IntervalMap.Generic.Base.html#IntervalMap"><span class="hs-identifier hs-type">IntervalMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075963"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679075967"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-542"></span><span id="intersectionWithKey"><span class="annot"><span class="annottext">intersectionWithKey :: forall k e a b c.
(Interval k e, Ord k) =&gt;
(k -&gt; a -&gt; b -&gt; c)
-&gt; IntervalMap k a -&gt; IntervalMap k b -&gt; IntervalMap k c
</span><a href="Data.IntervalMap.Generic.Strict.html#intersectionWithKey"><span class="hs-identifier hs-var hs-var">intersectionWithKey</span></a></span></span><span> </span><span id="local-6989586621679076557"><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076557"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076558"><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076558"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679076559"><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076559"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, c)] -&gt; IntervalMap k c
forall k e v. Interval k e =&gt; [(k, v)] -&gt; IntervalMap k v
</span><a href="Data.IntervalMap.Generic.Base.html#fromDistinctAscList"><span class="hs-identifier hs-var">fromDistinctAscList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
forall k a b c.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var">ascListIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076557"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k a -&gt; [(k, a)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k a
</span><a href="#local-6989586621679076558"><span class="hs-identifier hs-var">m1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalMap k b -&gt; [(k, b)]
forall k v. IntervalMap k v -&gt; [(k, v)]
</span><a href="Data.IntervalMap.Generic.Base.html#toAscList"><span class="hs-identifier hs-var">toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalMap k b
</span><a href="#local-6989586621679076559"><span class="hs-identifier hs-var">m2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span id="local-6989586621679075926"><span id="local-6989586621679075927"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-type">ascListUnion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075926"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075926"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075927"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075927"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075926"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075926"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075926"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-546"></span><span id="ascListUnion"><span class="annot"><span class="annottext">ascListUnion :: forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var hs-var">ascListUnion</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-547"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679076566"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076566"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076566"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-548"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076567"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076567"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076567"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-549"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span id="local-6989586621679076568"><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076568"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076569"><span class="annot"><span class="annottext">xs :: [(k, a)]
</span><a href="#local-6989586621679076569"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076570"><span class="annot"><span class="annottext">x :: (k, a)
</span><a href="#local-6989586621679076570"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076571"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076571"><span class="hs-identifier hs-var">xk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076572"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076572"><span class="hs-identifier hs-var">xv</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076573"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076573"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679076574"><span class="annot"><span class="annottext">ys :: [(k, a)]
</span><a href="#local-6989586621679076574"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076575"><span class="annot"><span class="annottext">y :: (k, a)
</span><a href="#local-6989586621679076575"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076576"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076576"><span class="hs-identifier hs-var">yk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076577"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076577"><span class="hs-identifier hs-var">yv</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076578"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076578"><span class="hs-identifier hs-var">ys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076571"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076576"><span class="hs-identifier hs-var">yk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-551"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k, a)
</span><a href="#local-6989586621679076570"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076568"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076573"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076574"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-552"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k, a)
</span><a href="#local-6989586621679076575"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076568"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076569"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076578"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-553"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076579"><span class="annot"><span class="annottext">v' :: a
</span><a href="#local-6989586621679076579"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076568"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076571"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076572"><span class="hs-identifier hs-var">xv</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076577"><span class="hs-identifier hs-var">yv</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076579"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [(k, a)] -&gt; [(k, a)]
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076571"><span class="hs-identifier hs-var">xk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076579"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
forall k a.
Ord k =&gt;
(k -&gt; a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; [(k, a)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListUnion"><span class="hs-identifier hs-var">ascListUnion</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621679076568"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076573"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076578"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span id="local-6989586621679075950"><span id="local-6989586621679075951"><span id="local-6989586621679075952"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-type">ascListDifference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075950"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075950"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075951"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075952"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679075951"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075950"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075951"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075950"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075952"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075950"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075951"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-556"></span><span id="ascListDifference"><span class="annot"><span class="annottext">ascListDifference :: forall k a b.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var hs-var">ascListDifference</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-557"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679076586"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076586"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076586"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-558"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span id="local-6989586621679076587"><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076587"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076588"><span class="annot"><span class="annottext">xs :: [(k, a)]
</span><a href="#local-6989586621679076588"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076589"><span class="annot"><span class="annottext">x :: (k, a)
</span><a href="#local-6989586621679076589"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679076590"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076590"><span class="hs-identifier hs-var">xk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076591"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076591"><span class="hs-identifier hs-var">xv</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076592"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076592"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679076593"><span class="annot"><span class="annottext">ys :: [(k, b)]
</span><a href="#local-6989586621679076593"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679076594"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076594"><span class="hs-identifier hs-var">yk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076595"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076595"><span class="hs-identifier hs-var">yv</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076596"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076596"><span class="hs-identifier hs-var">ys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076590"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076594"><span class="hs-identifier hs-var">yk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-560"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k, a)
</span><a href="#local-6989586621679076589"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
forall k a b.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076587"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076592"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076593"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-561"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
forall k a b.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076587"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076588"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076596"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-562"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076587"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076590"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076591"><span class="hs-identifier hs-var">xv</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076595"><span class="hs-identifier hs-var">yv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-563"></span><span>            </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
forall k a b.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076587"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076592"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076596"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-564"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679076597"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076597"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076597"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [(k, a)] -&gt; [(k, a)]
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076590"><span class="hs-identifier hs-var">xk</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076597"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(k, a) -&gt; [(k, a)] -&gt; [(k, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
forall k a b.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; Maybe a) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, a)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListDifference"><span class="hs-identifier hs-var">ascListDifference</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621679076587"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076592"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076596"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span id="local-6989586621679075973"><span id="local-6989586621679075974"><span id="local-6989586621679075975"><span id="local-6989586621679075976"><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-type">ascListIntersection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679075973"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075973"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075975"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679075976"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075973"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075974"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075973"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075975"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679075973"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679075976"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-567"></span><span id="ascListIntersection"><span class="annot"><span class="annottext">ascListIntersection :: forall k a b c.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var hs-var">ascListIntersection</span></a></span></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-568"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var">ascListIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-569"></span><span class="annot"><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var">ascListIntersection</span></a></span><span> </span><span id="local-6989586621679076603"><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076603"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679076604"><span class="annot"><span class="annottext">xs :: [(k, a)]
</span><a href="#local-6989586621679076604"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679076605"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076605"><span class="hs-identifier hs-var">xk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076606"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076606"><span class="hs-identifier hs-var">xv</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076607"><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076607"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679076608"><span class="annot"><span class="annottext">ys :: [(k, b)]
</span><a href="#local-6989586621679076608"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679076609"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076609"><span class="hs-identifier hs-var">yk</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679076610"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076610"><span class="hs-identifier hs-var">yv</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679076611"><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076611"><span class="hs-identifier hs-var">ys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-570"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076605"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076609"><span class="hs-identifier hs-var">yk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-571"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
forall k a b c.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var">ascListIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076607"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076608"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-572"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
forall k a b c.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var">ascListIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076604"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076611"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-573"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679076612"><span class="annot"><span class="annottext">v' :: c
</span><a href="#local-6989586621679076612"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076605"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679076606"><span class="hs-identifier hs-var">xv</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679076610"><span class="hs-identifier hs-var">yv</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076612"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">c -&gt; [(k, c)] -&gt; [(k, c)]
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679076605"><span class="hs-identifier hs-var">xk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679076612"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(k, c) -&gt; [(k, c)] -&gt; [(k, c)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
forall k a b c.
Ord k =&gt;
(k -&gt; a -&gt; b -&gt; c) -&gt; [(k, a)] -&gt; [(k, b)] -&gt; [(k, c)]
</span><a href="Data.IntervalMap.Generic.Strict.html#ascListIntersection"><span class="hs-identifier hs-var">ascListIntersection</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; a -&gt; b -&gt; c
</span><a href="#local-6989586621679076603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, a)]
</span><a href="#local-6989586621679076607"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, b)]
</span><a href="#local-6989586621679076611"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-574"></span></pre></body></html>