<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Monad.Trans.Control</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">monad-control-1.0.3.1: Lift control operations, like exception catching, through monad transformers</span><ul class="links" id="page-menu"><li><a href="src/Control.Monad.Trans.Control.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Bas van Dijk Anders Kaseorg</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Bas van Dijk &lt;v.dijk.bas@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Monad.Trans.Control</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">MonadTransControl</a><ul><li><a href="#g:2">Defaults</a><ul><li><a href="#g:3">Defaults for a stack of two</a></li></ul></li></ul></li><li><a href="#g:4">MonadBaseControl</a><ul><li><a href="#g:5">Defaults</a></li></ul></li><li><a href="#g:6">Utility functions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines the type class <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code>, a subset of
<code><a href="../transformers-base-0.4.6/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a></code> into which generic control operations such as <code>catch</code> can be
lifted from <code>IO</code> or any other base monad. Instances are based on monad
transformers in <code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code>, which includes all standard monad
transformers in the <code>transformers</code> library except <code>ContT</code>.</p><p>See the <a href="http://hackage.haskell.org/package/lifted-base">lifted-base</a>
package which uses <code>monad-control</code> to lift <code>IO</code>
operations from the <code>base</code> library (like <code>catch</code> or <code>bracket</code>) into any monad
that is an instance of <code>MonadBase</code> or <code>MonadBaseControl</code>.</p><p>See the following tutorial by Michael Snoyman on how to use this package:</p><p><a href="https://www.yesodweb.com/book/monad-control">https://www.yesodweb.com/book/monad-control</a></p><h3>Quick implementation guide</h3><p>Given a base monad <code>B</code> and a stack of transformers <code>T</code>:</p><ul><li>Define instances <code><code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code> T</code> for all transformers <code>T</code>, using the
  <code><code><a href="Control-Monad-Trans-Control.html#v:defaultLiftWith" title="Control.Monad.Trans.Control">defaultLiftWith</a></code></code> and <code><code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreT" title="Control.Monad.Trans.Control">defaultRestoreT</a></code></code> functions on the constructor and
  deconstructor of <code>T</code>.</li><li><p>Define an instance <code><code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> B B</code> for the base monad:</p><pre>instance MonadBaseControl B B where
    type StM B a   = a
    liftBaseWith f = f <code><a href="../base-4.18.2.1/Data-Function.html#v:id" title="Data.Function">id</a></code>
    restoreM       = <code><a href="../base-4.18.2.1/Control-Monad.html#v:return" title="Control.Monad">return</a></code>
</pre></li><li><p>Define instances <code><code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> B m =&gt; <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> B (T m)</code> for
  all transformers:</p><pre>instance MonadBaseControl b m =&gt; MonadBaseControl b (T m) where
    type StM (T m) a = <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> T m a
    liftBaseWith f   = <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftBaseWith" title="Control.Monad.Trans.Control">defaultLiftBaseWith</a></code>
    restoreM         = <code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreM" title="Control.Monad.Trans.Control">defaultRestoreM</a></code>
</pre></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> t =&gt; <a href="#t:MonadTransControl">MonadTransControl</a> t <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:StT">StT</a> t a :: *</li><li><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> t -&gt; m a) -&gt; t m a</li><li><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a) -&gt; t m a</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Run">Run</a> t = <span class="keyword">forall</span> n b. <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n =&gt; t n b -&gt; n (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t b)</li><li class="src short"><span class="keyword">type</span> <a href="#t:RunDefault">RunDefault</a> t t' = <span class="keyword">forall</span> n b. <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n =&gt; t n b -&gt; n (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t' b)</li><li class="src short"><a href="#v:defaultLiftWith">defaultLiftWith</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n) =&gt; (<span class="keyword">forall</span> b. n m b -&gt; t m b) -&gt; (<span class="keyword">forall</span> o b. t o b -&gt; n o b) -&gt; (<a href="Control-Monad-Trans-Control.html#t:RunDefault" title="Control.Monad.Trans.Control">RunDefault</a> t n -&gt; m a) -&gt; t m a</li><li class="src short"><a href="#v:defaultRestoreT">defaultRestoreT</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n) =&gt; (n m a -&gt; t m a) -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n a) -&gt; t m a</li><li class="src short"><span class="keyword">type</span> <a href="#t:RunDefault2">RunDefault2</a> t n n' = <span class="keyword">forall</span> m b. (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (n' m)) =&gt; t m b -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n' (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n b))</li><li class="src short"><a href="#v:defaultLiftWith2">defaultLiftWith2</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (n' m), <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n') =&gt; (<span class="keyword">forall</span> b. n (n' m) b -&gt; t m b) -&gt; (<span class="keyword">forall</span> o b. t o b -&gt; n (n' o) b) -&gt; (<a href="Control-Monad-Trans-Control.html#t:RunDefault2" title="Control.Monad.Trans.Control">RunDefault2</a> t n n' -&gt; m a) -&gt; t m a</li><li class="src short"><a href="#v:defaultRestoreT2">defaultRestoreT2</a> :: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (n' m), <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n') =&gt; (n (n' m) a -&gt; t m a) -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n' (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n a)) -&gt; t m a</li><li class="src short"><span class="keyword">class</span> <a href="../transformers-base-0.4.6/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a> b m =&gt; <a href="#t:MonadBaseControl">MonadBaseControl</a> b m | m -&gt; b <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:StM">StM</a> m a :: *</li><li><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> m b -&gt; b a) -&gt; m a</li><li><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a -&gt; m a</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:RunInBase">RunInBase</a> m b = <span class="keyword">forall</span> a. m a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ComposeSt">ComposeSt</a> t m a = <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:RunInBaseDefault">RunInBaseDefault</a> t m b = <span class="keyword">forall</span> a. t m a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a> t m a)</li><li class="src short"><a href="#v:defaultLiftBaseWith">defaultLiftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; (<a href="Control-Monad-Trans-Control.html#t:RunInBaseDefault" title="Control.Monad.Trans.Control">RunInBaseDefault</a> t m b -&gt; b a) -&gt; t m a</li><li class="src short"><a href="#v:defaultRestoreM">defaultRestoreM</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; <a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a> t m a -&gt; t m a</li><li class="src short"><a href="#v:control">control</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> m b -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a)) -&gt; m a</li><li class="src short"><a href="#v:controlT">controlT</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> t -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a)) -&gt; t m a</li><li class="src short"><a href="#v:embed">embed</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (a -&gt; m c) -&gt; m (a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m c))</li><li class="src short"><a href="#v:embed_">embed_</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (a -&gt; m ()) -&gt; m (a -&gt; b ())</li><li class="src short"><a href="#v:captureT">captureT</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; t m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t ())</li><li class="src short"><a href="#v:captureM">captureM</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m ())</li><li class="src short"><a href="#v:liftBaseOp">liftBaseOp</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; ((a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m c)) -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m d)) -&gt; (a -&gt; m c) -&gt; m d</li><li class="src short"><a href="#v:liftBaseOp_">liftBaseOp_</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a) -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m c)) -&gt; m a -&gt; m c</li><li class="src short"><a href="#v:liftBaseDiscard">liftBaseDiscard</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (b () -&gt; b a) -&gt; m () -&gt; m a</li><li class="src short"><a href="#v:liftBaseOpDiscard">liftBaseOpDiscard</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; ((a -&gt; b ()) -&gt; b c) -&gt; (a -&gt; m ()) -&gt; m c</li><li class="src short"><a href="#v:liftThrough">liftThrough</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a) -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t b)) -&gt; t m a -&gt; t m b</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>MonadTransControl</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> t =&gt; <a id="t:MonadTransControl" class="def">MonadTransControl</a> t <span class="keyword">where</span> <a href="src/Control.Monad.Trans.Control.html#MonadTransControl" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></p><div class="doc"><p>The <code>MonadTransControl</code> type class is a stronger version of <code><code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a></code></code>:</p><p>Instances of <code><code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a></code></code> know how to <code><code>lift</code></code> actions in the base monad to
 the transformed monad. These lifted actions, however, are completely unaware
 of the monadic state added by the transformer.</p><p><code><code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code></code> instances are aware of the monadic state of the
 transformer and allow to save and restore this state.</p><p>This allows to lift functions that have a monad transformer in both positive
 and negative position. Take, for example, the function</p><pre>withFile :: FilePath -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
</pre><p><code><code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a></code></code> instances can only lift the return type of the <code>withFile</code>
 function:</p><pre>withFileLifted :: MonadTrans t =&gt; FilePath -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; t IO r
withFileLifted file mode action = lift (withFile file mode action)
</pre><p>However, <code><code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a></code></code> is not powerful enough to make <code>withFileLifted</code>
 accept a function that returns <code>t IO</code>. The reason is that we need to take
 away the transformer layer in order to pass the function to <code><code>withFile</code></code>.
 <code><code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code></code> allows us to do this:</p><pre>withFileLifted' :: (Monad (t IO), MonadTransControl t) =&gt; FilePath -&gt; IOMode -&gt; (Handle -&gt; t IO r) -&gt; t IO r
withFileLifted' file mode action = liftWith (\run -&gt; withFile file mode (run . action)) &gt;&gt;= restoreT . return
</pre></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:StT" class="def">StT</a> t a :: * <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p><div class="doc"><p>Monadic state of <code>t</code>.</p><p>The monadic state of a monad transformer is the result type of its <code>run</code>
 function, e.g.:</p><pre><code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#v:runReaderT" title="Control.Monad.Trans.Reader">runReaderT</a></code> :: <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r m a -&gt; r -&gt; m a
<code><a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a></code> (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r) a ~ a

<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#v:runStateT" title="Control.Monad.Trans.State.Lazy">runStateT</a></code> :: <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s m a -&gt; s -&gt; m (a, s)
<code><a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a></code> (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s) a ~ (a, s)

<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#v:runMaybeT" title="Control.Monad.Trans.Maybe">runMaybeT</a></code> :: <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> m a -&gt; m (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a)
<code><a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> a ~ <code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a
</pre><p>Provided type instances:</p><pre>StT <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>    a ~ a
StT <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>       a ~ <code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a
StT (<code>ErrorT</code> e)   a ~ <code>Error</code> e =&gt; <code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a
StT (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e)  a ~ <code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a
StT <code>ListT</code>        a ~ [a]
StT (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r)  a ~ a
StT (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s)   a ~ (a, s)
StT (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w)  a ~ <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w =&gt; (a, w)
StT (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s) a ~ <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w =&gt; (a, s, w)
</pre></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:liftWith" class="def">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> t -&gt; m a) -&gt; t m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><div class="doc"><p><code>liftWith</code> is similar to <code>lift</code> in that it lifts a computation from
 the argument monad to the constructed monad.</p><p>Instances should satisfy similar laws as the <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a></code> laws:</p><pre>liftWith (\_ -&gt; return a) = return a</pre><pre>liftWith (\_ -&gt; m &gt;&gt;= f)  =  liftWith (\_ -&gt; m) &gt;&gt;= (\a -&gt; liftWith (\_ -&gt; f a))</pre><p>The difference with <code>lift</code> is that before lifting the <code>m</code> computation
 <code>liftWith</code> captures the state of <code>t</code>. It then provides the <code>m</code>
 computation with a <code><a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a></code> function that allows running <code>t n</code> computations in
 <code>n</code> (for all <code>n</code>) on the captured state, e.g.</p><pre>withFileLifted :: (Monad (t IO), MonadTransControl t) =&gt; FilePath -&gt; IOMode -&gt; (Handle -&gt; t IO r) -&gt; t IO r
withFileLifted file mode action = liftWith (\run -&gt; withFile file mode (run . action)) &gt;&gt;= restoreT . return
</pre><p>If the <code>Run</code> function is ignored, <code>liftWith</code> coincides with <code>lift</code>:</p><pre>lift f = liftWith (\_ -&gt; f)</pre><p>Implementations use the <code><code><a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a></code></code> function associated with a transformer:</p><pre>liftWith :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m =&gt; ((<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r n b -&gt; n b) -&gt; m a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r m a
liftWith f = <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> (\r -&gt; f (\action -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#v:runReaderT" title="Control.Monad.Trans.Reader">runReaderT</a></code> action r))

liftWith :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m =&gt; ((<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s n b -&gt; n (b, s)) -&gt; m a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s m a
liftWith f = <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> (\s -&gt; <code><a href="../base-4.18.2.1/Control-Monad.html#v:liftM" title="Control.Monad">liftM</a></code> (\x -&gt; (x, s)) (f (\action -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#v:runStateT" title="Control.Monad.Trans.State.Lazy">runStateT</a></code> action s)))

liftWith :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m =&gt; ((<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> n b -&gt; n (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> b)) -&gt; m a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> m a
liftWith f = <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> (<code><a href="../base-4.18.2.1/Control-Monad.html#v:liftM" title="Control.Monad">liftM</a></code> <code>Just</code> (f <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#v:runMaybeT" title="Control.Monad.Trans.Maybe">runMaybeT</a></code>))
</pre></div><p class="src"><a id="v:restoreT" class="def">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a) -&gt; t m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p><div class="doc"><p>Construct a <code>t</code> computation from the monadic state of <code>t</code> that is
 returned from a <code><a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a></code> function.</p><p>Instances should satisfy:</p><pre>liftWith (\run -&gt; run t) &gt;&gt;= restoreT . return = t</pre><p><code>restoreT</code> is usually implemented through the constructor of the monad
 transformer:</p><pre><code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code>  :: (r -&gt; m a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r m a
restoreT ::       m a  -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r m a
restoreT action = <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> { runReaderT = <code><a href="../base-4.18.2.1/Data-Function.html#v:const" title="Data.Function">const</a></code> action }

<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code>   :: (s -&gt; m (a, s)) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s m a
restoreT ::       m (a, s)  -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s m a
restoreT action = <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> { runStateT = <code><a href="../base-4.18.2.1/Data-Function.html#v:const" title="Data.Function">const</a></code> action }

<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>   :: m (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> m a
restoreT :: m (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> m a
restoreT action = <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> action
</pre><p>Example type signatures:</p><pre>restoreT :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m             =&gt; m a            -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code> m a
restoreT :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m             =&gt; m (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a)    -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> m a
restoreT :: (<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m, <code>Error</code> e)  =&gt; m (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a) -&gt; <code>ErrorT</code> e m a
restoreT :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m             =&gt; m (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a) -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e m a
restoreT :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m             =&gt; m [a]          -&gt; <code>ListT</code> m a
restoreT :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m             =&gt; m a            -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r m a
restoreT :: <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m             =&gt; m (a, s)       -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s m a
restoreT :: (<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m, <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w) =&gt; m (a, w)       -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w m a
restoreT :: (<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> m, <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w) =&gt; m (a, s, w)    -&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s m a
</pre></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadTransControl">Instances</h4><details id="i:MonadTransControl" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:1"></span> <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></span> <a href="src/Control.Monad.Trans.Control.html#line-414" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:2"></span> <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e)</span> <a href="src/Control.Monad.Trans.Control.html#line-437" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:3"></span> <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> :: (<a href="../base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</span> <a href="src/Control.Monad.Trans.Control.html#line-407" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:4"></span> <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r)</span> <a href="src/Control.Monad.Trans.Control.html#line-444" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:5"></span> <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s)</span> <a href="src/Control.Monad.Trans.Control.html#line-451" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:6"></span> <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s)</span> <a href="src/Control.Monad.Trans.Control.html#line-460" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:7"></span> <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w)</span> <a href="src/Control.Monad.Trans.Control.html#line-469" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:8"></span> <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w)</span> <a href="src/Control.Monad.Trans.Control.html#line-477" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:9"></span> <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s)</span> <a href="src/Control.Monad.Trans.Control.html#line-485" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadTransControl:MonadTransControl:10"></span> <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s)</span> <a href="src/Control.Monad.Trans.Control.html#line-493" class="link">Source</a> <a href="#t:MonadTransControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadTransControl:MonadTransControl:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s) a <a href="src/Control.Monad.Trans.Control.html#StT" class="link">Source</a> <a href="#t:StT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftWith">liftWith</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s) -&gt; m a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#liftWith" class="link">Source</a> <a href="#v:liftWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreT">restoreT</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s) a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#restoreT" class="link">Source</a> <a href="#v:restoreT" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Run" class="def">Run</a> t = <span class="keyword">forall</span> n b. <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n =&gt; t n b -&gt; n (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t b) <a href="src/Control.Monad.Trans.Control.html#Run" class="link">Source</a> <a href="#t:Run" class="selflink">#</a></p><div class="doc"><p>A function that runs a transformed monad <code>t n</code> on the monadic state that
 was captured by <code><a href="Control-Monad-Trans-Control.html#v:liftWith" title="Control.Monad.Trans.Control">liftWith</a></code></p><p>A <code>Run t</code> function yields a computation in <code>n</code> that returns the monadic state
 of <code>t</code>. This state can later be used to restore a <code>t</code> computation using
 <code><a href="Control-Monad-Trans-Control.html#v:restoreT" title="Control.Monad.Trans.Control">restoreT</a></code>.</p><p>Example type equalities:</p><pre>Run <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>    ~ forall n b. <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n             =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>  n b -&gt; n b
Run <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>       ~ forall n b. <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n             =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>     n b -&gt; n (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> b)
Run (<code>ErrorT</code> e)   ~ forall n b. (<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n, <code>Error</code> e)  =&gt; <code>ErrorT</code> e   n b -&gt; n (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e b)
Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e)  ~ forall n b. <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n             =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e  n b -&gt; n (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e b)
Run <code>ListT</code>        ~ forall n b. <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n             =&gt; <code>ListT</code>      n b -&gt; n [b]
Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r)  ~ forall n b. <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n             =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r  n b -&gt; n b
Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s)   ~ forall n b. <code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n             =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s   n b -&gt; n (a, s)
Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w)  ~ forall n b. (<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n, <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w) =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w  n b -&gt; n (a, w)
Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s) ~ forall n b. (<code><a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> n, <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w) =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s n b -&gt; n (a, s, w)
</pre><p>This type is usually satisfied by the <code>run</code> function of a transformer:</p><pre><code>flip</code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#v:runReaderT" title="Control.Monad.Trans.Reader">runReaderT</a></code> :: r -&gt; Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r)
<code>flip</code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#v:runStateT" title="Control.Monad.Trans.State.Lazy">runStateT</a></code>  :: s -&gt; Run (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s)
<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#v:runMaybeT" title="Control.Monad.Trans.Maybe">runMaybeT</a></code>       ::      Run <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>
</pre></div></div><a href="#g:2" id="g:2"><h2>Defaults</h2></a><div class="doc"><p>The following functions can be used to define a <code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code> instance
 for a monad transformer which simply is a newtype around another monad
 transformer which already has a <code>MonadTransControl</code> instance. For example:</p><pre>{-# LANGUAGE GeneralizedNewtypeDeriving #-}
{-# LANGUAGE UndecidableInstances #-}
{-# LANGUAGE TypeFamilies #-}

newtype CounterT m a = CounterT {unCounterT :: StateT Int m a}
  deriving (Monad, MonadTrans)

instance MonadTransControl CounterT where
    type StT CounterT a = StT (StateT Int) a
    liftWith = <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftWith" title="Control.Monad.Trans.Control">defaultLiftWith</a></code> CounterT unCounterT
    restoreT = <code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreT" title="Control.Monad.Trans.Control">defaultRestoreT</a></code> CounterT
</pre></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RunDefault" class="def">RunDefault</a> t t' = <span class="keyword">forall</span> n b. <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n =&gt; t n b -&gt; n (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t' b) <a href="src/Control.Monad.Trans.Control.html#RunDefault" class="link">Source</a> <a href="#t:RunDefault" class="selflink">#</a></p><div class="doc"><p>A function like <code><a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a></code> that runs a monad transformer <code>t</code> which wraps the
 monad transformer <code>t'</code>. This is used in <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftWith" title="Control.Monad.Trans.Control">defaultLiftWith</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:defaultLiftWith" class="def">defaultLiftWith</a> <a href="src/Control.Monad.Trans.Control.html#defaultLiftWith" class="link">Source</a> <a href="#v:defaultLiftWith" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> b. n m b -&gt; t m b)</td><td class="doc"><p>Monad constructor</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> o b. t o b -&gt; n o b)</td><td class="doc"><p>Monad deconstructor</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Monad-Trans-Control.html#t:RunDefault" title="Control.Monad.Trans.Control">RunDefault</a> t n -&gt; m a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; t m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Default definition for the <code><a href="Control-Monad-Trans-Control.html#v:liftWith" title="Control.Monad.Trans.Control">liftWith</a></code> method.</p></div></div><div class="top"><p class="src"><a id="v:defaultRestoreT" class="def">defaultRestoreT</a> <a href="src/Control.Monad.Trans.Control.html#defaultRestoreT" class="link">Source</a> <a href="#v:defaultRestoreT" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (n m a -&gt; t m a)</td><td class="doc"><p>Monad constructor</p></td></tr><tr><td class="src">-&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; t m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Default definition for the <code><a href="Control-Monad-Trans-Control.html#v:restoreT" title="Control.Monad.Trans.Control">restoreT</a></code> method.</p></div></div><a href="#g:3" id="g:3"><h3>Defaults for a stack of two</h3></a><div class="doc"><p>The following functions can be used to define a <code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code> instance
 for a monad transformer stack of two.</p><pre>{-# LANGUAGE GeneralizedNewtypeDeriving #-}

newtype CalcT m a = CalcT { unCalcT :: StateT Int (ExceptT String m) a }
  deriving (Monad, MonadTrans)

instance MonadTransControl CalcT where
    type StT CalcT a = StT (ExceptT String) (StT (StateT Int) a)
    liftWith = <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftWith2" title="Control.Monad.Trans.Control">defaultLiftWith2</a></code> CalcT unCalcT
    restoreT = <code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreT2" title="Control.Monad.Trans.Control">defaultRestoreT2</a></code> CalcT
</pre></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RunDefault2" class="def">RunDefault2</a> t n n' = <span class="keyword">forall</span> m b. (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (n' m)) =&gt; t m b -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n' (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n b)) <a href="src/Control.Monad.Trans.Control.html#RunDefault2" class="link">Source</a> <a href="#t:RunDefault2" class="selflink">#</a></p><div class="doc"><p>A function like <code><a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a></code> that runs a monad transformer <code>t</code> which wraps the
 monad transformers <code>n</code> and <code>n'</code>. This is used in <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftWith2" title="Control.Monad.Trans.Control">defaultLiftWith2</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:defaultLiftWith2" class="def">defaultLiftWith2</a> <a href="src/Control.Monad.Trans.Control.html#defaultLiftWith2" class="link">Source</a> <a href="#v:defaultLiftWith2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (n' m), <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> b. n (n' m) b -&gt; t m b)</td><td class="doc"><p>Monad constructor</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> o b. t o b -&gt; n (n' o) b)</td><td class="doc"><p>Monad deconstructor</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Monad-Trans-Control.html#t:RunDefault2" title="Control.Monad.Trans.Control">RunDefault2</a> t n n' -&gt; m a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; t m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Default definition for the <code><a href="Control-Monad-Trans-Control.html#v:liftWith" title="Control.Monad.Trans.Control">liftWith</a></code> method.</p></div></div><div class="top"><p class="src"><a id="v:defaultRestoreT2" class="def">defaultRestoreT2</a> <a href="src/Control.Monad.Trans.Control.html#defaultRestoreT2" class="link">Source</a> <a href="#v:defaultRestoreT2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (n' m), <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n, <a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> n')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (n (n' m) a -&gt; t m a)</td><td class="doc"><p>Monad constructor</p></td></tr><tr><td class="src">-&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n' (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> n a))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; t m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Default definition for the <code><a href="Control-Monad-Trans-Control.html#v:restoreT" title="Control.Monad.Trans.Control">restoreT</a></code> method for double <code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code>.</p></div></div><a href="#g:4" id="g:4"><h1>MonadBaseControl</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="../transformers-base-0.4.6/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a> b m =&gt; <a id="t:MonadBaseControl" class="def">MonadBaseControl</a> b m | m -&gt; b <span class="keyword">where</span> <a href="src/Control.Monad.Trans.Control.html#MonadBaseControl" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></p><div class="doc"><h2>Writing instances</h2><p>The usual way to write a <code><code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code></code> instance for a transformer
 stack over a base monad <code>B</code> is to write an instance <code>MonadBaseControl B B</code>
 for the base monad, and <code>MonadTransControl T</code> instances for every transformer
 <code>T</code>. Instances for <code><code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code></code> are then simply implemented using
 <code><code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code></code>, <code><code><a href="Control-Monad-Trans-Control.html#v:defaultLiftBaseWith" title="Control.Monad.Trans.Control">defaultLiftBaseWith</a></code></code>, <code><code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreM" title="Control.Monad.Trans.Control">defaultRestoreM</a></code></code>.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:StM" class="def">StM</a> m a :: * <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p><div class="doc"><p>Monadic state that <code>m</code> adds to the base monad <code>b</code>.</p><p>For all base (non-transformed) monads, <code>StM m a ~ a</code>:</p><pre>StM <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code>         a ~ a
StM <code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>      a ~ a
StM (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e) a ~ a
StM []         a ~ a
StM ((-&gt;) r)   a ~ a
StM <code><a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a></code>   a ~ a
StM <code><a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a></code>        a ~ a
StM (<code><a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a></code> s)     a ~ a
</pre><p>If <code>m</code> is a transformed monad, <code>m ~ t b</code>, <code><code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code></code> is the monadic state of
 the transformer <code>t</code> (given by its <code><a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a></code> from <code><a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a></code>). For a
 transformer stack, <code><code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code></code> is defined recursively:</p><pre>StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>  m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code> m a ~ StM m a
StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>     m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>    m a ~ StM m (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a)
StM (<code>ErrorT</code> e   m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code>ErrorT</code>    m a ~ <code>Error</code> e =&gt; StM m (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a)
StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e  m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code>   m a ~ StM m (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a)
StM (<code>ListT</code>      m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code>ListT</code>     m a ~ StM m [a]
StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r  m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code>   m a ~ StM m a
StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s   m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code>    m a ~ StM m (a, s)
StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w  m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code>   m a ~ <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w =&gt; StM m (a, w)
StM (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s m) a ~ <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code>      m a ~ <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w =&gt; StM m (a, s, w)
</pre></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:liftBaseWith" class="def">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> m b -&gt; b a) -&gt; m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><div class="doc"><p><code>liftBaseWith</code> is similar to <code>liftIO</code> and <code>liftBase</code> in that it
 lifts a base computation to the constructed monad.</p><p>Instances should satisfy similar laws as the <code>MonadIO</code> and <code><a href="../transformers-base-0.4.6/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a></code> laws:</p><pre>liftBaseWith (\_ -&gt; return a) = return a</pre><pre>liftBaseWith (\_ -&gt; m &gt;&gt;= f)  =  liftBaseWith (\_ -&gt; m) &gt;&gt;= (\a -&gt; liftBaseWith (\_ -&gt; f a))</pre><p>As <a href="https://stackoverflow.com/a/58106822/1477667">Li-yao Xia explains</a>, parametricity
 guarantees that</p><pre>f <a href="$">$</a> liftBaseWith q = liftBaseWith $ runInBase -&gt; f <a href="$">$</a> q runInBase</pre><p>The difference with <code>liftBase</code> is that before lifting the base computation
 <code>liftBaseWith</code> captures the state of <code>m</code>. It then provides the base
 computation with a <code><a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a></code> function that allows running <code>m</code>
 computations in the base monad on the captured state:</p><pre>withFileLifted :: MonadBaseControl IO m =&gt; FilePath -&gt; IOMode -&gt; (Handle -&gt; m a) -&gt; m a
withFileLifted file mode action = liftBaseWith (\runInBase -&gt; withFile file mode (runInBase . action)) &gt;&gt;= restoreM
                             -- = control $ \runInBase -&gt; withFile file mode (runInBase . action)
                             -- = liftBaseOp (withFile file mode) action
</pre><p><code><code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code></code> is usually not implemented directly, but using
 <code><code><a href="Control-Monad-Trans-Control.html#v:defaultLiftBaseWith" title="Control.Monad.Trans.Control">defaultLiftBaseWith</a></code></code>.</p></div><p class="src"><a id="v:restoreM" class="def">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a -&gt; m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p><div class="doc"><p>Construct a <code>m</code> computation from the monadic state of <code>m</code> that is
 returned from a <code><a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a></code> function.</p><p>Instances should satisfy:</p><pre>liftBaseWith (\runInBase -&gt; runInBase m) &gt;&gt;= restoreM = m</pre><p><code><code><a href="Control-Monad-Trans-Control.html#v:restoreM" title="Control.Monad.Trans.Control">restoreM</a></code></code> is usually not implemented directly, but using
 <code><code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreM" title="Control.Monad.Trans.Control">defaultRestoreM</a></code></code>.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadBaseControl">Instances</h4><details id="i:MonadBaseControl" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:1"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a></span> <a href="src/Control.Monad.Trans.Control.html#line-631" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> -&gt; <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> a) -&gt; <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> a -&gt; <a href="../base-4.18.2.1/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:2"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a></span> <a href="src/Control.Monad.Trans.Control.html#line-633" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a) -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a -&gt; <a href="../base-4.18.2.1/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:3"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></span> <a href="src/Control.Monad.Trans.Control.html#line-626" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:4"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></span> <a href="src/Control.Monad.Trans.Control.html#line-627" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:5"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.18.2.1/GHC-List.html#t:List" title="GHC.List">List</a> <a href="../base-4.18.2.1/GHC-List.html#t:List" title="GHC.List">List</a></span> <a href="src/Control.Monad.Trans.Control.html#line-629" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/GHC-List.html#t:List" title="GHC.List">List</a> a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> <a href="../base-4.18.2.1/GHC-List.html#t:List" title="GHC.List">List</a> <a href="../base-4.18.2.1/GHC-List.html#t:List" title="GHC.List">List</a> -&gt; [a]) -&gt; [a] <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> <a href="../base-4.18.2.1/GHC-List.html#t:List" title="GHC.List">List</a> a -&gt; [a] <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:6"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m)</span> <a href="src/Control.Monad.Trans.Control.html#line-718" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:7"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m)</span> <a href="src/Control.Monad.Trans.Control.html#line-722" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a> e m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:8"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m)</span> <a href="src/Control.Monad.Trans.Control.html#line-717" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:9"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m)</span> <a href="src/Control.Monad.Trans.Control.html#line-719" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> r m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:10"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m)</span> <a href="src/Control.Monad.Trans.Control.html#line-721" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:11"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m)</span> <a href="src/Control.Monad.Trans.Control.html#line-720" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Strict.html#t:StateT" title="Control.Monad.Trans.State.Strict">StateT</a> s m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:12"></span> (<a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m)</span> <a href="src/Control.Monad.Trans.Control.html#line-725" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:13"></span> (<a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m)</span> <a href="src/Control.Monad.Trans.Control.html#line-724" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Strict.html#t:WriterT" title="Control.Monad.Trans.Writer.Strict">WriterT</a> w m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:14"></span> (<a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m)</span> <a href="src/Control.Monad.Trans.Control.html#line-727" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:15"></span> (<a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m)</span> <a href="src/Control.Monad.Trans.Control.html#line-726" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m) b -&gt; b a) -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m) a -&gt; <a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Strict.html#t:RWST" title="Control.Monad.Trans.RWS.Strict">RWST</a> r w s m a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:16"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s) (<a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s)</span> <a href="src/Control.Monad.Trans.Control.html#line-636" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s) (<a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s) -&gt; <a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s a) -&gt; <a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s) a -&gt; <a href="../base-4.18.2.1/Control-Monad-ST-Lazy-Safe.html#t:ST" title="Control.Monad.ST.Lazy.Safe">ST</a> s a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:17"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e) (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e)</span> <a href="src/Control.Monad.Trans.Control.html#line-628" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e) (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e) -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e) a -&gt; <a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> e a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:18"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s) (<a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s)</span> <a href="src/Control.Monad.Trans.Control.html#line-635" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s) (<a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s) -&gt; <a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s a) -&gt; <a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> (<a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s) a -&gt; <a href="../base-4.18.2.1/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadBaseControl:MonadBaseControl:19"></span> <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> ((-&gt;) r) ((-&gt;) r)</span> <a href="src/Control.Monad.Trans.Control.html#line-630" class="link">Source</a> <a href="#t:MonadBaseControl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadBaseControl:MonadBaseControl:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Trans-Control.html">Control.Monad.Trans.Control</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> ((-&gt;) r) a <a href="src/Control.Monad.Trans.Control.html#StM" class="link">Source</a> <a href="#t:StM" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> ((-&gt;) r) ((-&gt;) r) -&gt; r -&gt; a) -&gt; r -&gt; a <a href="src/Control.Monad.Trans.Control.html#liftBaseWith" class="link">Source</a> <a href="#v:liftBaseWith" class="selflink">#</a></p><p class="src"><a href="#v:restoreM">restoreM</a> :: <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> ((-&gt;) r) a -&gt; r -&gt; a <a href="src/Control.Monad.Trans.Control.html#restoreM" class="link">Source</a> <a href="#v:restoreM" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RunInBase" class="def">RunInBase</a> m b = <span class="keyword">forall</span> a. m a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a) <a href="src/Control.Monad.Trans.Control.html#RunInBase" class="link">Source</a> <a href="#t:RunInBase" class="selflink">#</a></p><div class="doc"><p>A function that runs a <code>m</code> computation on the monadic state that was
 captured by <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code></p><p>A <code>RunInBase m</code> function yields a computation in the base monad of <code>m</code> that
 returns the monadic state of <code>m</code>. This state can later be used to restore the
 <code>m</code> computation using <code><a href="Control-Monad-Trans-Control.html#v:restoreM" title="Control.Monad.Trans.Control">restoreM</a></code>.</p><p>Example type equalities:</p><pre>RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>  m) b ~ forall a.             <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>  m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m a)
RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>     m) b ~ forall a.             <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code>     m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m (<code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> a))
RunInBase (<code>ErrorT</code> e   m) b ~ forall a. <code>Error</code> e =&gt;  <code>ErrorT</code> e   m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a))
RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e  m) b ~ forall a.             <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Except.html#t:ExceptT" title="Control.Monad.Trans.Except">ExceptT</a></code> e  m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m (<code><a href="../base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> e a))
RunInBase (<code>ListT</code>      m) b ~ forall a.             <code>ListT</code>      m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m [a])
RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code> r  m) b ~ forall a.             <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code>    m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m a)
RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s   m) b ~ forall a.             <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-State-Lazy.html#t:StateT" title="Control.Monad.Trans.State.Lazy">StateT</a></code> s   m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m (a, s))
RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w  m) b ~ forall a. <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-Writer-Lazy.html#t:WriterT" title="Control.Monad.Trans.Writer.Lazy">WriterT</a></code> w  m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m (a, w))
RunInBase (<code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s m) b ~ forall a. <code><a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> w =&gt; <code><a href="../transformers-0.6.1.0/Control-Monad-Trans-RWS-Lazy.html#t:RWST" title="Control.Monad.Trans.RWS.Lazy">RWST</a></code> r w s m a -&gt; b (<code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> m (a, s, w))
</pre><p>For a transformed base monad <code>m ~ t b</code>, <code>'RunInBase m b' ~ <code><a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a></code> t</code>.</p></div></div><a href="#g:5" id="g:5"><h2>Defaults</h2></a><div class="doc"><p>Note that by using the following default definitions it's easy to make a
 monad transformer <code>T</code> an instance of <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code>:</p><pre>instance MonadBaseControl b m =&gt; MonadBaseControl b (T m) where
    type StM (T m) a = <code><a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a></code> T m a
    liftBaseWith     = <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftBaseWith" title="Control.Monad.Trans.Control">defaultLiftBaseWith</a></code>
    restoreM         = <code><a href="Control-Monad-Trans-Control.html#v:defaultRestoreM" title="Control.Monad.Trans.Control">defaultRestoreM</a></code>
</pre><p>Defining an instance for a base monad <code>B</code> is equally straightforward:</p><pre>instance MonadBaseControl B B where
    type StM B a   = a
    liftBaseWith f = f <code><a href="../base-4.18.2.1/Data-Function.html#v:id" title="Data.Function">id</a></code>
    restoreM       = <code><a href="../base-4.18.2.1/Control-Monad.html#v:return" title="Control.Monad">return</a></code>
</pre></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ComposeSt" class="def">ComposeSt</a> t m a = <a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a) <a href="src/Control.Monad.Trans.Control.html#ComposeSt" class="link">Source</a> <a href="#t:ComposeSt" class="selflink">#</a></p><div class="doc"><p>Handy type synonym that composes the monadic states of <code>t</code> and <code>m</code>.</p><p>It can be used to define the <code><a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a></code> for new <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> instances.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RunInBaseDefault" class="def">RunInBaseDefault</a> t m b = <span class="keyword">forall</span> a. t m a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a> t m a) <a href="src/Control.Monad.Trans.Control.html#RunInBaseDefault" class="link">Source</a> <a href="#t:RunInBaseDefault" class="selflink">#</a></p><div class="doc"><p>A function like <code><a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a></code> that runs a monad transformer <code>t</code> in its base
 monad <code>b</code>. It is used in <code><a href="Control-Monad-Trans-Control.html#v:defaultLiftBaseWith" title="Control.Monad.Trans.Control">defaultLiftBaseWith</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:defaultLiftBaseWith" class="def">defaultLiftBaseWith</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; (<a href="Control-Monad-Trans-Control.html#t:RunInBaseDefault" title="Control.Monad.Trans.Control">RunInBaseDefault</a> t m b -&gt; b a) -&gt; t m a <a href="src/Control.Monad.Trans.Control.html#defaultLiftBaseWith" class="link">Source</a> <a href="#v:defaultLiftBaseWith" class="selflink">#</a></p><div class="doc"><p>Default definition for the <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> method.</p><p>Note that it composes a <code><a href="Control-Monad-Trans-Control.html#v:liftWith" title="Control.Monad.Trans.Control">liftWith</a></code> of <code>t</code> with a <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> of <code>m</code> to
 give a <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> of <code>t m</code>:</p><pre>defaultLiftBaseWith = \f -&gt; <code><a href="Control-Monad-Trans-Control.html#v:liftWith" title="Control.Monad.Trans.Control">liftWith</a></code> $ \run -&gt;
                              <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> $ \runInBase -&gt;
                                f $ runInBase . run
</pre></div></div><div class="top"><p class="src"><a id="v:defaultRestoreM" class="def">defaultRestoreM</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m) =&gt; <a href="Control-Monad-Trans-Control.html#t:ComposeSt" title="Control.Monad.Trans.Control">ComposeSt</a> t m a -&gt; t m a <a href="src/Control.Monad.Trans.Control.html#defaultRestoreM" class="link">Source</a> <a href="#v:defaultRestoreM" class="selflink">#</a></p><div class="doc"><p>Default definition for the <code><a href="Control-Monad-Trans-Control.html#v:restoreM" title="Control.Monad.Trans.Control">restoreM</a></code> method.</p><p>Note that: <code>defaultRestoreM = <code><a href="Control-Monad-Trans-Control.html#v:restoreT" title="Control.Monad.Trans.Control">restoreT</a></code> . <code><a href="Control-Monad-Trans-Control.html#v:restoreM" title="Control.Monad.Trans.Control">restoreM</a></code></code></p></div></div><a href="#g:6" id="g:6"><h1>Utility functions</h1></a><div class="top"><p class="src"><a id="v:control" class="def">control</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (<a href="Control-Monad-Trans-Control.html#t:RunInBase" title="Control.Monad.Trans.Control">RunInBase</a> m b -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a)) -&gt; m a <a href="src/Control.Monad.Trans.Control.html#control" class="link">Source</a> <a href="#v:control" class="selflink">#</a></p><div class="doc"><p>An often used composition: <code>control f = <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> f &gt;&gt;= <code><a href="Control-Monad-Trans-Control.html#v:restoreM" title="Control.Monad.Trans.Control">restoreM</a></code></code></p><p>Example:</p><pre>liftedBracket :: MonadBaseControl IO m =&gt; m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c
liftedBracket acquire release action = control $ \runInBase -&gt;
    bracket (runInBase acquire)
            (\saved -&gt; runInBase (restoreM saved &gt;&gt;= release))
            (\saved -&gt; runInBase (restoreM saved &gt;&gt;= action))
</pre></div></div><div class="top"><p class="src"><a id="v:controlT" class="def">controlT</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (<a href="Control-Monad-Trans-Control.html#t:Run" title="Control.Monad.Trans.Control">Run</a> t -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a)) -&gt; t m a <a href="src/Control.Monad.Trans.Control.html#controlT" class="link">Source</a> <a href="#v:controlT" class="selflink">#</a></p><div class="doc"><p>Lift a computation and restore the monadic state immediately:
 <code>controlT f = <code><a href="Control-Monad-Trans-Control.html#v:liftWith" title="Control.Monad.Trans.Control">liftWith</a></code> f &gt;&gt;= <code><a href="Control-Monad-Trans-Control.html#v:restoreT" title="Control.Monad.Trans.Control">restoreT</a></code> . return</code>.</p></div></div><div class="top"><p class="src"><a id="v:embed" class="def">embed</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (a -&gt; m c) -&gt; m (a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m c)) <a href="src/Control.Monad.Trans.Control.html#embed" class="link">Source</a> <a href="#v:embed" class="selflink">#</a></p><div class="doc"><p>Embed a transformer function as an function in the base monad returning a
 mutated transformer state.</p></div></div><div class="top"><p class="src"><a id="v:embed_" class="def">embed_</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (a -&gt; m ()) -&gt; m (a -&gt; b ()) <a href="src/Control.Monad.Trans.Control.html#embed_" class="link">Source</a> <a href="#v:embed_" class="selflink">#</a></p><div class="doc"><p>Performs the same function as <code><a href="Control-Monad-Trans-Control.html#v:embed" title="Control.Monad.Trans.Control">embed</a></code>, but discards transformer state
 from the embedded function.</p></div></div><div class="top"><p class="src"><a id="v:captureT" class="def">captureT</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; t m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t ()) <a href="src/Control.Monad.Trans.Control.html#captureT" class="link">Source</a> <a href="#v:captureT" class="selflink">#</a></p><div class="doc"><p>Capture the current state of a transformer</p></div></div><div class="top"><p class="src"><a id="v:captureM" class="def">captureM</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; m (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m ()) <a href="src/Control.Monad.Trans.Control.html#captureM" class="link">Source</a> <a href="#v:captureM" class="selflink">#</a></p><div class="doc"><p>Capture the current state above the base monad</p></div></div><div class="top"><p class="src"><a id="v:liftBaseOp" class="def">liftBaseOp</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; ((a -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m c)) -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m d)) -&gt; (a -&gt; m c) -&gt; m d <a href="src/Control.Monad.Trans.Control.html#liftBaseOp" class="link">Source</a> <a href="#v:liftBaseOp" class="selflink">#</a></p><div class="doc"><p><code>liftBaseOp</code> is a particular application of <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> that allows
 lifting control operations of type:</p><pre>((a -&gt; b c) -&gt; b c)</pre><p>to:</p><pre>(<code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> b m =&gt; (a -&gt; m c) -&gt; m c)</pre><p>For example:</p><pre>liftBaseOp alloca :: (Storable a, <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> m) =&gt; (Ptr a -&gt; m c) -&gt; m c</pre></div></div><div class="top"><p class="src"><a id="v:liftBaseOp_" class="def">liftBaseOp_</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m a) -&gt; b (<a href="Control-Monad-Trans-Control.html#t:StM" title="Control.Monad.Trans.Control">StM</a> m c)) -&gt; m a -&gt; m c <a href="src/Control.Monad.Trans.Control.html#liftBaseOp_" class="link">Source</a> <a href="#v:liftBaseOp_" class="selflink">#</a></p><div class="doc"><p><code>liftBaseOp_</code> is a particular application of <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> that allows
 lifting control operations of type:</p><pre>(b a -&gt; b a)</pre><p>to:</p><pre>(<code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> b m =&gt; m a -&gt; m a)</pre><p>For example:</p><pre>liftBaseOp_ mask_ :: <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> m =&gt; m a -&gt; m a</pre></div></div><div class="top"><p class="src"><a id="v:liftBaseDiscard" class="def">liftBaseDiscard</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; (b () -&gt; b a) -&gt; m () -&gt; m a <a href="src/Control.Monad.Trans.Control.html#liftBaseDiscard" class="link">Source</a> <a href="#v:liftBaseDiscard" class="selflink">#</a></p><div class="doc"><p><code>liftBaseDiscard</code> is a particular application of <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> that allows
 lifting control operations of type:</p><pre>(b () -&gt; b a)</pre><p>to:</p><pre>(<code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> b m =&gt; m () -&gt; m a)</pre><p>Note that, while the argument computation <code>m ()</code> has access to the captured
 state, all its side-effects in <code>m</code> are discarded. It is run only for its
 side-effects in the base monad <code>b</code>.</p><p>For example:</p><pre>liftBaseDiscard forkIO :: <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> m =&gt; m () -&gt; m ThreadId</pre></div></div><div class="top"><p class="src"><a id="v:liftBaseOpDiscard" class="def">liftBaseOpDiscard</a> :: <a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> b m =&gt; ((a -&gt; b ()) -&gt; b c) -&gt; (a -&gt; m ()) -&gt; m c <a href="src/Control.Monad.Trans.Control.html#liftBaseOpDiscard" class="link">Source</a> <a href="#v:liftBaseOpDiscard" class="selflink">#</a></p><div class="doc"><p><code>liftBaseOpDiscard</code> is a particular application of <code><a href="Control-Monad-Trans-Control.html#v:liftBaseWith" title="Control.Monad.Trans.Control">liftBaseWith</a></code> that allows
 lifting control operations of type:</p><pre>((a -&gt; b ()) -&gt; b c)</pre><p>to:</p><pre>(<code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> b m =&gt; (a -&gt; m ()) -&gt; m c)</pre><p>Note that, while the argument computation <code>m ()</code> has access to the captured
 state, all its side-effects in <code>m</code> are discarded. It is run only for its
 side-effects in the base monad <code>b</code>.</p><p>For example:</p><pre>liftBaseDiscard (runServer addr port) :: <code><a href="Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a></code> <code><a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a></code> m =&gt; m () -&gt; m ()</pre></div></div><div class="top"><p class="src"><a id="v:liftThrough" class="def">liftThrough</a> :: (<a href="Control-Monad-Trans-Control.html#t:MonadTransControl" title="Control.Monad.Trans.Control">MonadTransControl</a> t, <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t a) -&gt; m (<a href="Control-Monad-Trans-Control.html#t:StT" title="Control.Monad.Trans.Control">StT</a> t b)) -&gt; t m a -&gt; t m b <a href="src/Control.Monad.Trans.Control.html#liftThrough" class="link">Source</a> <a href="#v:liftThrough" class="selflink">#</a></p><div class="doc"><p>Transform an action in <code>t m</code> using a transformer that operates on the underlying monad <code>m</code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>