<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-top-binds #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Unison.Util.Bytes</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier">Chunk</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromByteString"><span class="hs-identifier">fromByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toByteString"><span class="hs-identifier">toByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromWord8s"><span class="hs-identifier">fromWord8s</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toWord8s"><span class="hs-identifier">toWord8s</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase16"><span class="hs-identifier">fromBase16</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toBase16"><span class="hs-identifier">toBase16</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase32"><span class="hs-identifier">fromBase32</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toBase32"><span class="hs-identifier">toBase32</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase64"><span class="hs-identifier">fromBase64</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toBase64"><span class="hs-identifier">toBase64</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase64UrlUnpadded"><span class="hs-identifier">fromBase64UrlUnpadded</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toBase64UrlUnpadded"><span class="hs-identifier">toBase64UrlUnpadded</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#chunkFromByteString"><span class="hs-identifier">chunkFromByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#byteStringToChunk"><span class="hs-identifier">byteStringToChunk</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#chunkToByteString"><span class="hs-identifier">chunkToByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromChunks"><span class="hs-identifier">fromChunks</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier">chunks</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#byteStringChunks"><span class="hs-identifier">byteStringChunks</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toArray"><span class="hs-identifier">toArray</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#fromArray"><span class="hs-identifier">fromArray</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier">toLazyByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#flatten"><span class="hs-identifier">flatten</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#at"><span class="hs-identifier">at</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#take"><span class="hs-identifier">take</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#drop"><span class="hs-identifier">drop</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#indexOf"><span class="hs-identifier">indexOf</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#size"><span class="hs-identifier">size</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier">empty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat16be"><span class="hs-identifier">encodeNat16be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat16be"><span class="hs-identifier">decodeNat16be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat32be"><span class="hs-identifier">encodeNat32be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat32be"><span class="hs-identifier">decodeNat32be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat64be"><span class="hs-identifier">encodeNat64be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat64be"><span class="hs-identifier">decodeNat64be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat16le"><span class="hs-identifier">encodeNat16le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat16le"><span class="hs-identifier">decodeNat16le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat32le"><span class="hs-identifier">encodeNat32le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat32le"><span class="hs-identifier">decodeNat32le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat64le"><span class="hs-identifier">encodeNat64le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat64le"><span class="hs-identifier">decodeNat64le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-identifier">decodeUtf8</span></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><span class="hs-identifier">encodeUtf8</span></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#zlibCompress"><span class="hs-identifier">zlibCompress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#zlibDecompress"><span class="hs-identifier">zlibDecompress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#gzipCompress"><span class="hs-identifier">gzipCompress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="Unison.Util.Bytes.html#gzipDecompress"><span class="hs-identifier">gzipDecompress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">where</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Basement.Block.Mutable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Block</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Block</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Compression.GZip</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GZip</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Compression.Zlib</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Zlib</span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Primitive</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeIOToPrim</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">shiftL</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">shiftR</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.|.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteArray</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BA</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteArray.Encoding</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BE</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LB</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy.Search</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SS</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Primitive.ByteArray</span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">ByteArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteArray</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="hs-identifier">copyByteArrayToPtr</span></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Primitive.Ptr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">copyPtrToMutableByteArray</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Primitive</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Primitive.Mutable</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MV</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SV</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable.ByteString</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSV</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable.Mutable</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MSV</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.ForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">withForeignPtr</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.Storable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pokeByteOff</span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Util.Rope</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">R</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unsafe.Coerce</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeCoerce</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">drop</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">take</span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">type</span><span> </span><span id="Chunk"><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-var">Chunk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- Bytes type represented as a rope of ByteStrings</span><span>
</span><span id="line-89"></span><span class="hs-keyword">newtype</span><span> </span><span id="Bytes"><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Bytes"><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Aunderlying%3ABytes"><span class="annot"><span class="annottext">Bytes -&gt; Rope Chunk
</span><a href="Unison.Util.Bytes.html#%24sel%3Aunderlying%3ABytes"><span class="hs-identifier hs-var hs-var">underlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">R.Rope</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108085"><span id="local-6989586621679108090"><span class="annot"><span class="annottext">Bytes -&gt; Bytes -&gt; Bool
(Bytes -&gt; Bytes -&gt; Bool) -&gt; (Bytes -&gt; Bytes -&gt; Bool) -&gt; Eq Bytes
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Bytes -&gt; Bytes -&gt; Bool
== :: Bytes -&gt; Bytes -&gt; Bool
$c/= :: Bytes -&gt; Bytes -&gt; Bool
/= :: Bytes -&gt; Bytes -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108100"><span id="local-6989586621679108105"><span id="local-6989586621679108109"><span id="local-6989586621679108113"><span id="local-6989586621679108116"><span id="local-6989586621679108119"><span id="local-6989586621679108122"><span class="annot"><span class="annottext">Eq Bytes
Eq Bytes =&gt;
(Bytes -&gt; Bytes -&gt; Ordering)
-&gt; (Bytes -&gt; Bytes -&gt; Bool)
-&gt; (Bytes -&gt; Bytes -&gt; Bool)
-&gt; (Bytes -&gt; Bytes -&gt; Bool)
-&gt; (Bytes -&gt; Bytes -&gt; Bool)
-&gt; (Bytes -&gt; Bytes -&gt; Bytes)
-&gt; (Bytes -&gt; Bytes -&gt; Bytes)
-&gt; Ord Bytes
Bytes -&gt; Bytes -&gt; Bool
Bytes -&gt; Bytes -&gt; Ordering
Bytes -&gt; Bytes -&gt; Bytes
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Bytes -&gt; Bytes -&gt; Ordering
compare :: Bytes -&gt; Bytes -&gt; Ordering
$c&lt; :: Bytes -&gt; Bytes -&gt; Bool
&lt; :: Bytes -&gt; Bytes -&gt; Bool
$c&lt;= :: Bytes -&gt; Bytes -&gt; Bool
&lt;= :: Bytes -&gt; Bytes -&gt; Bool
$c&gt; :: Bytes -&gt; Bytes -&gt; Bool
&gt; :: Bytes -&gt; Bytes -&gt; Bool
$c&gt;= :: Bytes -&gt; Bytes -&gt; Bool
&gt;= :: Bytes -&gt; Bytes -&gt; Bool
$cmax :: Bytes -&gt; Bytes -&gt; Bytes
max :: Bytes -&gt; Bytes -&gt; Bytes
$cmin :: Bytes -&gt; Bytes -&gt; Bytes
min :: Bytes -&gt; Bytes -&gt; Bytes
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108127"><span id="local-6989586621679108132"><span id="local-6989586621679108138"><span class="annot"><span class="annottext">NonEmpty Bytes -&gt; Bytes
Bytes -&gt; Bytes -&gt; Bytes
(Bytes -&gt; Bytes -&gt; Bytes)
-&gt; (NonEmpty Bytes -&gt; Bytes)
-&gt; (forall b. Integral b =&gt; b -&gt; Bytes -&gt; Bytes)
-&gt; Semigroup Bytes
forall b. Integral b =&gt; b -&gt; Bytes -&gt; Bytes
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
$c&lt;&gt; :: Bytes -&gt; Bytes -&gt; Bytes
&lt;&gt; :: Bytes -&gt; Bytes -&gt; Bytes
$csconcat :: NonEmpty Bytes -&gt; Bytes
sconcat :: NonEmpty Bytes -&gt; Bytes
$cstimes :: forall b. Integral b =&gt; b -&gt; Bytes -&gt; Bytes
stimes :: forall b. Integral b =&gt; b -&gt; Bytes -&gt; Bytes
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108148"><span id="local-6989586621679108153"><span id="local-6989586621679108157"><span class="annot"><span class="annottext">Semigroup Bytes
Bytes
Semigroup Bytes =&gt;
Bytes
-&gt; (Bytes -&gt; Bytes -&gt; Bytes) -&gt; ([Bytes] -&gt; Bytes) -&gt; Monoid Bytes
[Bytes] -&gt; Bytes
Bytes -&gt; Bytes -&gt; Bytes
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
$cmempty :: Bytes
mempty :: Bytes
$cmappend :: Bytes -&gt; Bytes -&gt; Bytes
mappend :: Bytes -&gt; Bytes -&gt; Bytes
$cmconcat :: [Bytes] -&gt; Bytes
mconcat :: [Bytes] -&gt; Bytes
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">R.Sized</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679108164"><span class="annot"><span class="annottext">size :: Chunk -&gt; Int
</span><a href="#local-6989586621679108164"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int
forall a. Prim a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">R.Drop</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679108170"><span class="annot"><span class="annottext">drop :: Int -&gt; Chunk -&gt; Chunk
</span><a href="#local-6989586621679108170"><span class="hs-identifier hs-var hs-var hs-var hs-var">drop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Chunk -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; Vector a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.drop</span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">R.Take</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679108176"><span class="annot"><span class="annottext">take :: Int -&gt; Chunk -&gt; Chunk
</span><a href="#local-6989586621679108176"><span class="hs-identifier hs-var hs-var hs-var hs-var">take</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Chunk -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; Vector a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.take</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">R.Index</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679108182"><span class="annot"><span class="annottext">unsafeIndex :: Int -&gt; Chunk -&gt; Word8
</span><a href="#local-6989586621679108182"><span class="hs-identifier hs-var hs-var hs-var hs-var">unsafeIndex</span></a></span></span><span> </span><span id="local-6989586621679108184"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108184"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679108185"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108185"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108185"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`V.unsafeIndex`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108184"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">R.Reverse</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679108191"><span class="annot"><span class="annottext">reverse :: Chunk -&gt; Chunk
</span><a href="#local-6989586621679108191"><span class="hs-identifier hs-var hs-var hs-var hs-var">reverse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Chunk
forall a. Prim a =&gt; Vector a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.reverse</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679108197"><span class="annot"><span class="annottext">rnf :: Bytes -&gt; ()
</span><a href="#local-6989586621679108197"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="annot"><a href="Unison.Util.Bytes.html#null"><span class="hs-identifier hs-type">null</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-106"></span><span id="null"><span class="annot"><span class="annottext">null :: Bytes -&gt; Bool
</span><a href="Unison.Util.Bytes.html#null"><span class="hs-identifier hs-var hs-var">null</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bool
forall a. Sized a =&gt; Rope a -&gt; Bool
</span><span class="hs-identifier hs-var">R.null</span></span><span> </span><span class="annot"><span class="annottext">(Rope Chunk -&gt; Bool) -&gt; (Bytes -&gt; Rope Chunk) -&gt; Bytes -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Rope Chunk
</span><a href="Unison.Util.Bytes.html#%24sel%3Aunderlying%3ABytes"><span class="hs-identifier hs-var">underlying</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="annot"><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-type">empty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-109"></span><span id="empty"><span class="annot"><span class="annottext">empty :: Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Unison.Util.Bytes.html#isAscii"><span class="hs-identifier hs-type">isAscii</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-112"></span><span id="isAscii"><span class="annot"><span class="annottext">isAscii :: Bytes -&gt; Bool
</span><a href="Unison.Util.Bytes.html#isAscii"><span class="hs-identifier hs-var hs-var">isAscii</span></a></span></span><span> </span><span id="local-6989586621679108203"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108203"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Chunk -&gt; Bool) -&gt; [Chunk] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word8 -&gt; Bool) -&gt; Chunk -&gt; Bool
forall a. Prim a =&gt; (a -&gt; Bool) -&gt; Vector a -&gt; Bool
</span><span class="hs-identifier hs-var">V.all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0x7F</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108203"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromByteString"><span class="hs-identifier hs-type">fromByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-115"></span><span id="fromByteString"><span class="annot"><span class="annottext">fromByteString :: ByteString -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromByteString"><span class="hs-identifier hs-var hs-var">fromByteString</span></a></span></span><span> </span><span id="local-6989586621679108207"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108207"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#byteStringToChunk"><span class="hs-identifier hs-var">byteStringToChunk</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108207"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="annot"><a href="Unison.Util.Bytes.html#toByteString"><span class="hs-identifier hs-type">toByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span>
</span><span id="line-118"></span><span id="toByteString"><span class="annot"><span class="annottext">toByteString :: Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toByteString"><span class="hs-identifier hs-var hs-var">toByteString</span></a></span></span><span> </span><span id="local-6989586621679108209"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108209"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><span class="hs-identifier hs-var">B.concat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Chunk -&gt; ByteString) -&gt; [Chunk] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#chunkToByteString"><span class="hs-identifier hs-var">chunkToByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108209"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span id="local-6989586621679107681"><span class="annot"><a href="Unison.Util.Bytes.html#toArray"><span class="hs-identifier hs-type">toArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BA.ByteArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679107681"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107681"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-121"></span><span id="toArray"><span class="annot"><span class="annottext">toArray :: forall b. ByteArray b =&gt; Bytes -&gt; b
</span><a href="Unison.Util.Bytes.html#toArray"><span class="hs-identifier hs-var hs-var">toArray</span></a></span></span><span> </span><span id="local-6989586621679108214"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108214"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; b
forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-var">chunkToArray</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk -&gt; b) -&gt; Chunk -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Chunk] -&gt; Chunk
forall a. Prim a =&gt; [Vector a] -&gt; Vector a
</span><span class="hs-identifier hs-var">V.concat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108214"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span id="local-6989586621679107688"><span class="annot"><a href="Unison.Util.Bytes.html#fromArray"><span class="hs-identifier hs-type">fromArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BA.ByteArrayAccess</span></span><span> </span><span class="annot"><a href="#local-6989586621679107688"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107688"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span></span><span>
</span><span id="line-124"></span><span id="fromArray"><span class="annot"><span class="annottext">fromArray :: forall b. ByteArrayAccess b =&gt; b -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromArray"><span class="hs-identifier hs-var hs-var">fromArray</span></a></span></span><span> </span><span id="local-6989586621679108219"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679108219"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Chunk
forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-identifier hs-var">arrayToChunk</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679108219"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Unison.Util.Bytes.html#byteStringToChunk"><span class="hs-identifier hs-type">byteStringToChunk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#chunkFromByteString"><span class="hs-identifier hs-type">chunkFromByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span>
</span><span id="line-127"></span><span id="byteStringToChunk"><span class="annot"><span class="annottext">byteStringToChunk :: ByteString -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#byteStringToChunk"><span class="hs-identifier hs-var hs-var">byteStringToChunk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector Word8 -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#fromStorable"><span class="hs-identifier hs-var">fromStorable</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector Word8 -&gt; Chunk)
-&gt; (ByteString -&gt; Vector Word8) -&gt; ByteString -&gt; Chunk
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Vector Word8
forall a. Storable a =&gt; ByteString -&gt; Vector a
</span><span class="hs-identifier hs-var">BSV.byteStringToVector</span></span><span>
</span><span id="line-128"></span><span id="chunkFromByteString"><span class="annot"><span class="annottext">chunkFromByteString :: ByteString -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#chunkFromByteString"><span class="hs-identifier hs-var hs-var">chunkFromByteString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#byteStringToChunk"><span class="hs-identifier hs-var">byteStringToChunk</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="annot"><a href="Unison.Util.Bytes.html#chunkToByteString"><span class="hs-identifier hs-type">chunkToByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span>
</span><span id="line-131"></span><span id="chunkToByteString"><span class="annot"><span class="annottext">chunkToByteString :: Chunk -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#chunkToByteString"><span class="hs-identifier hs-var hs-var">chunkToByteString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector Word8 -&gt; ByteString
forall a. Storable a =&gt; Vector a -&gt; ByteString
</span><span class="hs-identifier hs-var">BSV.vectorToByteString</span></span><span> </span><span class="annot"><span class="annottext">(Vector Word8 -&gt; ByteString)
-&gt; (Chunk -&gt; Vector Word8) -&gt; Chunk -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Vector Word8
</span><a href="Unison.Util.Bytes.html#toStorable"><span class="hs-identifier hs-var">toStorable</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromStorable"><span class="hs-identifier hs-type">fromStorable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-134"></span><span id="fromStorable"><span class="annot"><span class="annottext">fromStorable :: Vector Word8 -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#fromStorable"><span class="hs-identifier hs-var hs-var">fromStorable</span></a></span></span><span> </span><span id="local-6989586621679108225"><span class="annot"><span class="annottext">Vector Word8
</span><a href="#local-6989586621679108225"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="annottext">(forall s. ST s (MVector s Word8)) -&gt; Chunk
forall a. Prim a =&gt; (forall s. ST s (MVector s a)) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.create</span></span><span> </span><span class="annot"><span class="annottext">((forall s. ST s (MVector s Word8)) -&gt; Chunk)
-&gt; (forall s. ST s (MVector s Word8)) -&gt; Chunk
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MSV.MVector</span></span><span> </span><span id="local-6989586621679108242"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108242"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679108243"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679108243"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Vector Word8 -&gt; ST s (MVector (PrimState (ST s)) Word8)
forall a (m :: * -&gt; *).
(Storable a, PrimMonad m) =&gt;
Vector a -&gt; m (MVector (PrimState m) a)
</span><span class="hs-identifier hs-var">SV.unsafeThaw</span></span><span> </span><span class="annot"><span class="annottext">Vector Word8
</span><a href="#local-6989586621679108225"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679108245"><span class="annot"><span class="annottext">v :: MVector s Word8
</span><a href="#local-6989586621679108245"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MV.MVector</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679108247"><span class="annot"><span class="annottext">MutableByteArray s
</span><a href="#local-6989586621679108247"><span class="hs-identifier hs-var">ba</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ST s (MVector (PrimState (ST s)) Word8)
forall (m :: * -&gt; *) a.
(PrimMonad m, Prim a) =&gt;
Int -&gt; m (MVector (PrimState m) a)
</span><span class="hs-identifier hs-var">MV.unsafeNew</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108242"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; ST s ()
forall (m :: * -&gt; *) a. PrimMonad m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">unsafeIOToPrim</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ST s ())
-&gt; ((Ptr Word8 -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr Word8 -&gt; IO ())
-&gt; ST s ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; (Ptr Word8 -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679108243"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Word8 -&gt; IO ()) -&gt; ST s ())
-&gt; (Ptr Word8 -&gt; IO ()) -&gt; ST s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679108249"><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679108249"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-139"></span><span>      </span><span class="hs-comment">-- Note: unsafeCoerce is for s -&gt; RealWorld in byte array type</span><span>
</span><span id="line-140"></span><span>      </span><span class="annot"><span class="annottext">MutableByteArray (PrimState IO) -&gt; Int -&gt; Ptr Word8 -&gt; Int -&gt; IO ()
forall (m :: * -&gt; *) a.
(PrimMonad m, Prim a) =&gt;
MutableByteArray (PrimState m) -&gt; Int -&gt; Ptr a -&gt; Int -&gt; m ()
</span><span class="hs-identifier hs-var">copyPtrToMutableByteArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MutableByteArray s -&gt; MutableByteArray RealWorld
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">MutableByteArray s
</span><a href="#local-6989586621679108247"><span class="hs-identifier hs-var">ba</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679108249"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108242"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="annot"><span class="annottext">MVector s Word8
</span><a href="#local-6989586621679108245"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="annot"><a href="Unison.Util.Bytes.html#toStorable"><span class="hs-identifier hs-type">toStorable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SV.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-144"></span><span id="toStorable"><span class="annot"><span class="annottext">toStorable :: Chunk -&gt; Vector Word8
</span><a href="Unison.Util.Bytes.html#toStorable"><span class="hs-identifier hs-var hs-var">toStorable</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span id="local-6989586621679108251"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108251"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621679108252"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108252"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679108253"><span class="annot"><span class="annottext">ByteArray
</span><a href="#local-6989586621679108253"><span class="hs-identifier hs-var">ba</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. ST s (MVector s Word8)) -&gt; Vector Word8
forall a. Storable a =&gt; (forall s. ST s (MVector s a)) -&gt; Vector a
</span><span class="hs-identifier hs-var">SV.create</span></span><span> </span><span class="annot"><span class="annottext">((forall s. ST s (MVector s Word8)) -&gt; Vector Word8)
-&gt; (forall s. ST s (MVector s Word8)) -&gt; Vector Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679108262"><span class="annot"><span class="annottext">v :: MVector s Word8
</span><a href="#local-6989586621679108262"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MSV.MVector</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679108263"><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679108263"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ST s (MVector (PrimState (ST s)) Word8)
forall (m :: * -&gt; *) a.
(PrimMonad m, Storable a) =&gt;
Int -&gt; m (MVector (PrimState m) a)
</span><span class="hs-identifier hs-var">MSV.unsafeNew</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108252"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ST s ()
forall (m :: * -&gt; *) a. PrimMonad m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">unsafeIOToPrim</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ST s ())
-&gt; ((Ptr Word8 -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr Word8 -&gt; IO ())
-&gt; ST s ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8 -&gt; (Ptr Word8 -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Word8
</span><a href="#local-6989586621679108263"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Word8 -&gt; IO ()) -&gt; ST s ())
-&gt; (Ptr Word8 -&gt; IO ()) -&gt; ST s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679108265"><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679108265"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="annottext">Ptr Word8 -&gt; ByteArray -&gt; Int -&gt; Int -&gt; IO ()
forall (m :: * -&gt; *) a.
(PrimMonad m, Prim a) =&gt;
Ptr a -&gt; ByteArray -&gt; Int -&gt; Int -&gt; m ()
</span><span class="hs-identifier hs-var">copyByteArrayToPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr Word8
</span><a href="#local-6989586621679108265"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">ByteArray
</span><a href="#local-6989586621679108253"><span class="hs-identifier hs-var">ba</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108251"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108252"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-identifier">pure</span><span> </span><span class="annot"><span class="annottext">MVector s Word8
</span><a href="#local-6989586621679108262"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><a href="Unison.Util.Bytes.html#zlibCompress"><span class="hs-identifier hs-type">zlibCompress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-151"></span><span id="zlibCompress"><span class="annot"><span class="annottext">zlibCompress :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#zlibCompress"><span class="hs-identifier hs-var hs-var">zlibCompress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromLazyByteString"><span class="hs-identifier hs-var">fromLazyByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Bytes) -&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; Bytes
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">Zlib.compress</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Unison.Util.Bytes.html#gzipCompress"><span class="hs-identifier hs-type">gzipCompress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-154"></span><span id="gzipCompress"><span class="annot"><span class="annottext">gzipCompress :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#gzipCompress"><span class="hs-identifier hs-var hs-var">gzipCompress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromLazyByteString"><span class="hs-identifier hs-var">fromLazyByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Bytes) -&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; Bytes
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">GZip.compress</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Unison.Util.Bytes.html#gzipDecompress"><span class="hs-identifier hs-type">gzipDecompress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-157"></span><span id="gzipDecompress"><span class="annot"><span class="annottext">gzipDecompress :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#gzipDecompress"><span class="hs-identifier hs-var hs-var">gzipDecompress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromLazyByteString"><span class="hs-identifier hs-var">fromLazyByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Bytes) -&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; Bytes
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">GZip.decompress</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Unison.Util.Bytes.html#zlibDecompress"><span class="hs-identifier hs-type">zlibDecompress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-160"></span><span id="zlibDecompress"><span class="annot"><span class="annottext">zlibDecompress :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#zlibDecompress"><span class="hs-identifier hs-var hs-var">zlibDecompress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromLazyByteString"><span class="hs-identifier hs-var">fromLazyByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Bytes) -&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; Bytes
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">Zlib.decompress</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Bytes -&gt; ByteString) -&gt; Bytes -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-type">toLazyByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LB.ByteString</span></span><span>
</span><span id="line-163"></span><span id="toLazyByteString"><span class="annot"><span class="annottext">toLazyByteString :: Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-var hs-var">toLazyByteString</span></a></span></span><span> </span><span id="local-6989586621679108271"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108271"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><span class="hs-identifier hs-var">LB.fromChunks</span></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; ByteString) -&gt; [ByteString] -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Chunk -&gt; ByteString) -&gt; [Chunk] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#chunkToByteString"><span class="hs-identifier hs-var">chunkToByteString</span></a></span><span> </span><span class="annot"><span class="annottext">([Chunk] -&gt; [ByteString]) -&gt; [Chunk] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108271"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromLazyByteString"><span class="hs-identifier hs-type">fromLazyByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LB.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-166"></span><span id="fromLazyByteString"><span class="annot"><span class="annottext">fromLazyByteString :: ByteString -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromLazyByteString"><span class="hs-identifier hs-var hs-var">fromLazyByteString</span></a></span></span><span> </span><span id="local-6989586621679108273"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108273"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Chunk] -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromChunks"><span class="hs-identifier hs-var">fromChunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#byteStringToChunk"><span class="hs-identifier hs-var">byteStringToChunk</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Chunk) -&gt; [ByteString] -&gt; [Chunk]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><span class="hs-identifier hs-var">LB.toChunks</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108273"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="annot"><a href="Unison.Util.Bytes.html#size"><span class="hs-identifier hs-type">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-169"></span><span id="size"><span class="annot"><span class="annottext">size :: Bytes -&gt; Int
</span><a href="Unison.Util.Bytes.html#size"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Int
forall a. Sized a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">R.size</span></span><span> </span><span class="annot"><span class="annottext">(Rope Chunk -&gt; Int) -&gt; (Bytes -&gt; Rope Chunk) -&gt; Bytes -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Rope Chunk
</span><a href="Unison.Util.Bytes.html#%24sel%3Aunderlying%3ABytes"><span class="hs-identifier hs-var">underlying</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="annot"><a href="Unison.Util.Bytes.html#chunkSize"><span class="hs-identifier hs-type">chunkSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-172"></span><span id="chunkSize"><span class="annot"><span class="annottext">chunkSize :: Chunk -&gt; Int
</span><a href="Unison.Util.Bytes.html#chunkSize"><span class="hs-identifier hs-var hs-var">chunkSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int
forall a. Prim a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="annot"><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-type">chunks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-175"></span><span id="chunks"><span class="annot"><span class="annottext">chunks :: Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var hs-var">chunks</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108277"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108277"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; [Chunk]
forall a. Rope a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108277"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="annot"><a href="Unison.Util.Bytes.html#byteStringChunks"><span class="hs-identifier hs-type">byteStringChunks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">]</span><span>
</span><span id="line-178"></span><span id="byteStringChunks"><span class="annot"><span class="annottext">byteStringChunks :: Bytes -&gt; [ByteString]
</span><a href="Unison.Util.Bytes.html#byteStringChunks"><span class="hs-identifier hs-var hs-var">byteStringChunks</span></a></span></span><span> </span><span id="local-6989586621679108279"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108279"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#chunkToByteString"><span class="hs-identifier hs-var">chunkToByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk -&gt; ByteString) -&gt; [Chunk] -&gt; [ByteString]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108279"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromChunks"><span class="hs-identifier hs-type">fromChunks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-181"></span><span id="fromChunks"><span class="annot"><span class="annottext">fromChunks :: [Chunk] -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromChunks"><span class="hs-identifier hs-var hs-var">fromChunks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bytes -&gt; Chunk -&gt; Bytes) -&gt; Bytes -&gt; [Chunk] -&gt; Bytes
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="annot"><a href="Unison.Util.Bytes.html#cons"><span class="hs-identifier hs-type">cons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-184"></span><span id="cons"><span class="annot"><span class="annottext">cons :: Chunk -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#cons"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621679108282"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108282"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108283"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108283"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk -&gt; Rope Chunk
forall a. (Sized a, Semigroup a) =&gt; a -&gt; Rope a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.cons</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108282"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108283"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-type">snoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-187"></span><span id="snoc"><span class="annot"><span class="annottext">snoc :: Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var hs-var">snoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108285"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108285"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679108286"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108286"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rope Chunk -&gt; Chunk -&gt; Rope Chunk
forall a. (Sized a, Semigroup a) =&gt; Rope a -&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.snoc</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108285"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108286"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><a href="Unison.Util.Bytes.html#flatten"><span class="hs-identifier hs-type">flatten</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-190"></span><span id="flatten"><span class="annot"><span class="annottext">flatten :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#flatten"><span class="hs-identifier hs-var hs-var">flatten</span></a></span></span><span> </span><span id="local-6989586621679108288"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108288"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Chunk] -&gt; Chunk
forall a. Prim a =&gt; [Vector a] -&gt; Vector a
</span><span class="hs-identifier hs-var">V.concat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108288"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="annot"><a href="Unison.Util.Bytes.html#take"><span class="hs-identifier hs-type">take</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-193"></span><span id="take"><span class="annot"><span class="annottext">take :: Int -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#take"><span class="hs-identifier hs-var hs-var">take</span></a></span></span><span> </span><span id="local-6989586621679108289"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108289"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108290"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108290"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rope Chunk -&gt; Rope Chunk
forall a. Take a =&gt; Int -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">R.take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108289"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108290"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><a href="Unison.Util.Bytes.html#drop"><span class="hs-identifier hs-type">drop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-196"></span><span id="drop"><span class="annot"><span class="annottext">drop :: Int -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#drop"><span class="hs-identifier hs-var hs-var">drop</span></a></span></span><span> </span><span id="local-6989586621679108291"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108291"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108292"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108292"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rope Chunk -&gt; Rope Chunk
forall a. Drop a =&gt; Int -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">R.drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108291"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108292"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Unison.Util.Bytes.html#indexOf"><span class="hs-identifier hs-type">indexOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-199"></span><span id="indexOf"><span class="annot"><span class="annottext">indexOf :: Bytes -&gt; Bytes -&gt; Maybe Word64
</span><a href="Unison.Util.Bytes.html#indexOf"><span class="hs-identifier hs-var hs-var">indexOf</span></a></span></span><span> </span><span id="local-6989586621679108293"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108293"><span class="hs-identifier hs-var">needle</span></a></span></span><span> </span><span id="local-6989586621679108294"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108294"><span class="hs-identifier hs-var">haystack</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; [Int64]
</span><span class="hs-identifier hs-var">SS.indices</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108296"><span class="hs-identifier hs-var">needle'</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108297"><span class="hs-identifier hs-var">haystack'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Word64
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679108298"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679108298"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[Int64]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679108298"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-204"></span><span>    </span><span id="local-6989586621679108296"><span class="annot"><span class="annottext">needle' :: ByteString
</span><a href="#local-6989586621679108296"><span class="hs-identifier hs-var hs-var">needle'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toByteString"><span class="hs-identifier hs-var">toByteString</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108293"><span class="hs-identifier hs-var">needle</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679108297"><span class="annot"><span class="annottext">haystack' :: ByteString
</span><a href="#local-6989586621679108297"><span class="hs-identifier hs-var hs-var">haystack'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; ByteString
</span><a href="Unison.Util.Bytes.html#toLazyByteString"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108294"><span class="hs-identifier hs-var">haystack</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="annot"><a href="Unison.Util.Bytes.html#at"><span class="hs-identifier hs-type">at</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#index"><span class="hs-identifier hs-type">index</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-208"></span><span id="at"><span class="annot"><span class="annottext">at :: Int -&gt; Bytes -&gt; Maybe Word8
</span><a href="Unison.Util.Bytes.html#at"><span class="hs-identifier hs-var hs-var">at</span></a></span></span><span> </span><span id="local-6989586621679108300"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108300"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108301"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108301"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Rope Chunk -&gt; Maybe Word8
forall a ch. (Sized a, Index a ch) =&gt; Int -&gt; Rope a -&gt; Maybe ch
</span><span class="hs-identifier hs-var">R.index</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108300"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108301"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-209"></span><span id="index"><span class="annot"><span class="annottext">index :: Int -&gt; Bytes -&gt; Maybe Word8
</span><a href="Unison.Util.Bytes.html#index"><span class="hs-identifier hs-var hs-var">index</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe Word8
</span><a href="Unison.Util.Bytes.html#at"><span class="hs-identifier hs-var">at</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-type">dropBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span id="dropBlock"><span class="annot"><span class="annottext">dropBlock :: Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var hs-var">dropBlock</span></a></span></span><span> </span><span id="local-6989586621679108304"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108304"><span class="hs-identifier hs-var">nBytes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108305"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108305"><span class="hs-identifier hs-var">chunks</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk -&gt; Maybe (Chunk, Bytes)
</span><a href="#local-6989586621679108306"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108305"><span class="hs-identifier hs-var">chunks</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-214"></span><span>    </span><span id="local-6989586621679108306"><span class="annot"><span class="annottext">go :: Chunk -&gt; Rope Chunk -&gt; Maybe (Chunk, Bytes)
</span><a href="#local-6989586621679108306"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679108307"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108307"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679108308"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108308"><span class="hs-identifier hs-var">chunks</span></a></span></span><span>
</span><span id="line-215"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int
forall a. Prim a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108307"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108304"><span class="hs-identifier hs-var">nBytes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Chunk, Bytes) -&gt; Maybe (Chunk, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108307"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108308"><span class="hs-identifier hs-var">chunks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int
forall a. Prim a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108307"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108304"><span class="hs-identifier hs-var">nBytes</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108309"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108309"><span class="hs-identifier hs-var">hd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108310"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108310"><span class="hs-identifier hs-var">hd2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Chunk -&gt; (Chunk, Chunk)
forall a. Prim a =&gt; Int -&gt; Vector a -&gt; (Vector a, Vector a)
</span><span class="hs-identifier hs-var">V.splitAt</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108304"><span class="hs-identifier hs-var">nBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108307"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Chunk, Bytes) -&gt; Maybe (Chunk, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108309"><span class="hs-identifier hs-var">hd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108310"><span class="hs-identifier hs-var">hd2</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk -&gt; Rope Chunk
forall a. (Sized a, Semigroup a) =&gt; a -&gt; Rope a -&gt; Rope a
</span><span class="hs-operator hs-var">`R.cons`</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108308"><span class="hs-identifier hs-var">chunks</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108312"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108312"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108313"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108313"><span class="hs-identifier hs-var">tail</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Maybe (Chunk, Rope Chunk)
forall a. Sized a =&gt; Rope a -&gt; Maybe (a, Rope a)
</span><span class="hs-identifier hs-var">R.uncons</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108308"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk -&gt; Maybe (Chunk, Bytes)
</span><a href="#local-6989586621679108306"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108307"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Chunk -&gt; Chunk
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108312"><span class="hs-identifier hs-var">head</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108313"><span class="hs-identifier hs-var">tail</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat64be"><span class="hs-identifier hs-type">decodeNat64be</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span id="decodeNat64be"><span class="annot"><span class="annottext">decodeNat64be :: Bytes -&gt; Maybe (Word64, Bytes)
</span><a href="Unison.Util.Bytes.html#decodeNat64be"><span class="hs-identifier hs-var hs-var">decodeNat64be</span></a></span></span><span> </span><span id="local-6989586621679108315"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108315"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var">dropBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108315"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108316"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108317"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108317"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108318"><span class="annot"><span class="annottext">b8 :: Word8
</span><a href="#local-6989586621679108318"><span class="hs-identifier hs-var hs-var">b8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-224"></span><span>        </span><span id="local-6989586621679108319"><span class="annot"><span class="annottext">b7 :: Word8
</span><a href="#local-6989586621679108319"><span class="hs-identifier hs-var hs-var">b7</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-225"></span><span>        </span><span id="local-6989586621679108320"><span class="annot"><span class="annottext">b6 :: Word8
</span><a href="#local-6989586621679108320"><span class="hs-identifier hs-var hs-var">b6</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-226"></span><span>        </span><span id="local-6989586621679108321"><span class="annot"><span class="annottext">b5 :: Word8
</span><a href="#local-6989586621679108321"><span class="hs-identifier hs-var hs-var">b5</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-227"></span><span>        </span><span id="local-6989586621679108322"><span class="annot"><span class="annottext">b4 :: Word8
</span><a href="#local-6989586621679108322"><span class="hs-identifier hs-var hs-var">b4</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-228"></span><span>        </span><span id="local-6989586621679108323"><span class="annot"><span class="annottext">b3 :: Word8
</span><a href="#local-6989586621679108323"><span class="hs-identifier hs-var hs-var">b3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-229"></span><span>        </span><span id="local-6989586621679108324"><span class="annot"><span class="annottext">b2 :: Word8
</span><a href="#local-6989586621679108324"><span class="hs-identifier hs-var hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-230"></span><span>        </span><span id="local-6989586621679108325"><span class="annot"><span class="annottext">b1 :: Word8
</span><a href="#local-6989586621679108325"><span class="hs-identifier hs-var hs-var">b1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108316"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-231"></span><span>        </span><span id="local-6989586621679108326"><span class="annot"><span class="annottext">b :: Word64
</span><a href="#local-6989586621679108326"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-232"></span><span>          </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108318"><span class="hs-identifier hs-var">b8</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">56</span></span><span>
</span><span id="line-233"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108319"><span class="hs-identifier hs-var">b7</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">48</span></span><span>
</span><span id="line-234"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108320"><span class="hs-identifier hs-var">b6</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">40</span></span><span>
</span><span id="line-235"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108321"><span class="hs-identifier hs-var">b5</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-236"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108322"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span>
</span><span id="line-237"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108323"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-238"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108324"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-239"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108325"><span class="hs-identifier hs-var">b1</span></a></span><span>
</span><span id="line-240"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word64, Bytes) -&gt; Maybe (Word64, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108326"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108317"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word64, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat64le"><span class="hs-identifier hs-type">decodeNat64le</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span id="decodeNat64le"><span class="annot"><span class="annottext">decodeNat64le :: Bytes -&gt; Maybe (Word64, Bytes)
</span><a href="Unison.Util.Bytes.html#decodeNat64le"><span class="hs-identifier hs-var hs-var">decodeNat64le</span></a></span></span><span> </span><span id="local-6989586621679108327"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108327"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var">dropBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108327"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-245"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108328"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108329"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108329"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108330"><span class="annot"><span class="annottext">b1 :: Word8
</span><a href="#local-6989586621679108330"><span class="hs-identifier hs-var hs-var">b1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-247"></span><span>        </span><span id="local-6989586621679108331"><span class="annot"><span class="annottext">b2 :: Word8
</span><a href="#local-6989586621679108331"><span class="hs-identifier hs-var hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-248"></span><span>        </span><span id="local-6989586621679108332"><span class="annot"><span class="annottext">b3 :: Word8
</span><a href="#local-6989586621679108332"><span class="hs-identifier hs-var hs-var">b3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-249"></span><span>        </span><span id="local-6989586621679108333"><span class="annot"><span class="annottext">b4 :: Word8
</span><a href="#local-6989586621679108333"><span class="hs-identifier hs-var hs-var">b4</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-250"></span><span>        </span><span id="local-6989586621679108334"><span class="annot"><span class="annottext">b5 :: Word8
</span><a href="#local-6989586621679108334"><span class="hs-identifier hs-var hs-var">b5</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-251"></span><span>        </span><span id="local-6989586621679108335"><span class="annot"><span class="annottext">b6 :: Word8
</span><a href="#local-6989586621679108335"><span class="hs-identifier hs-var hs-var">b6</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-252"></span><span>        </span><span id="local-6989586621679108336"><span class="annot"><span class="annottext">b7 :: Word8
</span><a href="#local-6989586621679108336"><span class="hs-identifier hs-var hs-var">b7</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-253"></span><span>        </span><span id="local-6989586621679108337"><span class="annot"><span class="annottext">b8 :: Word8
</span><a href="#local-6989586621679108337"><span class="hs-identifier hs-var hs-var">b8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108328"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-254"></span><span>        </span><span id="local-6989586621679108338"><span class="annot"><span class="annottext">b :: Word64
</span><a href="#local-6989586621679108338"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-255"></span><span>          </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108337"><span class="hs-identifier hs-var">b8</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">56</span></span><span>
</span><span id="line-256"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108336"><span class="hs-identifier hs-var">b7</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">48</span></span><span>
</span><span id="line-257"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108335"><span class="hs-identifier hs-var">b6</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">40</span></span><span>
</span><span id="line-258"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108334"><span class="hs-identifier hs-var">b5</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-259"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108333"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span>
</span><span id="line-260"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108332"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-261"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108331"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-262"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108330"><span class="hs-identifier hs-var">b1</span></a></span><span>
</span><span id="line-263"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word64, Bytes) -&gt; Maybe (Word64, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108338"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108329"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word64, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat32be"><span class="hs-identifier hs-type">decodeNat32be</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span id="decodeNat32be"><span class="annot"><span class="annottext">decodeNat32be :: Bytes -&gt; Maybe (Word64, Bytes)
</span><a href="Unison.Util.Bytes.html#decodeNat32be"><span class="hs-identifier hs-var hs-var">decodeNat32be</span></a></span></span><span> </span><span id="local-6989586621679108339"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108339"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var">dropBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108339"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108340"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108340"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108341"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108341"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108342"><span class="annot"><span class="annottext">b4 :: Word8
</span><a href="#local-6989586621679108342"><span class="hs-identifier hs-var hs-var">b4</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108340"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-270"></span><span>        </span><span id="local-6989586621679108343"><span class="annot"><span class="annottext">b3 :: Word8
</span><a href="#local-6989586621679108343"><span class="hs-identifier hs-var hs-var">b3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108340"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-271"></span><span>        </span><span id="local-6989586621679108344"><span class="annot"><span class="annottext">b2 :: Word8
</span><a href="#local-6989586621679108344"><span class="hs-identifier hs-var hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108340"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-272"></span><span>        </span><span id="local-6989586621679108345"><span class="annot"><span class="annottext">b1 :: Word8
</span><a href="#local-6989586621679108345"><span class="hs-identifier hs-var hs-var">b1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108340"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-273"></span><span>        </span><span id="local-6989586621679108346"><span class="annot"><span class="annottext">b :: Word64
</span><a href="#local-6989586621679108346"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>          </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108342"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span>
</span><span id="line-275"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108343"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-276"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108344"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-277"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108345"><span class="hs-identifier hs-var">b1</span></a></span><span>
</span><span id="line-278"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word64, Bytes) -&gt; Maybe (Word64, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108346"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108341"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word64, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat32le"><span class="hs-identifier hs-type">decodeNat32le</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span id="decodeNat32le"><span class="annot"><span class="annottext">decodeNat32le :: Bytes -&gt; Maybe (Word64, Bytes)
</span><a href="Unison.Util.Bytes.html#decodeNat32le"><span class="hs-identifier hs-var hs-var">decodeNat32le</span></a></span></span><span> </span><span id="local-6989586621679108347"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108347"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var">dropBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108347"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108348"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108348"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108349"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108349"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108350"><span class="annot"><span class="annottext">b1 :: Word8
</span><a href="#local-6989586621679108350"><span class="hs-identifier hs-var hs-var">b1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108348"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-285"></span><span>        </span><span id="local-6989586621679108351"><span class="annot"><span class="annottext">b2 :: Word8
</span><a href="#local-6989586621679108351"><span class="hs-identifier hs-var hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108348"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-286"></span><span>        </span><span id="local-6989586621679108352"><span class="annot"><span class="annottext">b3 :: Word8
</span><a href="#local-6989586621679108352"><span class="hs-identifier hs-var hs-var">b3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108348"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-287"></span><span>        </span><span id="local-6989586621679108353"><span class="annot"><span class="annottext">b4 :: Word8
</span><a href="#local-6989586621679108353"><span class="hs-identifier hs-var hs-var">b4</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108348"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-288"></span><span>        </span><span id="local-6989586621679108354"><span class="annot"><span class="annottext">b :: Word64
</span><a href="#local-6989586621679108354"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-289"></span><span>          </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108353"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span>
</span><span id="line-290"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108352"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-291"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108351"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-292"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108350"><span class="hs-identifier hs-var">b1</span></a></span><span>
</span><span id="line-293"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word64, Bytes) -&gt; Maybe (Word64, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108354"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108349"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word64, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat16be"><span class="hs-identifier hs-type">decodeNat16be</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span id="decodeNat16be"><span class="annot"><span class="annottext">decodeNat16be :: Bytes -&gt; Maybe (Word64, Bytes)
</span><a href="Unison.Util.Bytes.html#decodeNat16be"><span class="hs-identifier hs-var hs-var">decodeNat16be</span></a></span></span><span> </span><span id="local-6989586621679108355"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108355"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var">dropBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108355"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-298"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108356"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108356"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108357"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108357"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108358"><span class="annot"><span class="annottext">b2 :: Word8
</span><a href="#local-6989586621679108358"><span class="hs-identifier hs-var hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108356"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-300"></span><span>        </span><span id="local-6989586621679108359"><span class="annot"><span class="annottext">b1 :: Word8
</span><a href="#local-6989586621679108359"><span class="hs-identifier hs-var hs-var">b1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108356"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-301"></span><span>        </span><span id="local-6989586621679108360"><span class="annot"><span class="annottext">b :: Word64
</span><a href="#local-6989586621679108360"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-302"></span><span>          </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108358"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-303"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108359"><span class="hs-identifier hs-var">b1</span></a></span><span>
</span><span id="line-304"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word64, Bytes) -&gt; Maybe (Word64, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108360"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108357"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word64, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Unison.Util.Bytes.html#decodeNat16le"><span class="hs-identifier hs-type">decodeNat16le</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span id="decodeNat16le"><span class="annot"><span class="annottext">decodeNat16le :: Bytes -&gt; Maybe (Word64, Bytes)
</span><a href="Unison.Util.Bytes.html#decodeNat16le"><span class="hs-identifier hs-var hs-var">decodeNat16le</span></a></span></span><span> </span><span id="local-6989586621679108361"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108361"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bytes -&gt; Maybe (Chunk, Bytes)
</span><a href="Unison.Util.Bytes.html#dropBlock"><span class="hs-identifier hs-var">dropBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108361"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108362"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108362"><span class="hs-identifier hs-var">head</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108363"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108363"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108364"><span class="annot"><span class="annottext">b1 :: Word8
</span><a href="#local-6989586621679108364"><span class="hs-identifier hs-var hs-var">b1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108362"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-311"></span><span>        </span><span id="local-6989586621679108365"><span class="annot"><span class="annottext">b2 :: Word8
</span><a href="#local-6989586621679108365"><span class="hs-identifier hs-var hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108362"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-312"></span><span>        </span><span id="local-6989586621679108366"><span class="annot"><span class="annottext">b :: Word64
</span><a href="#local-6989586621679108366"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-313"></span><span>          </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108365"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-314"></span><span>            </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108364"><span class="hs-identifier hs-var">b1</span></a></span><span>
</span><span id="line-315"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word64, Bytes) -&gt; Maybe (Word64, Bytes)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108366"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108363"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Chunk, Bytes)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word64, Bytes)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="annot"><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-identifier hs-type">fillBE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-319"></span><span id="fillBE"><span class="annot"><span class="annottext">fillBE :: Word64 -&gt; Int -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-identifier hs-var hs-var">fillBE</span></a></span></span><span> </span><span id="local-6989586621679108368"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108368"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679108369"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108369"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108368"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108369"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span class="annot"><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-identifier hs-var">fillBE</span></a></span><span> </span><span id="local-6989586621679108371"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108371"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679108372"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108372"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679108373"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108373"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108371"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108372"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108373"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-pragma hs-type">fillBE</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat64be"><span class="hs-identifier hs-type">encodeNat64be</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-324"></span><span id="encodeNat64be"><span class="annot"><span class="annottext">encodeNat64be :: Word64 -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#encodeNat64be"><span class="hs-identifier hs-var hs-var">encodeNat64be</span></a></span></span><span> </span><span id="local-6989586621679108374"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108374"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk
forall a. Sized a =&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.one</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; Word8) -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; (Int -&gt; a) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.generate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-identifier hs-var">fillBE</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108374"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat32be"><span class="hs-identifier hs-type">encodeNat32be</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-327"></span><span id="encodeNat32be"><span class="annot"><span class="annottext">encodeNat32be :: Word64 -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#encodeNat32be"><span class="hs-identifier hs-var hs-var">encodeNat32be</span></a></span></span><span> </span><span id="local-6989586621679108377"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108377"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk
forall a. Sized a =&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.one</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; Word8) -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; (Int -&gt; a) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.generate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-identifier hs-var">fillBE</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108377"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat16be"><span class="hs-identifier hs-type">encodeNat16be</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-330"></span><span id="encodeNat16be"><span class="annot"><span class="annottext">encodeNat16be :: Word64 -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#encodeNat16be"><span class="hs-identifier hs-var hs-var">encodeNat16be</span></a></span></span><span> </span><span id="local-6989586621679108378"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108378"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk
forall a. Sized a =&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.one</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; Word8) -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; (Int -&gt; a) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.generate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillBE"><span class="hs-identifier hs-var">fillBE</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108378"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="annot"><a href="Unison.Util.Bytes.html#fillLE"><span class="hs-identifier hs-type">fillLE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-333"></span><span id="fillLE"><span class="annot"><span class="annottext">fillLE :: Word64 -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillLE"><span class="hs-identifier hs-var hs-var">fillLE</span></a></span></span><span> </span><span id="local-6989586621679108380"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108380"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679108381"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108381"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108380"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108381"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#fillLE"><span class="hs-pragma hs-type">fillLE</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat64le"><span class="hs-identifier hs-type">encodeNat64le</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-337"></span><span id="encodeNat64le"><span class="annot"><span class="annottext">encodeNat64le :: Word64 -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#encodeNat64le"><span class="hs-identifier hs-var hs-var">encodeNat64le</span></a></span></span><span> </span><span id="local-6989586621679108382"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108382"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk
forall a. Sized a =&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.one</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; Word8) -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; (Int -&gt; a) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.generate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillLE"><span class="hs-identifier hs-var">fillLE</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108382"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat32le"><span class="hs-identifier hs-type">encodeNat32le</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-340"></span><span id="encodeNat32le"><span class="annot"><span class="annottext">encodeNat32le :: Word64 -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#encodeNat32le"><span class="hs-identifier hs-var hs-var">encodeNat32le</span></a></span></span><span> </span><span id="local-6989586621679108383"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108383"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk
forall a. Sized a =&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.one</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; Word8) -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; (Int -&gt; a) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.generate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillLE"><span class="hs-identifier hs-var">fillLE</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108383"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="annot"><a href="Unison.Util.Bytes.html#encodeNat16le"><span class="hs-identifier hs-type">encodeNat16le</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-343"></span><span id="encodeNat16le"><span class="annot"><span class="annottext">encodeNat16le :: Word64 -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#encodeNat16le"><span class="hs-identifier hs-var hs-var">encodeNat16le</span></a></span></span><span> </span><span id="local-6989586621679108384"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108384"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-var">Bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Rope Chunk
forall a. Sized a =&gt; a -&gt; Rope a
</span><span class="hs-identifier hs-var">R.one</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (Int -&gt; Word8) -&gt; Chunk
forall a. Prim a =&gt; Int -&gt; (Int -&gt; a) -&gt; Vector a
</span><span class="hs-identifier hs-var">V.generate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word8
</span><a href="Unison.Util.Bytes.html#fillLE"><span class="hs-identifier hs-var">fillLE</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679108384"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="annot"><a href="Unison.Util.Bytes.html#toBase16"><span class="hs-identifier hs-type">toBase16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-346"></span><span id="toBase16"><span class="annot"><span class="annottext">toBase16 :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase16"><span class="hs-identifier hs-var hs-var">toBase16</span></a></span></span><span> </span><span id="local-6989586621679108385"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108385"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bytes -&gt; Chunk -&gt; Bytes) -&gt; Bytes -&gt; [Chunk] -&gt; Bytes
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="#local-6989586621679108386"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108385"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>    </span><span id="local-6989586621679108386"><span class="annot"><span class="annottext">step :: Bytes -&gt; Chunk -&gt; Bytes
</span><a href="#local-6989586621679108386"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span id="local-6989586621679108391"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108391"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679108392"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108392"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-349"></span><span>      </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span>
</span><span id="line-350"></span><span>        </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108391"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-351"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-identifier hs-var">arrayToChunk</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">BA.Bytes</span></span><span> </span><span class="annot"><span class="annottext">(Bytes -&gt; Chunk) -&gt; Bytes -&gt; Chunk
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-352"></span><span>            </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Bytes
forall bin bout.
(ByteArrayAccess bin, ByteArray bout) =&gt;
Base -&gt; bin -&gt; bout
</span><span class="hs-identifier hs-var">BE.convertToBase</span></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base16</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-var">chunkToArray</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">BA.Bytes</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108392"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span id="local-6989586621679107683"><span class="annot"><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-type">chunkToArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#arrayFromChunk"><span class="hs-identifier hs-type">arrayFromChunk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BA.ByteArray</span></span><span> </span><span class="annot"><a href="#local-6989586621679107683"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107683"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-356"></span><span id="chunkToArray"><span class="annot"><span class="annottext">chunkToArray :: forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-var hs-var">chunkToArray</span></a></span></span><span> </span><span id="local-6989586621679108410"><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108410"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (Ptr Any -&gt; IO ()) -&gt; b
forall a p. ByteArray a =&gt; Int -&gt; (Ptr p -&gt; IO ()) -&gt; a
</span><span class="hs-identifier hs-var">BA.allocAndFreeze</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Int
forall a. Prim a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108410"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Ptr Any -&gt; IO ()) -&gt; b) -&gt; (Ptr Any -&gt; IO ()) -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679108412"><span class="annot"><span class="annottext">Ptr Any
</span><a href="#local-6989586621679108412"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679108413"><span class="annot"><span class="annottext">go :: Int -&gt; IO ()
</span><a href="#local-6989586621679108413"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679108414"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108414"><span class="hs-identifier hs-var">ind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108414"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; Int
forall a. Prim a =&gt; Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108410"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-359"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Ptr Any -&gt; Int -&gt; Word8 -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Word8 -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr Any
</span><a href="#local-6989586621679108412"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108414"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk -&gt; Int -&gt; Word8
forall a. Prim a =&gt; Vector a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">V.unsafeIndex</span></span><span> </span><span class="annot"><span class="annottext">Chunk
</span><a href="#local-6989586621679108410"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108414"><span class="hs-identifier hs-var">ind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO ()
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="#local-6989586621679108413"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108414"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="#local-6989586621679108413"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-362"></span><span id="arrayFromChunk"><span class="annot"><span class="annottext">arrayFromChunk :: forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#arrayFromChunk"><span class="hs-identifier hs-var hs-var">arrayFromChunk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; b
forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-var">chunkToArray</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span id="local-6989586621679107690"><span class="annot"><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-identifier hs-type">arrayToChunk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#chunkFromArray"><span class="hs-identifier hs-type">chunkFromArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BA.ByteArrayAccess</span></span><span> </span><span class="annot"><a href="#local-6989586621679107690"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107690"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span></span><span>
</span><span id="line-365"></span><span id="arrayToChunk"><span class="annot"><span class="annottext">arrayToChunk :: forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-identifier hs-var hs-var">arrayToChunk</span></a></span></span><span> </span><span id="local-6989586621679108427"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679108427"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">b -&gt; Block Word8
forall bin bout.
(ByteArrayAccess bin, ByteArray bout) =&gt;
bin -&gt; bout
</span><span class="hs-identifier hs-var">BA.convert</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679108427"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Block</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Block</span></span><span> </span><span id="local-6989586621679108429"><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679108429"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ByteArray -&gt; Chunk
forall a. Int -&gt; Int -&gt; ByteArray -&gt; Vector a
</span><span class="hs-identifier hs-var">V.Vector</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679108430"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteArray# -&gt; ByteArray
</span><span class="hs-identifier hs-var">ByteArray</span></span><span> </span><span class="annot"><span class="annottext">ByteArray#
</span><a href="#local-6989586621679108429"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621679108430"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679108430"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int
forall ba. ByteArrayAccess ba =&gt; ba -&gt; Int
</span><span class="hs-identifier hs-var">BA.length</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679108427"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-369"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-pragma hs-type">arrayToChunk</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-370"></span><span id="chunkFromArray"><span class="annot"><span class="annottext">chunkFromArray :: forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#chunkFromArray"><span class="hs-identifier hs-var hs-var">chunkFromArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Chunk
forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-identifier hs-var">arrayToChunk</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase16"><span class="hs-identifier hs-type">fromBase16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-373"></span><span id="fromBase16"><span class="annot"><span class="annottext">fromBase16 :: Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase16"><span class="hs-identifier hs-var hs-var">fromBase16</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase"><span class="hs-identifier hs-var">fromBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base16</span></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="annot"><a href="Unison.Util.Bytes.html#toBase32"><span class="hs-identifier hs-type">toBase32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#toBase64"><span class="hs-identifier hs-type">toBase64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#toBase64UrlUnpadded"><span class="hs-identifier hs-type">toBase64UrlUnpadded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-376"></span><span id="toBase32"><span class="annot"><span class="annottext">toBase32 :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase32"><span class="hs-identifier hs-var hs-var">toBase32</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase"><span class="hs-identifier hs-var">toBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base32</span></span><span>
</span><span id="line-377"></span><span id="toBase64"><span class="annot"><span class="annottext">toBase64 :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase64"><span class="hs-identifier hs-var hs-var">toBase64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase"><span class="hs-identifier hs-var">toBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base64</span></span><span>
</span><span id="line-378"></span><span id="toBase64UrlUnpadded"><span class="annot"><span class="annottext">toBase64UrlUnpadded :: Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase64UrlUnpadded"><span class="hs-identifier hs-var hs-var">toBase64UrlUnpadded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase"><span class="hs-identifier hs-var">toBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base64URLUnpadded</span></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase32"><span class="hs-identifier hs-type">fromBase32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase64"><span class="hs-identifier hs-type">fromBase64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase64UrlUnpadded"><span class="hs-identifier hs-type">fromBase64UrlUnpadded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-381"></span><span id="fromBase32"><span class="annot"><span class="annottext">fromBase32 :: Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase32"><span class="hs-identifier hs-var hs-var">fromBase32</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase"><span class="hs-identifier hs-var">fromBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base32</span></span><span>
</span><span id="line-382"></span><span id="fromBase64"><span class="annot"><span class="annottext">fromBase64 :: Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase64"><span class="hs-identifier hs-var hs-var">fromBase64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase"><span class="hs-identifier hs-var">fromBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base64</span></span><span>
</span><span id="line-383"></span><span id="fromBase64UrlUnpadded"><span class="annot"><span class="annottext">fromBase64UrlUnpadded :: Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase64UrlUnpadded"><span class="hs-identifier hs-var hs-var">fromBase64UrlUnpadded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase"><span class="hs-identifier hs-var">fromBase</span></a></span><span> </span><span class="annot"><span class="annottext">Base
</span><span class="hs-identifier hs-var">BE.Base64URLUnpadded</span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromBase"><span class="hs-identifier hs-type">fromBase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BE.Base</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text.Text</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-386"></span><span id="fromBase"><span class="annot"><span class="annottext">fromBase :: Base -&gt; Bytes -&gt; Either Text Bytes
</span><a href="Unison.Util.Bytes.html#fromBase"><span class="hs-identifier hs-var hs-var">fromBase</span></a></span></span><span> </span><span id="local-6989586621679108439"><span class="annot"><span class="annottext">Base
</span><a href="#local-6989586621679108439"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108440"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108440"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Either String Bytes
forall bin bout.
(ByteArrayAccess bin, ByteArray bout) =&gt;
Base -&gt; bin -&gt; Either String bout
</span><span class="hs-identifier hs-var">BE.convertFromBase</span></span><span> </span><span class="annot"><span class="annottext">Base
</span><a href="#local-6989586621679108439"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-var">chunkToArray</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">BA.Bytes</span></span><span> </span><span class="annot"><span class="annottext">(Chunk -&gt; Bytes) -&gt; Chunk -&gt; Bytes
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Chunk
forall a. Monoid a =&gt; Rope a -&gt; a
</span><span class="hs-identifier hs-var">R.flatten</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108440"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679108443"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679108443"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Bytes
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">Text.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679108443"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679108445"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108445"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Either Text Bytes
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Bytes -&gt; Either Text Bytes) -&gt; Bytes -&gt; Either Text Bytes
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; Chunk
forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#chunkFromArray"><span class="hs-identifier hs-var">chunkFromArray</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108445"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BA.Bytes</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="annot"><a href="Unison.Util.Bytes.html#toBase"><span class="hs-identifier hs-type">toBase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BE.Base</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-391"></span><span id="toBase"><span class="annot"><span class="annottext">toBase :: Base -&gt; Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase"><span class="hs-identifier hs-var hs-var">toBase</span></a></span></span><span> </span><span id="local-6989586621679108446"><span class="annot"><span class="annottext">Base
</span><a href="#local-6989586621679108446"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span id="local-6989586621679108447"><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108447"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; Chunk
forall b. ByteArrayAccess b =&gt; b -&gt; Chunk
</span><a href="Unison.Util.Bytes.html#arrayToChunk"><span class="hs-identifier hs-var">arrayToChunk</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108448"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><a href="#local-6989586621679108448"><span class="hs-identifier hs-type">arr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BA.Bytes</span></span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621679108448"><span class="annot"><span class="annottext">arr :: Bytes
</span><a href="#local-6989586621679108448"><span class="hs-identifier hs-var hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Base -&gt; Bytes -&gt; Bytes
forall bin bout.
(ByteArrayAccess bin, ByteArray bout) =&gt;
Base -&gt; bin -&gt; bout
</span><span class="hs-identifier hs-var">BE.convertToBase</span></span><span> </span><span class="annot"><span class="annottext">Base
</span><a href="#local-6989586621679108446"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b. ByteArray b =&gt; Chunk -&gt; b
</span><a href="Unison.Util.Bytes.html#chunkToArray"><span class="hs-identifier hs-var">chunkToArray</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">BA.Bytes</span></span><span> </span><span class="annot"><span class="annottext">(Chunk -&gt; Bytes) -&gt; Chunk -&gt; Bytes
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk -&gt; Chunk
forall a. Monoid a =&gt; Rope a -&gt; a
</span><span class="hs-identifier hs-var">R.flatten</span></span><span> </span><span class="annot"><span class="annottext">Rope Chunk
</span><a href="#local-6989586621679108447"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="annot"><a href="Unison.Util.Bytes.html#toWord8s"><span class="hs-identifier hs-type">toWord8s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">]</span><span>
</span><span id="line-397"></span><span id="toWord8s"><span class="annot"><span class="annottext">toWord8s :: Bytes -&gt; [Word8]
</span><a href="Unison.Util.Bytes.html#toWord8s"><span class="hs-identifier hs-var hs-var">toWord8s</span></a></span></span><span> </span><span id="local-6989586621679108449"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108449"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; [Chunk]
</span><a href="Unison.Util.Bytes.html#chunks"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108449"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk] -&gt; (Chunk -&gt; [Word8]) -&gt; [Word8]
forall a b. [a] -&gt; (a -&gt; [b]) -&gt; [b]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Chunk -&gt; [Word8]
forall a. Prim a =&gt; Vector a -&gt; [a]
</span><span class="hs-identifier hs-var">V.toList</span></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="annot"><a href="Unison.Util.Bytes.html#fromWord8s"><span class="hs-identifier hs-type">fromWord8s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span><span>
</span><span id="line-400"></span><span id="fromWord8s"><span class="annot"><span class="annottext">fromWord8s :: [Word8] -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#fromWord8s"><span class="hs-identifier hs-var hs-var">fromWord8s</span></a></span></span><span> </span><span id="local-6989586621679108451"><span class="annot"><span class="annottext">[Word8]
</span><a href="#local-6989586621679108451"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; Chunk -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#snoc"><span class="hs-identifier hs-var">snoc</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="Unison.Util.Bytes.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Word8] -&gt; Chunk
forall a. Prim a =&gt; [a] -&gt; Vector a
</span><span class="hs-identifier hs-var">V.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Word8]
</span><a href="#local-6989586621679108451"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108454"><span id="local-6989586621679108459"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Unison.Util.Bytes.html#Bytes"><span class="hs-identifier hs-type">Bytes</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-403"></span><span>  </span><span id="local-6989586621679108465"><span class="annot"><span class="annottext">show :: Bytes -&gt; String
</span><a href="#local-6989586621679108465"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span id="local-6989586621679108467"><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108467"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bytes -&gt; [Word8]
</span><a href="Unison.Util.Bytes.html#toWord8s"><span class="hs-identifier hs-var">toWord8s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bytes -&gt; Bytes
</span><a href="Unison.Util.Bytes.html#toBase16"><span class="hs-identifier hs-var">toBase16</span></a></span><span> </span><span class="annot"><span class="annottext">Bytes
</span><a href="#local-6989586621679108467"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; (Word8 -&gt; String) -&gt; String
forall a b. [a] -&gt; (a -&gt; [b]) -&gt; [b]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679108468"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108468"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; Char
</span><span class="hs-identifier hs-var">chr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679108468"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-404"></span></pre></body></html>