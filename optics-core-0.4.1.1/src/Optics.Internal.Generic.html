<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK not-home #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-comment">-- This module is intended for internal use only, and may change without warning</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- in subsequent releases.</span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Optics.Internal.Generic</span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier">generic</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#generic1"><span class="hs-identifier">generic1</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_V1"><span class="hs-identifier">_V1</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier">_U1</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_Par1"><span class="hs-identifier">_Par1</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_Rec1"><span class="hs-identifier">_Rec1</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_K1"><span class="hs-identifier">_K1</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier">_M1</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier">_L1</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier">_R1</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Fields</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldImpl"><span class="hs-identifier">GFieldImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier">GSetFieldSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier">GSetFieldProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldImpl"><span class="hs-identifier">GAffineFieldImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier">GAffineFieldSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier">GFieldProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Positions</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionImpl"><span class="hs-identifier">GPositionImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier">GPositionSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Constructors</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorImpl"><span class="hs-identifier">GConstructorImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier">GConstructorSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier">GConstructorTuple</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier">GPlateImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier">GPlateInner</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-export</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html"><span class="hs-identifier">Optics.Internal.Generic.TypeLevel</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Type.Bool</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Records</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.AffineTraversal.html"><span class="hs-identifier">Optics.AffineTraversal</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html"><span class="hs-identifier">Optics.Internal.Generic.TypeLevel</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Internal.Magic.html"><span class="hs-identifier">Optics.Internal.Magic</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.html"><span class="hs-identifier">Optics.Internal.Optic</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Iso.html"><span class="hs-identifier">Optics.Iso</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Lens.html"><span class="hs-identifier">Optics.Lens</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Prism.html"><span class="hs-identifier">Optics.Prism</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Traversal.html"><span class="hs-identifier">Optics.Traversal</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- GHC.Generics</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | Convert from the data type to its representation (or back)</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- &gt;&gt;&gt; view (generic % re generic) &quot;hello&quot; :: String</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- &quot;hello&quot;</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span id="local-6989586621679140988"><span id="local-6989586621679140989"><span id="local-6989586621679140990"><span id="local-6989586621679140991"><span class="annot"><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier hs-type">generic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679140988"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679140989"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140989"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679140988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140990"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679140989"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140991"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-63"></span><span id="generic"><span class="annot"><span class="annottext">generic :: forall a b x y.
(Generic a, Generic b) =&gt;
Iso a b (Rep a x) (Rep b y)
</span><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier hs-var hs-var">generic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Rep a x)
-&gt; (Rep b y -&gt; b) -&gt; Optic An_Iso NoIx a b (Rep a x) (Rep b y)
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Rep a x
forall x. a -&gt; Rep a x
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">Rep b y -&gt; b
forall a x. Generic a =&gt; Rep a x -&gt; a
forall x. Rep b x -&gt; b
</span><span class="hs-identifier hs-var">to</span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="annot"><span class="hs-comment">-- | Convert from the data type to its representation (or back)</span></span><span>
</span><span id="line-66"></span><span id="local-6989586621679141007"><span id="local-6989586621679141008"><span id="local-6989586621679141009"><span id="local-6989586621679141010"><span class="annot"><a href="Optics.Internal.Generic.html#generic1"><span class="hs-identifier hs-type">generic1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141007"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141008"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141007"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141009"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141008"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141010"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141007"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141009"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141008"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141010"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-67"></span><span id="generic1"><span class="annot"><span class="annottext">generic1 :: forall (f :: * -&gt; *) (g :: * -&gt; *) x y.
(Generic1 f, Generic1 g) =&gt;
Iso (f x) (g y) (Rep1 f x) (Rep1 g y)
</span><a href="Optics.Internal.Generic.html#generic1"><span class="hs-identifier hs-var hs-var">generic1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f x -&gt; Rep1 f x)
-&gt; (Rep1 g y -&gt; g y)
-&gt; Optic An_Iso NoIx (f x) (g y) (Rep1 f x) (Rep1 g y)
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="annot"><span class="annottext">f x -&gt; Rep1 f x
forall a. f a -&gt; Rep1 f a
forall k (f :: k -&gt; *) (a :: k). Generic1 f =&gt; f a -&gt; Rep1 f a
</span><span class="hs-identifier hs-var">from1</span></span><span> </span><span class="annot"><span class="annottext">Rep1 g y -&gt; g y
forall a. Rep1 g a -&gt; g a
forall k (f :: k -&gt; *) (a :: k). Generic1 f =&gt; Rep1 f a -&gt; f a
</span><span class="hs-identifier hs-var">to1</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span id="local-6989586621679141019"><span id="local-6989586621679141020"><span id="local-6989586621679141021"><span id="local-6989586621679141022"><span class="annot"><a href="Optics.Internal.Generic.html#_V1"><span class="hs-identifier hs-type">_V1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Lens.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141019"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141020"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141021"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141022"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-70"></span><span id="_V1"><span class="annot"><span class="annottext">_V1 :: forall s t a b. Lens (V1 s) (V1 t) a b
</span><a href="Optics.Internal.Generic.html#_V1"><span class="hs-identifier hs-var hs-var">_V1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL (V1 s) (V1 t) a b -&gt; Lens (V1 s) (V1 t) a b
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span id="local-6989586621679141034"><span id="local-6989586621679141035"><span class="annot"><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier hs-type">_U1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141034"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141035"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-73"></span><span id="_U1"><span class="annot"><span class="annottext">_U1 :: forall p q. Iso (U1 p) (U1 q) () ()
</span><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier hs-var hs-var">_U1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(U1 p -&gt; ()) -&gt; (() -&gt; U1 q) -&gt; Iso (U1 p) (U1 q) () ()
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; U1 p -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">U1 q -&gt; () -&gt; U1 q
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">U1 q
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span id="local-6989586621679141042"><span id="local-6989586621679141043"><span class="annot"><a href="Optics.Internal.Generic.html#_Par1"><span class="hs-identifier hs-type">_Par1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141042"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141043"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141042"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141043"><span class="hs-identifier hs-type">q</span></a></span></span></span><span>
</span><span id="line-76"></span><span id="_Par1"><span class="annot"><span class="annottext">_Par1 :: forall p q. Iso (Par1 p) (Par1 q) p q
</span><a href="Optics.Internal.Generic.html#_Par1"><span class="hs-identifier hs-var hs-var">_Par1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Iso (Par1 p) (Par1 q) p q
forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span id="local-6989586621679141053"><span id="local-6989586621679141054"><span id="local-6989586621679141055"><span id="local-6989586621679141056"><span class="annot"><a href="Optics.Internal.Generic.html#_Rec1"><span class="hs-identifier hs-type">_Rec1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141053"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141054"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141055"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141056"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141053"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141054"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141055"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141056"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-79"></span><span id="_Rec1"><span class="annot"><span class="annottext">_Rec1 :: forall (f :: * -&gt; *) p (g :: * -&gt; *) q.
Iso (Rec1 f p) (Rec1 g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_Rec1"><span class="hs-identifier hs-var hs-var">_Rec1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Iso (Rec1 f p) (Rec1 g q) (f p) (g q)
forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span id="local-6989586621679141061"><span id="local-6989586621679141062"><span id="local-6989586621679141063"><span id="local-6989586621679141064"><span id="local-6989586621679141065"><span id="local-6989586621679141066"><span class="annot"><a href="Optics.Internal.Generic.html#_K1"><span class="hs-identifier hs-type">_K1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141061"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141062"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141063"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141064"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141065"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141066"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141062"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141065"><span class="hs-identifier hs-type">d</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-82"></span><span id="_K1"><span class="annot"><span class="annottext">_K1 :: forall i c p j d q. Iso (K1 i c p) (K1 j d q) c d
</span><a href="Optics.Internal.Generic.html#_K1"><span class="hs-identifier hs-var hs-var">_K1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Iso (K1 i c p) (K1 j d q) c d
forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span id="local-6989586621679141074"><span id="local-6989586621679141075"><span id="local-6989586621679141076"><span id="local-6989586621679141077"><span id="local-6989586621679141078"><span id="local-6989586621679141079"><span id="local-6989586621679141080"><span id="local-6989586621679141081"><span class="annot"><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-type">_M1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141074"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141075"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141076"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141077"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141078"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141079"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141080"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141081"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141076"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141077"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141080"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141081"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-85"></span><span id="_M1"><span class="annot"><span class="annottext">_M1 :: forall i (c :: Meta) (f :: * -&gt; *) p j (d :: Meta) (g :: * -&gt; *) q.
Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-var hs-var">_M1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span id="local-6989586621679141090"><span id="local-6989586621679141091"><span id="local-6989586621679141092"><span id="local-6989586621679141093"><span class="annot"><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-type">_L1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141090"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141091"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141092"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141093"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141091"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141092"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141090"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141092"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141093"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141092"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-88"></span><span id="_L1"><span class="annot"><span class="annottext">_L1 :: forall (a :: * -&gt; *) (c :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-var hs-var">_L1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b t -&gt; (:+:) b c t)
-&gt; ((:+:) a c t -&gt; Either ((:+:) b c t) (a t))
-&gt; Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
forall b t s a. (b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
</span><a href="Optics.Prism.html#prism"><span class="hs-identifier hs-var">prism</span></a></span><span> </span><span class="annot"><span class="annottext">b t -&gt; (:+:) b c t
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">(:+:) a c t -&gt; Either ((:+:) b c t) (a t)
forall {f :: * -&gt; *} {g :: * -&gt; *} {p} {f :: * -&gt; *}.
(:+:) f g p -&gt; Either ((:+:) f g p) (f p)
</span><a href="#local-6989586621679142009"><span class="hs-identifier hs-var">reviewer</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621679142009"><span class="annot"><span class="annottext">reviewer :: (:+:) f g p -&gt; Either ((:+:) f g p) (f p)
</span><a href="#local-6989586621679142009"><span class="hs-identifier hs-var hs-var">reviewer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679142010"><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679142010"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f p -&gt; Either ((:+:) f g p) (f p)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679142010"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="#local-6989586621679142009"><span class="hs-identifier hs-var">reviewer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679142012"><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679142012"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) f g p -&gt; Either ((:+:) f g p) (f p)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g p -&gt; (:+:) f g p
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679142012"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span id="local-6989586621679141113"><span id="local-6989586621679141114"><span id="local-6989586621679141115"><span id="local-6989586621679141116"><span class="annot"><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-type">_R1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141113"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141114"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141115"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141113"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141116"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141115"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141114"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141115"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141116"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141115"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-94"></span><span id="_R1"><span class="annot"><span class="annottext">_R1 :: forall (c :: * -&gt; *) (a :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-var hs-var">_R1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b t -&gt; (:+:) c b t)
-&gt; ((:+:) c a t -&gt; Either ((:+:) c b t) (a t))
-&gt; Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
forall b t s a. (b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
</span><a href="Optics.Prism.html#prism"><span class="hs-identifier hs-var">prism</span></a></span><span> </span><span class="annot"><span class="annottext">b t -&gt; (:+:) c b t
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">(:+:) c a t -&gt; Either ((:+:) c b t) (a t)
forall {f :: * -&gt; *} {g :: * -&gt; *} {p} {g :: * -&gt; *}.
(:+:) f g p -&gt; Either ((:+:) f g p) (g p)
</span><a href="#local-6989586621679142013"><span class="hs-identifier hs-var">reviewer</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679142013"><span class="annot"><span class="annottext">reviewer :: (:+:) f g p -&gt; Either ((:+:) f g p) (g p)
</span><a href="#local-6989586621679142013"><span class="hs-identifier hs-var hs-var">reviewer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679142014"><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679142014"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g p -&gt; Either ((:+:) f g p) (g p)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679142014"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="#local-6989586621679142013"><span class="hs-identifier hs-var">reviewer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679142015"><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679142015"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) f g p -&gt; Either ((:+:) f g p) (g p)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f p -&gt; (:+:) f g p
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679142015"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- Field</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">class</span><span> </span><span id="GFieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GFieldImpl"><span class="hs-identifier hs-var">GFieldImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141139"><span class="annot"><a href="#local-6989586621679141139"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141135"><span class="annot"><a href="#local-6989586621679141135"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679141136"><span class="annot"><a href="#local-6989586621679141136"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679141137"><span class="annot"><a href="#local-6989586621679141137"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141138"><span class="annot"><a href="#local-6989586621679141138"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141139"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141135"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141137"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-103"></span><span>                                       </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                          , name t -&gt; b
                                          , name s b -&gt; t
                                          , name t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>  </span><span id="gfieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gfieldImpl"><span class="hs-identifier hs-type">gfieldImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Lens.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141135"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141136"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141137"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141138"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-110"></span><span>  </span><span id="local-6989586621679141140"><span id="local-6989586621679141141"><span id="local-6989586621679141142"><span id="local-6989586621679141143"><span id="local-6989586621679141144"><span id="local-6989586621679141145"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141140"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141141"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141142"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetFieldPaths"><span class="hs-identifier hs-type">GetFieldPaths</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141140"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141143"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141140"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasField</span></span><span> </span><span class="annot"><a href="#local-6989586621679141143"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141140"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141144"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141142"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141140"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141141"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141145"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldImpl"><span class="hs-identifier hs-type">GFieldImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141143"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141140"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141141"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141144"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141145"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="local-6989586621679142029"><span class="annot"><span class="annottext">gfieldImpl :: Lens s t a b
</span><a href="Optics.Internal.Generic.html#gfieldImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (x :: k) r a. HasField x r a =&gt; r -&gt; a
forall (x :: Symbol) r a. HasField x r a =&gt; r -&gt; a
</span><span class="hs-identifier hs-var">getField</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141143"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142031"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142031"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
forall x. Rep t x -&gt; t
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">(Rep t Any -&gt; t) -&gt; (b -&gt; Rep t Any) -&gt; b -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141142"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; Rep s Any
forall x. s -&gt; Rep s x
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142031"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gfieldImpl"><span class="hs-pragma hs-type">gfieldImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">class</span><span> </span><span id="GSetFieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-var">GSetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141158"><span class="annot"><a href="#local-6989586621679141158"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141159"><span class="annot"><a href="#local-6989586621679141159"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141160"><span class="annot"><a href="#local-6989586621679141160"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141161"><span class="annot"><a href="#local-6989586621679141161"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141158"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141160"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141161"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-122"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141158"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141159"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141161"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141160"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="gsetFieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-type">gsetFieldSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141157"><span class="annot"><a href="#local-6989586621679141159"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141157"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141161"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141160"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141157"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679141167"><span id="local-6989586621679141168"><span id="local-6989586621679141169"><span id="local-6989586621679141170"><span id="local-6989586621679141171"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141167"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141168"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141169"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141170"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141167"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141171"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141168"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141171"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141169"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141170"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-128"></span><span>  </span><span id="local-6989586621679142039"><span class="annot"><span class="annottext">gsetFieldSum :: forall x. M1 D m g x -&gt; b -&gt; M1 D m h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142041"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142041"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; M1 D m h x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(h x -&gt; M1 D m h x) -&gt; (b -&gt; h x) -&gt; b -&gt; M1 D m h x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141167"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142041"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-131"></span><span>  </span><span id="local-6989586621679141186"><span id="local-6989586621679141187"><span id="local-6989586621679141188"><span id="local-6989586621679141189"><span id="local-6989586621679141190"><span id="local-6989586621679141191"><span id="local-6989586621679141192"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141186"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141187"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141188"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141189"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141190"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141191"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141192"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141189"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141186"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141190"><span class="hs-identifier hs-type">path2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141187"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141191"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141188"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141192"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141189"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>  </span><span id="local-6989586621679142048"><span class="annot"><span class="annottext">gsetFieldSum :: forall x. (:+:) g1 g2 x -&gt; b -&gt; (:+:) h1 h2 x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679142049"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142049"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h1 x -&gt; (:+:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:+:) h1 h2 x) -&gt; (b -&gt; h1 x) -&gt; b -&gt; (:+:) h1 h2 x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141186"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142049"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679142050"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142050"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h2 x -&gt; (:+:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:+:) h1 h2 x) -&gt; (b -&gt; h2 x) -&gt; b -&gt; (:+:) h1 h2 x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141190"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142050"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-pragma hs-type">gsetFieldSum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621679141210"><span id="local-6989586621679141211"><span id="local-6989586621679141212"><span id="local-6989586621679141213"><span id="local-6989586621679141214"><span id="local-6989586621679141215"><span id="local-6989586621679141216"><span id="local-6989586621679141217"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141210"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-type">GSetFieldPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141211"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141212"><span class="hs-identifier hs-type">epath</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#IsLeft"><span class="hs-identifier hs-type">IsLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141212"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141213"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141214"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141210"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141213"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141214"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141215"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeaf"><span class="hs-identifier hs-type">PathLeaf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141212"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679141211"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141216"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141217"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141213"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679141211"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141216"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141217"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141214"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141215"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679142057"><span class="annot"><span class="annottext">gsetFieldSum :: forall x.
M1 C ('MetaCons con fix hs) g x
-&gt; b -&gt; M1 C ('MetaCons con fix hs) h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142058"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142058"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; M1 C ('MetaCons con fix hs) h x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(h x -&gt; M1 C ('MetaCons con fix hs) h x)
-&gt; (b -&gt; h x) -&gt; b -&gt; M1 C ('MetaCons con fix hs) h x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141210"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142058"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="GSetFieldPath"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-var">GSetFieldPath</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142060"><span class="annot"><a href="#local-6989586621679142060"><span class="hs-identifier hs-type">con</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142061"><span class="annot"><a href="#local-6989586621679142061"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>  </span><span id="GSetFieldPath"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-var">GSetFieldPath</span></a></span></span><span> </span><span id="local-6989586621679142062"><span class="annot"><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679142062"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679142062"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span id="GSetFieldPath"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-var">GSetFieldPath</span></a></span></span><span> </span><span id="local-6989586621679142063"><span id="local-6989586621679142064"><span class="annot"><a href="#local-6989586621679142063"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679142064"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142063"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-150"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; doesn't have a field named &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142064"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-keyword">class</span><span> </span><span id="GSetFieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-var">GSetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141220"><span class="annot"><a href="#local-6989586621679141220"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141221"><span class="annot"><a href="#local-6989586621679141221"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141222"><span class="annot"><a href="#local-6989586621679141222"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141223"><span class="annot"><a href="#local-6989586621679141223"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141220"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141222"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141223"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-153"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141220"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141221"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141223"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141222"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>  </span><span id="gsetFieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-type">gsetFieldProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141219"><span class="annot"><a href="#local-6989586621679141221"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141219"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141223"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141222"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141219"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-comment">-- fast path left</span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621679141230"><span id="local-6989586621679141231"><span id="local-6989586621679141232"><span id="local-6989586621679141233"><span id="local-6989586621679141234"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141230"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141231"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141232"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141233"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141230"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141231"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141234"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141232"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141234"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141233"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621679142070"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) h1 g2 x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142071"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142071"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142073"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142073"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h1 x -&gt; g2 x -&gt; (:*:) h1 g2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142073"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:*:) h1 g2 x) -&gt; (b -&gt; h1 x) -&gt; b -&gt; (:*:) h1 g2 x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141230"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142071"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- slow path left</span><span>
</span><span id="line-163"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679141246"><span id="local-6989586621679141247"><span id="local-6989586621679141248"><span id="local-6989586621679141249"><span id="local-6989586621679141250"><span id="local-6989586621679141251"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141246"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141247"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141248"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141249"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141250"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141251"><span class="hs-identifier hs-type">h2</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141246"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141247"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141250"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141248"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141251"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141249"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679142080"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) h1 h2 x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142081"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142081"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142082"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142082"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h1 x -&gt; g2 x -&gt; (:*:) h1 g2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142082"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:*:) h1 h2 x) -&gt; (b -&gt; h1 x) -&gt; b -&gt; (:*:) h1 h2 x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141246"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142081"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- fast path right</span><span>
</span><span id="line-170"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679141259"><span id="local-6989586621679141260"><span id="local-6989586621679141261"><span id="local-6989586621679141262"><span id="local-6989586621679141263"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141259"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141260"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141261"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141262"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141259"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141263"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141260"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141263"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141261"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141262"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679142087"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) g1 h2 x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142088"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142088"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142089"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142089"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142088"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x -&gt; h2 x -&gt; (:*:) g1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:*:) g1 h2 x) -&gt; (b -&gt; h2 x) -&gt; b -&gt; (:*:) g1 h2 x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141259"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142089"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- slow path right</span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679141271"><span id="local-6989586621679141272"><span id="local-6989586621679141273"><span id="local-6989586621679141274"><span id="local-6989586621679141275"><span id="local-6989586621679141276"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141271"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141272"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141273"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141274"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141275"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141276"><span class="hs-identifier hs-type">h1</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141271"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141275"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141272"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141276"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141273"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141274"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679142096"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) h1 h2 x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142097"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142097"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142098"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142098"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
h1 x
</span><a href="#local-6989586621679142097"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h1 x -&gt; h2 x -&gt; (:*:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:*:) h1 h2 x) -&gt; (b -&gt; h2 x) -&gt; b -&gt; (:*:) h1 h2 x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141271"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142098"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-183"></span><span>  </span><span id="local-6989586621679141282"><span id="local-6989586621679141283"><span id="local-6989586621679141284"><span id="local-6989586621679141285"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141282"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141283"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679141284"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679141285"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679141284"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679141283"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141282"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621679142103"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. M1 S m (Rec0 a) x -&gt; r -&gt; M1 S m (Rec0 b) x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="annot"><span class="annottext">M1 S m (Rec0 a) x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec0 b x -&gt; M1 S m (Rec0 b) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(Rec0 b x -&gt; M1 S m (Rec0 b) x)
-&gt; (r -&gt; Rec0 b x) -&gt; r -&gt; M1 S m (Rec0 b) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; K1 R r x
r -&gt; Rec0 b x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- Affine field</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">class</span><span> </span><span id="GAffineFieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldImpl"><span class="hs-identifier hs-var">GAffineFieldImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141302"><span class="annot"><a href="#local-6989586621679141302"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621679141303"><span class="annot"><a href="#local-6989586621679141303"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141298"><span class="annot"><a href="#local-6989586621679141298"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679141299"><span class="annot"><a href="#local-6989586621679141299"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679141300"><span class="annot"><a href="#local-6989586621679141300"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141301"><span class="annot"><a href="#local-6989586621679141301"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141303"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141298"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141300"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-192"></span><span>                                             </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                                , name t -&gt; b
                                                , name s b -&gt; t
                                                , name t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span>  </span><span id="gafieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gafieldImpl"><span class="hs-identifier hs-type">gafieldImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.AffineTraversal.html#AffineTraversal"><span class="hs-identifier hs-type">AffineTraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141298"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141299"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141300"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141301"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-200"></span><span>  </span><span id="local-6989586621679141310"><span id="local-6989586621679141311"><span id="local-6989586621679141312"><span id="local-6989586621679141313"><span id="local-6989586621679141314"><span id="local-6989586621679141315"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141311"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141312"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetFieldPaths"><span class="hs-identifier hs-type">GetFieldPaths</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141313"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasField</span></span><span> </span><span class="annot"><a href="#local-6989586621679141313"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- require the field to be in scope</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#Unless"><span class="hs-identifier hs-type">Unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#AnyHasPath"><span class="hs-identifier hs-type">AnyHasPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141312"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteType"><span class="hs-identifier hs-type">QuoteType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-207"></span><span>       </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; doesn't have a field named &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141313"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141312"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141311"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141315"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldImpl"><span class="hs-identifier hs-type">GAffineFieldImpl</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679141313"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141310"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141311"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141315"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679142117"><span class="annot"><span class="annottext">gafieldImpl :: AffineTraversal s t a b
</span><a href="Optics.Internal.Generic.html#gafieldImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AffineTraversal s t a b
-&gt; ((s -&gt; Either t a) -&gt; (s -&gt; b -&gt; t) -&gt; AffineTraversal s t a b)
-&gt; AffineTraversal s t a b
forall k (is :: IxList) s t a b r.
Is k An_AffineTraversal =&gt;
Optic k is s t a b
-&gt; ((s -&gt; Either t a) -&gt; (s -&gt; b -&gt; t) -&gt; r) -&gt; r
</span><a href="Optics.AffineTraversal.html#withAffineTraversal"><span class="hs-identifier hs-var">withAffineTraversal</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
forall s t a b.
AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
</span><a href="Optics.AffineTraversal.html#atraversalVL"><span class="hs-identifier hs-var">atraversalVL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142126"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142126"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679142127"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142127"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679142128"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142128"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
forall x. Rep t x -&gt; t
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">(Rep t Any -&gt; t) -&gt; f (Rep t Any) -&gt; f t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141312"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; f r
forall r. r -&gt; f r
</span><a href="#local-6989586621679142126"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142127"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; Rep s Any
forall x. s -&gt; Rep s x
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142128"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142131"><span class="annot"><span class="annottext">s -&gt; Either t a
</span><a href="#local-6989586621679142131"><span class="hs-identifier hs-var">match</span></a></span></span><span> </span><span id="local-6989586621679142132"><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679142132"><span class="hs-identifier hs-var">update</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
forall s t a b.
AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
</span><a href="Optics.AffineTraversal.html#atraversalVL"><span class="hs-identifier hs-var">atraversalVL</span></a></span><span> </span><span class="annot"><span class="annottext">(AffineTraversalVL s t a b -&gt; AffineTraversal s t a b)
-&gt; AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142135"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142135"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679142136"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142136"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679142137"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142137"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="annottext">(t -&gt; f t) -&gt; (a -&gt; f t) -&gt; Either t a -&gt; f t
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; f t
forall r. r -&gt; f r
</span><a href="#local-6989586621679142135"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; t) -&gt; f b -&gt; f t
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679142132"><span class="hs-identifier hs-var">update</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142137"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(f b -&gt; f t) -&gt; (a -&gt; f b) -&gt; a -&gt; f t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142136"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; Either t a
</span><a href="#local-6989586621679142131"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142137"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gafieldImpl"><span class="hs-pragma hs-type">gafieldImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">class</span><span> </span><span id="GAffineFieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-var">GAffineFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141338"><span class="annot"><a href="#local-6989586621679141338"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141339"><span class="annot"><a href="#local-6989586621679141339"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141340"><span class="annot"><a href="#local-6989586621679141340"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141341"><span class="annot"><a href="#local-6989586621679141341"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141342"><span class="annot"><a href="#local-6989586621679141342"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>  </span><span id="gafieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-type">gafieldSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141337"><span class="annot"><a href="Optics.AffineTraversal.html#AffineTraversalVL"><span class="hs-identifier hs-type">AffineTraversalVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141339"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141337"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141340"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141337"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141341"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141342"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621679141360"><span id="local-6989586621679141361"><span id="local-6989586621679141362"><span id="local-6989586621679141363"><span id="local-6989586621679141364"><span id="local-6989586621679141365"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141360"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141361"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141362"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141363"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141364"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141360"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141365"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141361"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141365"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141362"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141363"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141364"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-224"></span><span>  </span><span id="local-6989586621679142147"><span class="annot"><span class="annottext">gafieldSum :: forall x. AffineTraversalVL (M1 D m g x) (M1 D m h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldSum</span></a></span></span><span> </span><span id="local-6989586621679142148"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142148"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679142149"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142149"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142150"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142150"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; M1 D m h x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(h x -&gt; M1 D m h x) -&gt; f (h x) -&gt; f (M1 D m h x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141360"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; f r
forall r. r -&gt; f r
</span><a href="#local-6989586621679142148"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142149"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142150"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621679141377"><span id="local-6989586621679141378"><span id="local-6989586621679141379"><span id="local-6989586621679141380"><span id="local-6989586621679141381"><span id="local-6989586621679141382"><span id="local-6989586621679141383"><span id="local-6989586621679141384"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141377"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141378"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141379"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141381"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141382"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141383"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141384"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141381"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141377"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141382"><span class="hs-identifier hs-type">path2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141378"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141383"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141379"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141384"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141381"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621679142162"><span class="annot"><span class="annottext">gafieldSum :: forall x. AffineTraversalVL ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldSum</span></a></span></span><span> </span><span id="local-6989586621679142163"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142163"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679142164"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142164"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679142165"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142165"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h1 x -&gt; (:+:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:+:) h1 h2 x) -&gt; f (h1 x) -&gt; f ((:+:) h1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141377"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; f r
forall r. r -&gt; f r
</span><a href="#local-6989586621679142163"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142164"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142165"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span id="local-6989586621679142166"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142166"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679142167"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142167"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679142168"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142168"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h2 x -&gt; (:+:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:+:) h1 h2 x) -&gt; f (h2 x) -&gt; f ((:+:) h1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141382"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; f r
forall r. r -&gt; f r
</span><a href="#local-6989586621679142166"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142167"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142168"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-pragma hs-type">gafieldSum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621679141396"><span id="local-6989586621679141397"><span id="local-6989586621679141398"><span id="local-6989586621679141399"><span id="local-6989586621679141400"><span id="local-6989586621679141401"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-type">GAffineFieldMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141396"><span class="hs-identifier hs-type">epath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141397"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141398"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141399"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141400"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeaf"><span class="hs-identifier hs-type">PathLeaf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141396"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679141401"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141397"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679141401"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141398"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141399"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141400"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621679142176"><span class="annot"><span class="annottext">gafieldSum :: forall x. AffineTraversalVL (M1 C m g x) (M1 C m h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldSum</span></a></span></span><span> </span><span id="local-6989586621679142177"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142177"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679142178"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142178"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142179"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142179"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; M1 C m h x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(h x -&gt; M1 C m h x) -&gt; f (h x) -&gt; f (M1 C m h x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (epath :: Either Symbol [Path]) (g :: * -&gt; *) (h :: * -&gt; *)
       a b x.
GAffineFieldMaybe epath g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldMaybe"><span class="hs-identifier hs-var">gafieldMaybe</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141396"><span class="hs-identifier hs-type">epath</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; f r
forall r. r -&gt; f r
</span><a href="#local-6989586621679142177"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142178"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142179"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-keyword">class</span><span> </span><span id="GAffineFieldMaybe"><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-var">GAffineFieldMaybe</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141405"><span class="annot"><a href="#local-6989586621679141405"><span class="hs-identifier hs-type">epath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141406"><span class="annot"><a href="#local-6989586621679141406"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141407"><span class="annot"><a href="#local-6989586621679141407"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141408"><span class="annot"><a href="#local-6989586621679141408"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141409"><span class="annot"><a href="#local-6989586621679141409"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>  </span><span id="gafieldMaybe"><span class="annot"><a href="Optics.Internal.Generic.html#gafieldMaybe"><span class="hs-identifier hs-type">gafieldMaybe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141404"><span class="annot"><a href="Optics.AffineTraversal.html#AffineTraversalVL"><span class="hs-identifier hs-type">AffineTraversalVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141406"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141404"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141407"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141404"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141408"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141409"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-243"></span><span>  </span><span id="local-6989586621679141416"><span id="local-6989586621679141417"><span id="local-6989586621679141418"><span id="local-6989586621679141419"><span id="local-6989586621679141420"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141416"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141417"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-type">GAffineFieldMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679141418"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141416"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141417"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141419"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141420"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679142187"><span class="annot"><span class="annottext">gafieldMaybe :: forall x. AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldMaybe"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldMaybe</span></a></span></span><span> </span><span id="local-6989586621679142188"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679142188"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679142189"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142189"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; f (h x)
forall r. r -&gt; f r
</span><a href="#local-6989586621679142188"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">g x
h x
</span><a href="#local-6989586621679142189"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-248"></span><span>  </span><span id="local-6989586621679141429"><span id="local-6989586621679141430"><span id="local-6989586621679141431"><span id="local-6989586621679141432"><span id="local-6989586621679141433"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141429"><span class="hs-identifier hs-type">prodPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141430"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141431"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141432"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141433"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-type">GAffineFieldMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679141429"><span class="hs-identifier hs-type">prodPath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141430"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141431"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141432"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141433"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679142196"><span class="annot"><span class="annottext">gafieldMaybe :: forall x. AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldMaybe"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldMaybe</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679142197"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142197"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679142198"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142198"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141429"><span class="hs-identifier hs-type">prodPath</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142197"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142198"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-keyword">class</span><span> </span><span id="GFieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-var">GFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141437"><span class="annot"><a href="#local-6989586621679141437"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141438"><span class="annot"><a href="#local-6989586621679141438"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141439"><span class="annot"><a href="#local-6989586621679141439"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141440"><span class="annot"><a href="#local-6989586621679141440"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141441"><span class="annot"><a href="#local-6989586621679141441"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141437"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141438"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141440"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-255"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141437"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141439"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141441"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-256"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141437"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141438"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141439"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-257"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141437"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141439"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141438"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>  </span><span id="gfieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-type">gfieldProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141436"><span class="annot"><a href="Optics.Lens.html#LensVL"><span class="hs-identifier hs-type">LensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141438"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141436"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141439"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141436"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141441"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- fast path left</span><span>
</span><span id="line-261"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621679141448"><span id="local-6989586621679141449"><span id="local-6989586621679141450"><span id="local-6989586621679141451"><span id="local-6989586621679141452"><span id="local-6989586621679141453"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141448"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141449"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141450"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141451"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141452"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141448"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141449"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141453"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141450"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141453"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141451"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141452"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621679142208"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) h1 g2 x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679142209"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142209"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142210"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142210"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142211"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142211"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h1 x -&gt; g2 x -&gt; (:*:) h1 g2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142211"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:*:) h1 g2 x) -&gt; f (h1 x) -&gt; f ((:*:) h1 g2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141448"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142209"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142210"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- slow path left</span><span>
</span><span id="line-267"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-268"></span><span>  </span><span id="local-6989586621679141463"><span id="local-6989586621679141464"><span id="local-6989586621679141465"><span id="local-6989586621679141466"><span id="local-6989586621679141467"><span id="local-6989586621679141468"><span id="local-6989586621679141469"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141463"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141464"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141465"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141466"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141467"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141468"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141469"><span class="hs-identifier hs-type">h2</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141463"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141464"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141468"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141465"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141469"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141466"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141467"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-271"></span><span>  </span><span id="local-6989586621679142221"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) h1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679142222"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142222"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142223"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142223"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142224"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142224"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h1 x -&gt; g2 x -&gt; (:*:) h1 g2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142224"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:*:) h1 h2 x) -&gt; f (h1 x) -&gt; f ((:*:) h1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141463"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142222"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142223"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- fast path right</span><span>
</span><span id="line-274"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-275"></span><span>  </span><span id="local-6989586621679141478"><span id="local-6989586621679141479"><span id="local-6989586621679141480"><span id="local-6989586621679141481"><span id="local-6989586621679141482"><span id="local-6989586621679141483"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141478"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141479"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141480"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141481"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141482"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141478"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141483"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141479"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141483"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141480"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141481"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141482"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621679142232"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) g1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679142233"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142233"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142234"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142234"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142235"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142235"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142234"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x -&gt; h2 x -&gt; (:*:) g1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:*:) g1 h2 x) -&gt; f (h2 x) -&gt; f ((:*:) g1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141478"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142233"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142235"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-comment">-- slow path right</span><span>
</span><span id="line-280"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679141493"><span id="local-6989586621679141494"><span id="local-6989586621679141495"><span id="local-6989586621679141496"><span id="local-6989586621679141497"><span id="local-6989586621679141498"><span id="local-6989586621679141499"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141493"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141494"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141495"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141497"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141498"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141499"><span class="hs-identifier hs-type">h1</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141493"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141498"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141494"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141499"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141495"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141497"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>  </span><span id="local-6989586621679142245"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) h1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679142246"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142246"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142247"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142247"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142248"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142248"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
h1 x
</span><a href="#local-6989586621679142247"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h1 x -&gt; h2 x -&gt; (:*:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:*:) h1 h2 x) -&gt; f (h2 x) -&gt; f ((:*:) h1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141493"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142246"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142248"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621679141507"><span id="local-6989586621679141508"><span id="local-6989586621679141509"><span id="local-6989586621679141510"><span id="local-6989586621679141511"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141507"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141508"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141509"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141510"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679141511"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679141508"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679141511"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679141510"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141507"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141509"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621679142257"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL (M1 S m (Rec0 a) x) (M1 S m (Rec0 b) x) r s
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679142258"><span class="annot"><span class="annottext">r -&gt; f s
</span><a href="#local-6989586621679142258"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142259"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679142259"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec0 b x -&gt; M1 S m (Rec0 b) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(Rec0 b x -&gt; M1 S m (Rec0 b) x)
-&gt; (b -&gt; Rec0 b x) -&gt; b -&gt; M1 S m (Rec0 b) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Rec0 b x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; M1 S m (Rec0 b) x) -&gt; f b -&gt; f (M1 S m (Rec0 b) x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; f s
</span><a href="#local-6989586621679142258"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
a
</span><a href="#local-6989586621679142259"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- Position</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-keyword">class</span><span> </span><span id="GPositionImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionImpl"><span class="hs-identifier hs-var">GPositionImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141525"><span class="annot"><a href="#local-6989586621679141525"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>                    </span><span class="hs-special">(</span><span id="local-6989586621679141526"><span class="annot"><a href="#local-6989586621679141526"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141521"><span class="annot"><a href="#local-6989586621679141521"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679141522"><span class="annot"><a href="#local-6989586621679141522"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679141523"><span class="annot"><a href="#local-6989586621679141523"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141524"><span class="annot"><a href="#local-6989586621679141524"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141526"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141521"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141523"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-297"></span><span>                                    </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                       , n t -&gt; b
                                       , n s b -&gt; t
                                       , n t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>  </span><span id="gpositionImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gpositionImpl"><span class="hs-identifier hs-type">gpositionImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Lens.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141521"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141522"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141523"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141524"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679141532"><span id="local-6989586621679141533"><span id="local-6989586621679141534"><span id="local-6989586621679141535"><span id="local-6989586621679141536"><span id="local-6989586621679141537"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141532"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141533"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141534"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">If</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141535"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=?</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;There is no 0th position&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetPositionPaths"><span class="hs-identifier hs-type">GetPositionPaths</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141532"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141535"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141532"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141535"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=?</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141532"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141533"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141534"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141532"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141533"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141536"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141537"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionImpl"><span class="hs-identifier hs-type">GPositionImpl</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679141535"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141532"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141533"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141536"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141537"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-313"></span><span>  </span><span id="local-6989586621679142270"><span class="annot"><span class="annottext">gpositionImpl :: Lens s t a b
</span><a href="Optics.Internal.Generic.html#gpositionImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lens s t a b
-&gt; ((s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b) -&gt; Lens s t a b
forall k (is :: IxList) s t a b r.
Is k A_Lens =&gt;
Optic k is s t a b -&gt; ((s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; r) -&gt; r
</span><a href="Optics.Lens.html#withLens"><span class="hs-identifier hs-var">withLens</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LensVL s t a b -&gt; Lens s t a b
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142278"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142278"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679142279"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142279"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
forall x. Rep t x -&gt; t
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">(Rep t Any -&gt; t) -&gt; f (Rep t Any) -&gt; f t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141534"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; Rep s Any
forall x. s -&gt; Rep s x
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142279"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142281"><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679142281"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679142282"><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679142282"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LensVL s t a b -&gt; Lens s t a b
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="annot"><span class="annottext">(LensVL s t a b -&gt; Lens s t a b) -&gt; LensVL s t a b -&gt; Lens s t a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142285"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142285"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679142286"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142286"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679142282"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142286"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; t) -&gt; f b -&gt; f t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142285"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679142281"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679142286"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gpositionImpl"><span class="hs-pragma hs-type">gpositionImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-keyword">class</span><span> </span><span id="GPositionSum"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-var">GPositionSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141548"><span class="annot"><a href="#local-6989586621679141548"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141549"><span class="annot"><a href="#local-6989586621679141549"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141550"><span class="annot"><a href="#local-6989586621679141550"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141551"><span class="annot"><a href="#local-6989586621679141551"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141552"><span class="annot"><a href="#local-6989586621679141552"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141548"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141549"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141551"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-321"></span><span>                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141548"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141550"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141552"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-322"></span><span>                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141548"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141549"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141552"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141550"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-323"></span><span>                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141548"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141550"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141551"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141549"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-324"></span><span>  </span><span id="gpositionSum"><span class="annot"><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-type">gpositionSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141547"><span class="annot"><a href="Optics.Lens.html#LensVL"><span class="hs-identifier hs-type">LensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141549"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141547"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141550"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141547"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141551"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141552"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-327"></span><span>  </span><span id="local-6989586621679141560"><span id="local-6989586621679141561"><span id="local-6989586621679141562"><span id="local-6989586621679141563"><span id="local-6989586621679141564"><span id="local-6989586621679141565"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141560"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141561"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141562"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141563"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141564"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141560"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141565"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141561"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141565"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141562"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141563"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141564"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>  </span><span id="local-6989586621679142295"><span class="annot"><span class="annottext">gpositionSum :: forall x. LensVL (M1 D m g x) (M1 D m h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionSum</span></a></span></span><span> </span><span id="local-6989586621679142296"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142296"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142297"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142297"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; M1 D m h x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(h x -&gt; M1 D m h x) -&gt; f (h x) -&gt; f (M1 D m h x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141560"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142296"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142297"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-332"></span><span>  </span><span id="local-6989586621679141576"><span id="local-6989586621679141577"><span id="local-6989586621679141578"><span id="local-6989586621679141579"><span id="local-6989586621679141580"><span id="local-6989586621679141581"><span id="local-6989586621679141582"><span id="local-6989586621679141583"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141576"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141577"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141578"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141579"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141580"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141581"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141582"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141583"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141579"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141580"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141576"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141581"><span class="hs-identifier hs-type">path2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141577"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141582"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141578"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141583"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141579"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141580"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>  </span><span id="local-6989586621679142309"><span class="annot"><span class="annottext">gpositionSum :: forall x. LensVL ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionSum</span></a></span></span><span> </span><span id="local-6989586621679142310"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142310"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679142311"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142311"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h1 x -&gt; (:+:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">(h1 x -&gt; (:+:) h1 h2 x) -&gt; f (h1 x) -&gt; f ((:+:) h1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141576"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142310"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679142311"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-336"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span id="local-6989586621679142312"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142312"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679142313"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142313"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h2 x -&gt; (:+:) h1 h2 x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">(h2 x -&gt; (:+:) h1 h2 x) -&gt; f (h2 x) -&gt; f ((:+:) h1 h2 x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141581"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142312"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679142313"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-pragma hs-type">gpositionSum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621679141596"><span id="local-6989586621679141597"><span id="local-6989586621679141598"><span id="local-6989586621679141599"><span id="local-6989586621679141600"><span id="local-6989586621679141601"><span id="local-6989586621679141602"><span id="local-6989586621679141603"><span id="local-6989586621679141604"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141596"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-type">GPositionPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141597"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141598"><span class="hs-identifier hs-type">epath</span></a></span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#IsLeft"><span class="hs-identifier hs-type">IsLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141598"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141599"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141600"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141596"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141599"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141600"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141601"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141602"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeaf"><span class="hs-identifier hs-type">PathLeaf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141598"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679141597"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141603"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141604"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141599"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679141597"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141603"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141604"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141600"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141601"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141602"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span>  </span><span id="local-6989586621679142323"><span class="annot"><span class="annottext">gpositionSum :: forall x.
LensVL
  (M1 C ('MetaCons con fix hs) g x)
  (M1 C ('MetaCons con fix hs) h x)
  a
  b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionSum</span></a></span></span><span> </span><span id="local-6989586621679142324"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142324"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142325"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142325"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h x -&gt; M1 C ('MetaCons con fix hs) h x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(h x -&gt; M1 C ('MetaCons con fix hs) h x)
-&gt; f (h x) -&gt; f (M1 C ('MetaCons con fix hs) h x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141596"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679142324"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142325"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="GPositionPath"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-var">GPositionPath</span></a></span></span><span> </span><span id="local-6989586621679142326"><span class="annot"><a href="#local-6989586621679142326"><span class="hs-identifier hs-type">con</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142327"><span class="annot"><a href="#local-6989586621679142327"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>  </span><span id="GPositionPath"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-var">GPositionPath</span></a></span></span><span> </span><span id="local-6989586621679142328"><span class="annot"><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679142328"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679142328"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-349"></span><span>  </span><span id="GPositionPath"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-var">GPositionPath</span></a></span></span><span> </span><span id="local-6989586621679142329"><span id="local-6989586621679142330"><span id="local-6989586621679142331"><span class="annot"><a href="#local-6989586621679142329"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679142330"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679142331"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142329"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-351"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; has &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-type">ShowFieldNumber</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142331"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-352"></span><span>     </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#ToOrdinal"><span class="hs-identifier hs-type">ToOrdinal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142330"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; requested&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142334"><span class="annot"><a href="#local-6989586621679142334"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ErrorMessage</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-355"></span><span>  </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;no fields&quot;</span></span><span>
</span><span id="line-356"></span><span>  </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;1 field&quot;</span></span><span>
</span><span id="line-357"></span><span>  </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span id="local-6989586621679142336"><span class="annot"><a href="#local-6989586621679142336"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679142336"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; fields&quot;</span></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- Constructor</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="hs-keyword">class</span><span> </span><span id="GConstructorImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorImpl"><span class="hs-identifier hs-var">GConstructorImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141617"><span class="annot"><a href="#local-6989586621679141617"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621679141618"><span class="annot"><a href="#local-6989586621679141618"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141613"><span class="annot"><a href="#local-6989586621679141613"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679141614"><span class="annot"><a href="#local-6989586621679141614"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679141615"><span class="annot"><a href="#local-6989586621679141615"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141616"><span class="annot"><a href="#local-6989586621679141616"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141618"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141613"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141615"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-364"></span><span>                                             </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                                , name t -&gt; b
                                                , name s b -&gt; t
                                                , name t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span>  </span><span id="gconstructorImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorImpl"><span class="hs-identifier hs-type">gconstructorImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141613"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141614"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141615"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141616"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-372"></span><span>  </span><span id="local-6989586621679141624"><span id="local-6989586621679141625"><span id="local-6989586621679141626"><span id="local-6989586621679141627"><span id="local-6989586621679141628"><span id="local-6989586621679141629"><span id="local-6989586621679141630"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141624"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141625"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141626"><span class="hs-identifier hs-type">epath</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetNamePath"><span class="hs-identifier hs-type">GetNamePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141627"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141624"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141628"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#FromRight"><span class="hs-identifier hs-type">FromRight</span></a></span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-377"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteType"><span class="hs-identifier hs-type">QuoteType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141624"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-378"></span><span>       </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; doesn't have a constructor named &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141627"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><a href="#local-6989586621679141626"><span class="hs-identifier hs-type">epath</span></a></span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#IsLeft"><span class="hs-identifier hs-type">IsLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141626"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141624"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141625"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141628"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141624"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141625"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141629"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141630"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorImpl"><span class="hs-identifier hs-type">GConstructorImpl</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679141627"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141624"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141625"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141629"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141630"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>  </span><span id="local-6989586621679142357"><span class="annot"><span class="annottext">gconstructorImpl :: Prism s t a b
</span><a href="Optics.Internal.Generic.html#gconstructorImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism s t a b
-&gt; ((b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b)
-&gt; Prism s t a b
forall k (is :: IxList) s t a b r.
Is k A_Prism =&gt;
Optic k is s t a b -&gt; ((b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; r) -&gt; r
</span><a href="Optics.Prism.html#withPrism"><span class="hs-identifier hs-var">withPrism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Iso s t (Rep s Any) (Rep t Any)
forall a b x y.
(Generic a, Generic b) =&gt;
Iso a b (Rep a x) (Rep b y)
</span><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier hs-var">generic</span></a></span><span> </span><span class="annot"><span class="annottext">Iso s t (Rep s Any) (Rep t Any)
-&gt; Optic A_Prism NoIx (Rep s Any) (Rep t Any) a b -&gt; Prism s t a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141628"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
forall b t s a. (b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
</span><a href="Optics.Prism.html#prism"><span class="hs-identifier hs-var">prism</span></a></span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorImpl"><span class="hs-pragma hs-type">gconstructorImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-keyword">class</span><span> </span><span id="GConstructorSum"><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-var">GConstructorSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141657"><span class="annot"><a href="#local-6989586621679141657"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141658"><span class="annot"><a href="#local-6989586621679141658"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141659"><span class="annot"><a href="#local-6989586621679141659"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141660"><span class="annot"><a href="#local-6989586621679141660"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141661"><span class="annot"><a href="#local-6989586621679141661"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141657"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141658"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141660"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-389"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141657"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141659"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141661"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-390"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141657"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141658"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141661"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141659"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-391"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141657"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141659"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141660"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141658"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span id="gconstructorSum"><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-type">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141656"><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141658"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141656"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141659"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141656"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141660"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141661"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679141668"><span id="local-6989586621679141669"><span id="local-6989586621679141670"><span id="local-6989586621679141671"><span id="local-6989586621679141672"><span id="local-6989586621679141673"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141668"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141669"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141670"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141671"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141672"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141668"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141673"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141669"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679141673"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141670"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141671"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141672"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-397"></span><span>  </span><span id="local-6989586621679142370"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism (M1 D m g x) (M1 D m h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Iso (M1 D m g x) (M1 D m h x) (g x) (h x)
forall i (c :: Meta) (f :: * -&gt; *) p j (d :: Meta) (g :: * -&gt; *) q.
Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-var">_M1</span></a></span><span> </span><span class="annot"><span class="annottext">Iso (M1 D m g x) (M1 D m h x) (g x) (h x)
-&gt; Optic A_Prism NoIx (g x) (h x) a b
-&gt; Optic A_Prism NoIx (M1 D m g x) (M1 D m h x) a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141668"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- fast path left</span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-401"></span><span>  </span><span id="local-6989586621679141681"><span id="local-6989586621679141682"><span id="local-6989586621679141683"><span id="local-6989586621679141684"><span id="local-6989586621679141685"><span id="local-6989586621679141686"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141681"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141682"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141683"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141684"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141685"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141681"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141682"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141686"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141683"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141686"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141684"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141685"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-403"></span><span>  </span><span id="local-6989586621679142380"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) h1 g2 x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism ((:+:) g1 g2 x) ((:+:) h1 g2 x) (g1 x) (h1 x)
forall (a :: * -&gt; *) (c :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-var">_L1</span></a></span><span> </span><span class="annot"><span class="annottext">Prism ((:+:) g1 g2 x) ((:+:) h1 g2 x) (g1 x) (h1 x)
-&gt; Optic A_Prism NoIx (g1 x) (h1 x) a b
-&gt; Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 g2 x) a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141681"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- slow path left</span><span>
</span><span id="line-406"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-407"></span><span>  </span><span id="local-6989586621679141696"><span id="local-6989586621679141697"><span id="local-6989586621679141698"><span id="local-6989586621679141699"><span id="local-6989586621679141700"><span id="local-6989586621679141701"><span id="local-6989586621679141702"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141696"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141697"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141698"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141699"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141700"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141701"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141702"><span class="hs-identifier hs-type">h2</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141696"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141697"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141701"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141698"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141702"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141699"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141700"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span id="local-6989586621679142391"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism ((:+:) g1 g2 x) ((:+:) h1 g2 x) (g1 x) (h1 x)
Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 h2 x) (g1 x) (h1 x)
forall (a :: * -&gt; *) (c :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-var">_L1</span></a></span><span> </span><span class="annot"><span class="annottext">Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 h2 x) (g1 x) (h1 x)
-&gt; Optic A_Prism NoIx (g1 x) (h1 x) a b
-&gt; Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141696"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- fast path right</span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679141710"><span id="local-6989586621679141711"><span id="local-6989586621679141712"><span id="local-6989586621679141713"><span id="local-6989586621679141714"><span id="local-6989586621679141715"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141710"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141711"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141712"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141714"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141710"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141715"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141711"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141715"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141712"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141714"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621679142400"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) g1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism ((:+:) g1 g2 x) ((:+:) g1 h2 x) (g2 x) (h2 x)
forall (c :: * -&gt; *) (a :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-var">_R1</span></a></span><span> </span><span class="annot"><span class="annottext">Prism ((:+:) g1 g2 x) ((:+:) g1 h2 x) (g2 x) (h2 x)
-&gt; Optic A_Prism NoIx (g2 x) (h2 x) a b
-&gt; Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) g1 h2 x) a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141710"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- slow path right</span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621679141724"><span id="local-6989586621679141725"><span id="local-6989586621679141726"><span id="local-6989586621679141727"><span id="local-6989586621679141728"><span id="local-6989586621679141729"><span id="local-6989586621679141730"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141724"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141725"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141726"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141728"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-421"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141729"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141730"><span class="hs-identifier hs-type">h1</span></a></span><span>
</span><span id="line-422"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141724"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141729"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141725"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141730"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141726"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141728"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-423"></span><span>  </span><span id="local-6989586621679142411"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism ((:+:) g1 g2 x) ((:+:) g1 h2 x) (g2 x) (h2 x)
Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 h2 x) (g2 x) (h2 x)
forall (c :: * -&gt; *) (a :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-var">_R1</span></a></span><span> </span><span class="annot"><span class="annottext">Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 h2 x) (g2 x) (h2 x)
-&gt; Optic A_Prism NoIx (g2 x) (h2 x) a b
-&gt; Optic A_Prism NoIx ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679141724"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-426"></span><span>  </span><span id="local-6989586621679141738"><span id="local-6989586621679141739"><span id="local-6989586621679141740"><span id="local-6989586621679141741"><span id="local-6989586621679141742"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141738"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141739"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141740"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141741"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679141742"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141738"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679141742"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141739"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141740"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141741"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>  </span><span id="local-6989586621679142423"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism (M1 C m g x) (M1 C m h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Optic An_Iso NoIx (M1 C m g x) (M1 C m h x) a b
-&gt; Optic A_Prism NoIx (M1 C m g x) (M1 C m h x) a b
forall destKind srcKind (is :: IxList) s t a b.
Is srcKind destKind =&gt;
Optic srcKind is s t a b -&gt; Optic destKind is s t a b
</span><a href="Optics.Internal.Optic.html#castOptic"><span class="hs-identifier hs-var">castOptic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Iso (M1 C m g x) (M1 C m h x) (g x) (h x)
forall i (c :: Meta) (f :: * -&gt; *) p j (d :: Meta) (g :: * -&gt; *) q.
Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-var">_M1</span></a></span><span> </span><span class="annot"><span class="annottext">Iso (M1 C m g x) (M1 C m h x) (g x) (h x)
-&gt; Optic An_Iso NoIx (g x) (h x) a b
-&gt; Optic An_Iso NoIx (M1 C m g x) (M1 C m h x) a b
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">Optic An_Iso NoIx (g x) (h x) a b
forall x. Iso (g x) (h x) a b
forall (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorTuple g h a b =&gt;
Iso (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var">gconstructorTuple</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-keyword">class</span><span> </span><span id="GConstructorTuple"><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-var">GConstructorTuple</span></a></span></span><span> </span><span id="local-6989586621679141753"><span class="annot"><a href="#local-6989586621679141753"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141754"><span class="annot"><a href="#local-6989586621679141754"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679141755"><span class="annot"><a href="#local-6989586621679141755"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679141756"><span class="annot"><a href="#local-6989586621679141756"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679141753"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141755"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-431"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141754"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141756"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-432"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141753"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141756"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141754"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-433"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141754"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141755"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141753"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-434"></span><span>  </span><span id="gconstructorTuple"><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-type">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141752"><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141753"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141752"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141754"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141752"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141755"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141756"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Fon uncluttering types in below instances a bit.</span><span>
</span><span id="line-437"></span><span class="hs-keyword">type</span><span> </span><span id="F"><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-var">F</span></a></span></span><span> </span><span id="local-6989586621679142426"><span class="annot"><a href="#local-6989586621679142426"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679142427"><span class="annot"><a href="#local-6989586621679142427"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679142426"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679142427"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-440"></span><span>  </span><span id="local-6989586621679141762"><span id="local-6989586621679141763"><span id="local-6989586621679141764"><span id="local-6989586621679141765"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Magic.html#Dysfunctional"><span class="hs-identifier hs-type">Dysfunctional</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141762"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141763"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141764"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141765"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Generic based access supports constructors&quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span>
</span><span id="line-443"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;containing up to 5 fields. Please generate&quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span>
</span><span id="line-444"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;PrismS with Template Haskell if you need more.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141762"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141763"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141764"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141765"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-446"></span><span>  </span><span id="local-6989586621679142435"><span class="annot"><span class="annottext">gconstructorTuple :: forall x. Iso (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Iso (g x) (h x) a b
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unreachable&quot;</span></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-449"></span><span>  </span><span id="local-6989586621679141772"><span id="local-6989586621679141773"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141772"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141773"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141772"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141773"><span class="hs-identifier hs-type">b</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>  </span><span id="local-6989586621679142443"><span class="annot"><span class="annottext">gconstructorTuple :: forall x. Iso (U1 x) (U1 x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Optic An_Iso NoIx (U1 x) (U1 x) a b
Iso (U1 x) (U1 x) () ()
forall p q. Iso (U1 p) (U1 q) () ()
</span><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier hs-var">_U1</span></a></span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621679141781"><span id="local-6989586621679141782"><span id="local-6989586621679141783"><span id="local-6989586621679141784"><span id="local-6989586621679141785"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141781"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141782"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141783"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679141784"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141785"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141782"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141785"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141784"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141781"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141783"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>  </span><span id="local-6989586621679142454"><span class="annot"><span class="annottext">gconstructorTuple :: forall x. Iso (F m a x) (F m b x) r s
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Iso (F m a x) (F m b x) r s
forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-463"></span><span>  </span><span id="local-6989586621679141795"><span id="local-6989586621679141796"><span id="local-6989586621679141797"><span id="local-6989586621679141798"><span id="local-6989586621679141799"><span id="local-6989586621679141800"><span id="local-6989586621679141801"><span id="local-6989586621679141802"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141795"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141796"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141797"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141798"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141799"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141800"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-466"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141801"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141796"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141802"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141797"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141801"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141799"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141802"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141800"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141795"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141798"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>  </span><span id="local-6989586621679142461"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso ((:*:) (F m1 a1) (F m2 a2) x) ((:*:) (F m1 b1) (F m2 b2) x) r s
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((:*:) (F m1 a1) (F m2 a2) x -&gt; r)
-&gt; (s -&gt; (:*:) (F m1 b1) (F m2 b2) x)
-&gt; Iso
     ((:*:) (F m1 a1) (F m2 a2) x) ((:*:) (F m1 b1) (F m2 b2) x) r s
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-469"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142462"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142462"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142463"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142463"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142462"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142463"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679142464"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142464"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142465"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142465"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec0 b1 x -&gt; M1 S m1 (Rec0 b1) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b1 -&gt; Rec0 b1 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142464"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m1 (Rec0 b1) x -&gt; F m2 b2 x -&gt; (:*:) (F m1 b1) (F m2 b2) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b2 x -&gt; F m2 b2 x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b2 -&gt; Rec0 b2 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142465"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="annot"><span class="hs-comment">-- | Only for a derived balanced representation.</span></span><span>
</span><span id="line-474"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-475"></span><span>  </span><span id="local-6989586621679141815"><span id="local-6989586621679141816"><span id="local-6989586621679141817"><span id="local-6989586621679141818"><span id="local-6989586621679141819"><span id="local-6989586621679141820"><span id="local-6989586621679141821"><span id="local-6989586621679141822"><span id="local-6989586621679141823"><span id="local-6989586621679141824"><span id="local-6989586621679141825"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141815"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141816"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141817"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141818"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141819"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141820"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141821"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141822"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-478"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141823"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141816"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141824"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141817"><span class="hs-identifier hs-type">a2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141825"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141818"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141823"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141820"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141824"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141821"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141825"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141822"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141815"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141819"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-480"></span><span>  </span><span id="local-6989586621679142472"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso
  ((:*:) (F m1 a1) (F m2 a2 :*: F m3 a3) x)
  ((:*:) (F m1 b1) (F m2 b2 :*: F m3 b3) x)
  r
  s
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((:*:) (F m1 a1) (F m2 a2 :*: F m3 a3) x -&gt; r)
-&gt; (s -&gt; (:*:) (F m1 b1) (F m2 b2 :*: F m3 b3) x)
-&gt; Iso
     ((:*:) (F m1 a1) (F m2 a2 :*: F m3 a3) x)
     ((:*:) (F m1 b1) (F m2 b2 :*: F m3 b3) x)
     r
     s
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-481"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142473"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142473"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142474"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142474"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142475"><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679142475"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142473"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142474"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679142475"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-482"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679142476"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142476"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142477"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142477"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142478"><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679142478"><span class="hs-identifier hs-var">b3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec0 b1 x -&gt; M1 S m1 (Rec0 b1) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b1 -&gt; Rec0 b1 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142476"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m1 (Rec0 b1) x
-&gt; (:*:) (F m2 b2) (F m3 b3) x
-&gt; (:*:) (F m1 b1) (F m2 b2 :*: F m3 b3) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b2 x -&gt; M1 S m2 (Rec0 b2) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b2 -&gt; Rec0 b2 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142477"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m2 (Rec0 b2) x -&gt; F m3 b3 x -&gt; (:*:) (F m2 b2) (F m3 b3) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b3 x -&gt; F m3 b3 x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b3 -&gt; Rec0 b3 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679142478"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="annot"><span class="hs-comment">-- | Only for a derived balanced representation.</span></span><span>
</span><span id="line-486"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-487"></span><span>  </span><span id="local-6989586621679141841"><span id="local-6989586621679141842"><span id="local-6989586621679141843"><span id="local-6989586621679141844"><span id="local-6989586621679141845"><span id="local-6989586621679141846"><span id="local-6989586621679141847"><span id="local-6989586621679141848"><span id="local-6989586621679141849"><span id="local-6989586621679141850"><span id="local-6989586621679141851"><span id="local-6989586621679141852"><span id="local-6989586621679141853"><span id="local-6989586621679141854"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141841"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141842"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141843"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141844"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141845"><span class="hs-identifier hs-type">a4</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141846"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141847"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141848"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141849"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141850"><span class="hs-identifier hs-type">b4</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-490"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141851"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141842"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141852"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141843"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141853"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141844"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141854"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141845"><span class="hs-identifier hs-type">a4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141851"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141847"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141852"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141848"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141853"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141849"><span class="hs-identifier hs-type">b3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141854"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141850"><span class="hs-identifier hs-type">b4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141841"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141846"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-492"></span><span>  </span><span id="local-6989586621679142485"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso
  ((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: F m4 a4) x)
  ((:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: F m4 b4) x)
  r
  s
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: F m4 a4) x -&gt; r)
-&gt; (s -&gt; (:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: F m4 b4) x)
-&gt; Iso
     ((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: F m4 a4) x)
     ((:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: F m4 b4) x)
     r
     s
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-493"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142486"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142486"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142487"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142487"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142488"><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679142488"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142489"><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679142489"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142486"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142487"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679142488"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679142489"><span class="hs-identifier hs-var">a4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679142490"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142490"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142491"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142491"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142492"><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679142492"><span class="hs-identifier hs-var">b3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142493"><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679142493"><span class="hs-identifier hs-var">b4</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rec0 b1 x -&gt; M1 S m1 (Rec0 b1) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b1 -&gt; Rec0 b1 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142490"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m1 (Rec0 b1) x -&gt; F m2 b2 x -&gt; (:*:) (F m1 b1) (F m2 b2) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b2 x -&gt; F m2 b2 x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b2 -&gt; Rec0 b2 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142491"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(:*:) (F m1 b1) (F m2 b2) x
-&gt; (:*:) (F m3 b3) (F m4 b4) x
-&gt; (:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: F m4 b4) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rec0 b3 x -&gt; M1 S m3 (Rec0 b3) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b3 -&gt; Rec0 b3 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679142492"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m3 (Rec0 b3) x -&gt; F m4 b4 x -&gt; (:*:) (F m3 b3) (F m4 b4) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b4 x -&gt; F m4 b4 x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b4 -&gt; Rec0 b4 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679142493"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="annot"><span class="hs-comment">-- | Only for a derived balanced representation.</span></span><span>
</span><span id="line-498"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-499"></span><span>  </span><span id="local-6989586621679141873"><span id="local-6989586621679141874"><span id="local-6989586621679141875"><span id="local-6989586621679141876"><span id="local-6989586621679141877"><span id="local-6989586621679141878"><span id="local-6989586621679141879"><span id="local-6989586621679141880"><span id="local-6989586621679141881"><span id="local-6989586621679141882"><span id="local-6989586621679141883"><span id="local-6989586621679141884"><span id="local-6989586621679141885"><span id="local-6989586621679141886"><span id="local-6989586621679141887"><span id="local-6989586621679141888"><span id="local-6989586621679141889"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679141873"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141874"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141875"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141876"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141877"><span class="hs-identifier hs-type">a4</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141878"><span class="hs-identifier hs-type">a5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141879"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141880"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141881"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141882"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141883"><span class="hs-identifier hs-type">b4</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679141884"><span class="hs-identifier hs-type">b5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-502"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141885"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141874"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141886"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141875"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141887"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141876"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141888"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141877"><span class="hs-identifier hs-type">a4</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141889"><span class="hs-identifier hs-type">m5</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141878"><span class="hs-identifier hs-type">a5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141885"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141880"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141886"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141881"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141887"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141882"><span class="hs-identifier hs-type">b3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141888"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141883"><span class="hs-identifier hs-type">b4</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141889"><span class="hs-identifier hs-type">m5</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141884"><span class="hs-identifier hs-type">b5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141873"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141879"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-504"></span><span>  </span><span id="local-6989586621679142500"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso
  ((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: (F m4 a4 :*: F m5 a5)) x)
  ((:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: (F m4 b4 :*: F m5 b5)) x)
  r
  s
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: (F m4 a4 :*: F m5 a5)) x
 -&gt; r)
-&gt; (s
    -&gt; (:*:)
         (F m1 b1 :*: F m2 b2) (F m3 b3 :*: (F m4 b4 :*: F m5 b5)) x)
-&gt; Iso
     ((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: (F m4 a4 :*: F m5 a5)) x)
     ((:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: (F m4 b4 :*: F m5 b5)) x)
     r
     s
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-505"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142501"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142501"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142502"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142502"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142503"><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679142503"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142504"><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679142504"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142505"><span class="annot"><span class="annottext">a5
</span><a href="#local-6989586621679142505"><span class="hs-identifier hs-var">a5</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-506"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679142501"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679142502"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679142503"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679142504"><span class="hs-identifier hs-var">a4</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a5
</span><a href="#local-6989586621679142505"><span class="hs-identifier hs-var">a5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-507"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679142506"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142506"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142507"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142507"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142508"><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679142508"><span class="hs-identifier hs-var">b3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142509"><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679142509"><span class="hs-identifier hs-var">b4</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142510"><span class="annot"><span class="annottext">b5
</span><a href="#local-6989586621679142510"><span class="hs-identifier hs-var">b5</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-508"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rec0 b1 x -&gt; M1 S m1 (Rec0 b1) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b1 -&gt; Rec0 b1 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679142506"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m1 (Rec0 b1) x -&gt; F m2 b2 x -&gt; (:*:) (F m1 b1) (F m2 b2) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b2 x -&gt; F m2 b2 x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b2 -&gt; Rec0 b2 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679142507"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(:*:) (F m1 b1) (F m2 b2) x
-&gt; (:*:) (F m3 b3) (F m4 b4 :*: F m5 b5) x
-&gt; (:*:)
     (F m1 b1 :*: F m2 b2) (F m3 b3 :*: (F m4 b4 :*: F m5 b5)) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rec0 b3 x -&gt; M1 S m3 (Rec0 b3) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b3 -&gt; Rec0 b3 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679142508"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m3 (Rec0 b3) x
-&gt; (:*:) (F m4 b4) (F m5 b5) x
-&gt; (:*:) (F m3 b3) (F m4 b4 :*: F m5 b5) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b4 x -&gt; M1 S m4 (Rec0 b4) x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b4 -&gt; Rec0 b4 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679142509"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M1 S m4 (Rec0 b4) x -&gt; F m5 b5 x -&gt; (:*:) (F m4 b4) (F m5 b5) x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Rec0 b5 x -&gt; F m5 b5 x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b5 -&gt; Rec0 b5 x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b5
</span><a href="#local-6989586621679142510"><span class="hs-identifier hs-var">b5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- Types</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-keyword">class</span><span> </span><span id="GPlateImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-var">GPlateImpl</span></a></span></span><span> </span><span id="local-6989586621679141898"><span class="annot"><a href="#local-6989586621679141898"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679141899"><span class="annot"><a href="#local-6989586621679141899"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-515"></span><span>  </span><span id="gplateImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-type">gplateImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679141894"><span class="annot"><a href="Optics.Traversal.html#TraversalVL%27"><span class="hs-identifier hs-type">TraversalVL'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141898"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141894"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141899"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141900"><span id="local-6989586621679141901"><span id="local-6989586621679141902"><span id="local-6989586621679141903"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141900"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141901"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141902"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141903"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141900"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141901"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-518"></span><span>  </span><span id="local-6989586621679142522"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (M1 i c f x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679142523"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142523"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679142524"><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679142524"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f x -&gt; M1 i c f x
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(f x -&gt; M1 i c f x) -&gt; f (f x) -&gt; f (M1 i c f x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; f x -&gt; f (f x)
forall x. TraversalVL' (f x) a
forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142523"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679142524"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141910"><span id="local-6989586621679141911"><span id="local-6989586621679141912"><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141911"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141912"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141911"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141912"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141911"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-521"></span><span>  </span><span id="local-6989586621679142537"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' ((:+:) f g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679142538"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142538"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679142539"><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679142539"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f x -&gt; (:+:) f g x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">(f x -&gt; (:+:) f g x) -&gt; f (f x) -&gt; f ((:+:) f g x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; f x -&gt; f (f x)
forall x. TraversalVL' (f x) a
forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142538"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679142539"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span id="local-6989586621679142540"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142540"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679142541"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142541"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g x -&gt; (:+:) f g x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">(g x -&gt; (:+:) f g x) -&gt; f (g x) -&gt; f ((:+:) f g x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; g x -&gt; f (g x)
forall x. TraversalVL' (g x) a
forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142540"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142541"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141918"><span id="local-6989586621679141919"><span id="local-6989586621679141920"><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141919"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141920"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141919"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679141920"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141919"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-525"></span><span>  </span><span id="local-6989586621679142554"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' ((:*:) f g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679142555"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142555"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142556"><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679142556"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679142557"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142557"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f x -&gt; g x -&gt; (:*:) f g x
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">(:*:)</span></span><span> </span><span class="annot"><span class="annottext">(f x -&gt; g x -&gt; (:*:) f g x) -&gt; f (f x) -&gt; f (g x -&gt; (:*:) f g x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; f x -&gt; f (f x)
forall x. TraversalVL' (f x) a
forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142555"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679142556"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">f (g x -&gt; (:*:) f g x) -&gt; f (g x) -&gt; f ((:*:) f g x)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; g x -&gt; f (g x)
forall x. TraversalVL' (g x) a
forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142555"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679142557"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-526"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-pragma hs-type">gplateImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="annot"><span class="hs-comment">-- | Matching type.</span></span><span>
</span><span id="line-529"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679141927"><span id="local-6989586621679141928"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141927"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141928"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141928"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-530"></span><span>  </span><span id="local-6989586621679142563"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (K1 i a x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679142564"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142564"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142565"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679142565"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; K1 i a x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; K1 i a x) -&gt; f a -&gt; f (K1 i a x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142564"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679142565"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span class="annot"><span class="hs-comment">-- | Recurse into the inner type if it has a 'Generic' instance.</span></span><span>
</span><span id="line-533"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141936"><span id="local-6989586621679141937"><span id="local-6989586621679141938"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-type">GPlateInner</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#Defined"><span class="hs-identifier hs-type">Defined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141936"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141936"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141937"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141938"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141936"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141937"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-534"></span><span>  </span><span id="local-6989586621679142574"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (K1 i b x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679142575"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142575"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679142576"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679142576"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; K1 i b x
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; K1 i b x) -&gt; f b -&gt; f (K1 i b x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (repDefined :: Bool) s a.
GPlateInner repDefined s a =&gt;
TraversalVL' s a
</span><a href="Optics.Internal.Generic.html#gplateInner"><span class="hs-identifier hs-var">gplateInner</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#Defined"><span class="hs-identifier hs-type">Defined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141936"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142575"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679142576"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141945"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141945"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-537"></span><span>  </span><span id="local-6989586621679142582"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (U1 x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 x -&gt; f (U1 x)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141950"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V1</span></span><span> </span><span class="annot"><a href="#local-6989586621679141950"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>  </span><span id="local-6989586621679142586"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (V1 x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141955"><span id="local-6989586621679141956"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">URec</span></span><span> </span><span class="annot"><a href="#local-6989586621679141955"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141956"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-543"></span><span>  </span><span id="local-6989586621679142591"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (URec b x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">URec b x -&gt; f (URec b x)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="hs-keyword">class</span><span> </span><span id="GPlateInner"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-var">GPlateInner</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679141941"><span class="annot"><a href="#local-6989586621679141941"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679141942"><span class="annot"><a href="#local-6989586621679141942"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679141943"><span class="annot"><a href="#local-6989586621679141943"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-546"></span><span>  </span><span id="gplateInner"><span class="annot"><a href="Optics.Internal.Generic.html#gplateInner"><span class="hs-identifier hs-type">gplateInner</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Traversal.html#TraversalVL%27"><span class="hs-identifier hs-type">TraversalVL'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141942"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141943"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679141961"><span id="local-6989586621679141962"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679141961"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679141961"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679141962"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-type">GPlateInner</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679141961"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141962"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-549"></span><span>  </span><span id="local-6989586621679142604"><span class="annot"><span class="annottext">gplateInner :: TraversalVL' s a
</span><a href="Optics.Internal.Generic.html#gplateInner"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateInner</span></a></span></span><span> </span><span id="local-6989586621679142605"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142605"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rep s Any -&gt; s) -&gt; f (Rep s Any) -&gt; f s
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rep s Any -&gt; s
forall a x. Generic a =&gt; Rep a x -&gt; a
forall x. Rep s x -&gt; s
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">(f (Rep s Any) -&gt; f s) -&gt; (s -&gt; f (Rep s Any)) -&gt; s -&gt; f s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; Rep s Any -&gt; f (Rep s Any)
forall x. TraversalVL' (Rep s x) a
forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679142605"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Rep s Any -&gt; f (Rep s Any))
-&gt; (s -&gt; Rep s Any) -&gt; s -&gt; f (Rep s Any)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; Rep s Any
forall x. s -&gt; Rep s x
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# INCOHERENT</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679141967"><span id="local-6989586621679141968"><span id="local-6989586621679141969"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-type">GPlateInner</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141967"><span class="hs-identifier hs-type">repNotDefined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141968"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141969"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-552"></span><span>  </span><span id="local-6989586621679142610"><span class="annot"><span class="annottext">gplateInner :: TraversalVL' s a
</span><a href="Optics.Internal.Generic.html#gplateInner"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateInner</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; f s
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- &gt;&gt;&gt; import Optics.Core</span><span>
</span><span id="line-556"></span></pre></body></html>