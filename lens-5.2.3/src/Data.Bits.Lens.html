<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Rank2Types #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Module      :  Data.Bits.Lens</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Copyright   :  (C) 2012-16 Edward Kmett</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Portability :  LiberalTypeSynonyms</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Bits.Lens</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%7C.~"><span class="hs-operator">(.|.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%26.~"><span class="hs-operator">(.&amp;.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%7C.~"><span class="hs-operator">(&lt;.|.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%26.~"><span class="hs-operator">(&lt;.&amp;.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%7C.~"><span class="hs-operator">(&lt;&lt;.|.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%26.~"><span class="hs-operator">(&lt;&lt;.&amp;.~)</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%7C.%3D"><span class="hs-operator">(.|.=)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%26.%3D"><span class="hs-operator">(.&amp;.=)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%7C.%3D"><span class="hs-operator">(&lt;.|.=)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%26.%3D"><span class="hs-operator">(&lt;.&amp;.=)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%7C.%3D"><span class="hs-operator">(&lt;&lt;.|.=)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%26.%3D"><span class="hs-operator">(&lt;&lt;.&amp;.=)</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#bitAt"><span class="hs-identifier">bitAt</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#bits"><span class="hs-identifier">bits</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#byteAt"><span class="hs-identifier">byteAt</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#bytewise"><span class="hs-identifier">bytewise</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.html"><span class="hs-identifier">Control.Lens</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Prelude.html"><span class="hs-identifier">Control.Lens.Internal.Prelude</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Lens</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Monad.State</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Word</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%7C.~"><span class="hs-operator hs-type">.|.~</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%26.~"><span class="hs-operator hs-type">.&amp;.~</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%7C.~"><span class="hs-operator hs-type">&lt;.|.~</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%26.~"><span class="hs-operator hs-type">&lt;.&amp;.~</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%7C.~"><span class="hs-operator hs-type">&lt;&lt;.|.~</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%26.~"><span class="hs-operator hs-type">&lt;&lt;.&amp;.~</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%7C.%3D"><span class="hs-operator hs-type">.|.=</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#.%26.%3D"><span class="hs-operator hs-type">.&amp;.=</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%7C.%3D"><span class="hs-operator hs-type">&lt;.|.=</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C.%26.%3D"><span class="hs-operator hs-type">&lt;.&amp;.=</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%7C.%3D"><span class="hs-operator hs-type">&lt;&lt;.|.=</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%26.%3D"><span class="hs-operator hs-type">&lt;&lt;.&amp;.=</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-comment">-- | Bitwise '.|.' the target(s) of a t'Lens' or t'Setter'.</span><span>
</span><span id="line-41"></span><span class="hs-comment">--</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- &gt;&gt;&gt; _2 .|.~ 6 $ (&quot;hello&quot;,3)</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- (&quot;hello&quot;,7)</span><span>
</span><span id="line-44"></span><span class="hs-comment">--</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- ('.|.~') :: 'Bits' a             =&gt; t'Setter' s t a a    -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- ('.|.~') :: 'Bits' a             =&gt; t'Iso' s t a a       -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- ('.|.~') :: 'Bits' a             =&gt; t'Lens' s t a a      -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- ('.|.~') :: ('Data.Monoid.Monoid' a, 'Bits' a) =&gt; t'Traversal' s t a a -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-51"></span><span id="local-6989586621679390283"><span id="local-6989586621679390285"><span id="local-6989586621679390286"><span class="annot"><a href="Data.Bits.Lens.html#.%7C.~"><span class="hs-operator hs-type">(.|.~)</span></a></span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter"><span class="hs-identifier hs-type">ASetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390285"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390286"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390285"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390286"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span>
</span><span id="line-52"></span><span id="local-6989586621679390479"><span class="annot"><span class="annottext">ASetter s t a a
</span><a href="#local-6989586621679390479"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id=".%7C.~"><span class="annot"><span class="annottext">.|.~ :: forall a s t. Bits a =&gt; ASetter s t a a -&gt; a -&gt; s -&gt; t
</span><a href="Data.Bits.Lens.html#.%7C.~"><span class="hs-operator hs-var hs-var">.|.~</span></a></span></span><span> </span><span id="local-6989586621679390480"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390480"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ASetter s t a a -&gt; (a -&gt; a) -&gt; s -&gt; t
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="Control.Lens.Setter.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter s t a a
</span><a href="#local-6989586621679390479"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390480"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.|.~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-comment">-- | Bitwise '.&amp;.' the target(s) of a t'Lens' or t'Setter'.</span><span>
</span><span id="line-56"></span><span class="hs-comment">--</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- &gt;&gt;&gt; _2 .&amp;.~ 7 $ (&quot;hello&quot;,254)</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- (&quot;hello&quot;,6)</span><span>
</span><span id="line-59"></span><span class="hs-comment">--</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- ('.&amp;.~') :: 'Bits' a             =&gt; t'Setter' s t a a    -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- ('.&amp;.~') :: 'Bits' a             =&gt; t'Iso' s t a a       -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- ('.&amp;.~') :: 'Bits' a             =&gt; t'Lens' s t a a      -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- ('.&amp;.~') :: ('Data.Monoid.Monoid' a, 'Bits' a) =&gt; t'Traversal' s t a a -&gt; a -&gt; s -&gt; t</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-66"></span><span id="local-6989586621679390483"><span id="local-6989586621679390484"><span id="local-6989586621679390485"><span class="annot"><a href="Data.Bits.Lens.html#.%26.~"><span class="hs-operator hs-type">(.&amp;.~)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter"><span class="hs-identifier hs-type">ASetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390484"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390485"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390484"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390485"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span>
</span><span id="line-67"></span><span id="local-6989586621679390488"><span class="annot"><span class="annottext">ASetter s t a a
</span><a href="#local-6989586621679390488"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id=".%26.~"><span class="annot"><span class="annottext">.&amp;.~ :: forall a s t. Bits a =&gt; ASetter s t a a -&gt; a -&gt; s -&gt; t
</span><a href="Data.Bits.Lens.html#.%26.~"><span class="hs-operator hs-var hs-var">.&amp;.~</span></a></span></span><span> </span><span id="local-6989586621679390489"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390489"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ASetter s t a a -&gt; (a -&gt; a) -&gt; s -&gt; t
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="Control.Lens.Setter.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter s t a a
</span><a href="#local-6989586621679390488"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390489"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.&amp;.~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- | Modify the target(s) of a 'Lens'', 'Setter'' or 'Traversal'' by computing its bitwise '.&amp;.' with another value.</span><span>
</span><span id="line-71"></span><span class="hs-comment">--</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- &gt;&gt;&gt; execState (do _1 .&amp;.= 15; _2 .&amp;.= 3) (7,7)</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- (7,3)</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- ('.&amp;.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Setter'' s a    -&gt; a -&gt; m ()</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- ('.&amp;.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Iso'' s a       -&gt; a -&gt; m ()</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- ('.&amp;.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Lens'' s a      -&gt; a -&gt; m ()</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- ('.&amp;.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Traversal'' s a -&gt; a -&gt; m ()</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-81"></span><span id="local-6989586621679390299"><span id="local-6989586621679390300"><span id="local-6989586621679390302"><span class="annot"><a href="Data.Bits.Lens.html#.%26.%3D"><span class="hs-operator hs-type">(.&amp;.=)</span></a></span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679390299"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390300"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390302"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter%27"><span class="hs-identifier hs-type">ASetter'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390299"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390302"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390302"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390300"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-82"></span><span id="local-6989586621679390498"><span class="annot"><span class="annottext">ASetter' s a
</span><a href="#local-6989586621679390498"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id=".%26.%3D"><span class="annot"><span class="annottext">.&amp;.= :: forall s (m :: * -&gt; *) a.
(MonadState s m, Bits a) =&gt;
ASetter' s a -&gt; a -&gt; m ()
</span><a href="Data.Bits.Lens.html#.%26.%3D"><span class="hs-operator hs-var hs-var">.&amp;.=</span></a></span></span><span> </span><span id="local-6989586621679390499"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390499"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; s) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ASetter' s a
</span><a href="#local-6989586621679390498"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter' s a -&gt; a -&gt; s -&gt; s
forall a s t. Bits a =&gt; ASetter s t a a -&gt; a -&gt; s -&gt; t
</span><a href="Data.Bits.Lens.html#.%26.~"><span class="hs-operator hs-var">.&amp;.~</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390499"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.&amp;.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Modify the target(s) of a 'Lens'', t'Setter' or t'Traversal' by computing its bitwise '.|.' with another value.</span><span>
</span><span id="line-86"></span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- &gt;&gt;&gt; execState (do _1 .|.= 15; _2 .|.= 3) (7,7)</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- (15,7)</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- ('.|.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Setter'' s a    -&gt; a -&gt; m ()</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- ('.|.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Iso'' s a       -&gt; a -&gt; m ()</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- ('.|.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Lens'' s a      -&gt; a -&gt; m ()</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- ('.|.=') :: ('MonadState' s m, 'Bits' a) =&gt; 'Traversal'' s a -&gt; a -&gt; m ()</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-96"></span><span id="local-6989586621679390501"><span id="local-6989586621679390502"><span id="local-6989586621679390503"><span class="annot"><a href="Data.Bits.Lens.html#.%7C.%3D"><span class="hs-operator hs-type">(.|.=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679390501"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390502"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390503"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Setter.html#ASetter%27"><span class="hs-identifier hs-type">ASetter'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390501"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390503"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390503"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390502"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-97"></span><span id="local-6989586621679390508"><span class="annot"><span class="annottext">ASetter' s a
</span><a href="#local-6989586621679390508"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id=".%7C.%3D"><span class="annot"><span class="annottext">.|.= :: forall s (m :: * -&gt; *) a.
(MonadState s m, Bits a) =&gt;
ASetter' s a -&gt; a -&gt; m ()
</span><a href="Data.Bits.Lens.html#.%7C.%3D"><span class="hs-operator hs-var hs-var">.|.=</span></a></span></span><span> </span><span id="local-6989586621679390509"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390509"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; s) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ASetter' s a
</span><a href="#local-6989586621679390508"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter' s a -&gt; a -&gt; s -&gt; s
forall a s t. Bits a =&gt; ASetter s t a a -&gt; a -&gt; s -&gt; t
</span><a href="Data.Bits.Lens.html#.%7C.~"><span class="hs-operator hs-var">.|.~</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390509"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.|.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | Bitwise '.|.' the target(s) of a t'Lens' (or t'Traversal'), returning the result</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- (or a monoidal summary of all of the results).</span><span>
</span><span id="line-102"></span><span class="hs-comment">--</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- &gt;&gt;&gt; _2 &lt;.|.~ 6 $ (&quot;hello&quot;,3)</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- (7,(&quot;hello&quot;,7))</span><span>
</span><span id="line-105"></span><span class="hs-comment">--</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- ('&lt;.|.~') :: 'Bits' a             =&gt; t'Iso' s t a a       -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- ('&lt;.|.~') :: 'Bits' a             =&gt; t'Lens' s t a a      -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- ('&lt;.|.~') :: ('Bits' a, 'Data.Monoid.Monoid' a) =&gt; t'Traversal' s t a a -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-111"></span><span id="local-6989586621679390312"><span id="local-6989586621679390313"><span id="local-6989586621679390314"><span class="annot"><a href="Data.Bits.Lens.html#%3C.%7C.~"><span class="hs-operator hs-type">(&lt;.|.~)</span></a></span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390313"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390314"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390313"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679390312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679390314"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-112"></span><span id="local-6989586621679390512"><span class="annot"><span class="annottext">LensLike ((,) a) s t a a
</span><a href="#local-6989586621679390512"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C.%7C.~"><span class="annot"><span class="annottext">&lt;.|.~ :: forall a s t.
Bits a =&gt;
LensLike ((,) a) s t a a -&gt; a -&gt; s -&gt; (a, t)
</span><a href="Data.Bits.Lens.html#%3C.%7C.~"><span class="hs-operator hs-var hs-var">&lt;.|.~</span></a></span></span><span> </span><span id="local-6989586621679390513"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390513"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike ((,) a) s t a a
</span><a href="#local-6989586621679390512"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike ((,) a) s t a a -&gt; (a -&gt; a) -&gt; s -&gt; (a, t)
forall b s t a. LensLike ((,) b) s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)
</span><a href="Control.Lens.Lens.html#%3C%25~"><span class="hs-operator hs-var">&lt;%~</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390513"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.|.~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | Bitwise '.&amp;.' the target(s) of a t'Lens' or t'Traversal', returning the result</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- (or a monoidal summary of all of the results).</span><span>
</span><span id="line-117"></span><span class="hs-comment">--</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- &gt;&gt;&gt; _2 &lt;.&amp;.~ 7 $ (&quot;hello&quot;,254)</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- (6,(&quot;hello&quot;,6))</span><span>
</span><span id="line-120"></span><span class="hs-comment">--</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- ('&lt;.&amp;.~') :: 'Bits' a             =&gt; t'Iso'       s t a a -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- ('&lt;.&amp;.~') :: 'Bits' a             =&gt; t'Lens'      s t a a -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- ('&lt;.&amp;.~') :: ('Bits' a, 'Data.Monoid.Monoid' a) =&gt; t'Traversal' s t a a -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-126"></span><span id="local-6989586621679390515"><span id="local-6989586621679390516"><span id="local-6989586621679390517"><span class="annot"><a href="Data.Bits.Lens.html#%3C.%26.~"><span class="hs-operator hs-type">(&lt;.&amp;.~)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390515"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390515"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390516"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390517"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390515"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390515"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390515"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390516"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679390515"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679390517"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-127"></span><span id="local-6989586621679390520"><span class="annot"><span class="annottext">LensLike ((,) a) s t a a
</span><a href="#local-6989586621679390520"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C.%26.~"><span class="annot"><span class="annottext">&lt;.&amp;.~ :: forall a s t.
Bits a =&gt;
LensLike ((,) a) s t a a -&gt; a -&gt; s -&gt; (a, t)
</span><a href="Data.Bits.Lens.html#%3C.%26.~"><span class="hs-operator hs-var hs-var">&lt;.&amp;.~</span></a></span></span><span> </span><span id="local-6989586621679390521"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390521"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike ((,) a) s t a a
</span><a href="#local-6989586621679390520"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike ((,) a) s t a a -&gt; (a -&gt; a) -&gt; s -&gt; (a, t)
forall b s t a. LensLike ((,) b) s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)
</span><a href="Control.Lens.Lens.html#%3C%25~"><span class="hs-operator hs-var">&lt;%~</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390521"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.&amp;.~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-- | Modify the target(s) of a 'Lens'' (or 'Traversal'') by computing its bitwise '.&amp;.' with another value,</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- returning the result (or a monoidal summary of all of the results traversed).</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- &gt;&gt;&gt; runState (_1 &lt;.&amp;.= 15) (31,0)</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- (15,(15,0))</span><span>
</span><span id="line-135"></span><span class="hs-comment">--</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- ('&lt;.&amp;.=') :: ('MonadState' s m, 'Bits' a)           =&gt; 'Lens'' s a      -&gt; a -&gt; m a</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- ('&lt;.&amp;.=') :: ('MonadState' s m, 'Bits' a, 'Data.Monoid.Monoid' a) =&gt; 'Traversal'' s a -&gt; a -&gt; m a</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-140"></span><span id="local-6989586621679390326"><span id="local-6989586621679390327"><span id="local-6989586621679390328"><span class="annot"><a href="Data.Bits.Lens.html#%3C.%26.%3D"><span class="hs-operator hs-type">(&lt;.&amp;.=)</span></a></span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679390326"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390327"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390328"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span class="annot"><a href="#local-6989586621679390328"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390326"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390328"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390328"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390327"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390328"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-141"></span><span id="local-6989586621679390526"><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390526"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C.%26.%3D"><span class="annot"><span class="annottext">&lt;.&amp;.= :: forall s (m :: * -&gt; *) a.
(MonadState s m, Bits a) =&gt;
LensLike' ((,) a) s a -&gt; a -&gt; m a
</span><a href="Data.Bits.Lens.html#%3C.%26.%3D"><span class="hs-operator hs-var hs-var">&lt;.&amp;.=</span></a></span></span><span> </span><span id="local-6989586621679390527"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390527"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390526"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a -&gt; (a -&gt; a) -&gt; m a
forall s (m :: * -&gt; *) b a.
MonadState s m =&gt;
LensLike ((,) b) s s a b -&gt; (a -&gt; b) -&gt; m b
</span><a href="Control.Lens.Lens.html#%3C%25%3D"><span class="hs-operator hs-var">&lt;%=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390527"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.&amp;.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- | Modify the target(s) of a 'Lens'', (or t'Traversal') by computing its bitwise '.|.' with another value,</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- returning the result (or a monoidal summary of all of the results traversed).</span><span>
</span><span id="line-146"></span><span class="hs-comment">--</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- &gt;&gt;&gt; runState (_1 &lt;.|.= 7) (28,0)</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- (31,(31,0))</span><span>
</span><span id="line-149"></span><span class="hs-comment">--</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- ('&lt;.|.=') :: ('MonadState' s m, 'Bits' a)           =&gt; 'Lens'' s a      -&gt; a -&gt; m a</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- ('&lt;.|.=') :: ('MonadState' s m, 'Bits' a, 'Data.Monoid.Monoid' a) =&gt; 'Traversal'' s a -&gt; a -&gt; m a</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-154"></span><span id="local-6989586621679390529"><span id="local-6989586621679390530"><span id="local-6989586621679390531"><span class="annot"><a href="Data.Bits.Lens.html#%3C.%7C.%3D"><span class="hs-operator hs-type">(&lt;.|.=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679390529"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390530"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span class="annot"><a href="#local-6989586621679390531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390529"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390531"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390531"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390530"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390531"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-155"></span><span id="local-6989586621679390536"><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390536"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C.%7C.%3D"><span class="annot"><span class="annottext">&lt;.|.= :: forall s (m :: * -&gt; *) a.
(MonadState s m, Bits a) =&gt;
LensLike' ((,) a) s a -&gt; a -&gt; m a
</span><a href="Data.Bits.Lens.html#%3C.%7C.%3D"><span class="hs-operator hs-var hs-var">&lt;.|.=</span></a></span></span><span> </span><span id="local-6989586621679390537"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390537"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390536"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a -&gt; (a -&gt; a) -&gt; m a
forall s (m :: * -&gt; *) b a.
MonadState s m =&gt;
LensLike ((,) b) s s a b -&gt; (a -&gt; b) -&gt; m b
</span><a href="Control.Lens.Lens.html#%3C%25%3D"><span class="hs-operator hs-var">&lt;%=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390537"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.|.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- | Bitwise '.&amp;.' the target(s) of a t'Lens' or t'Traversal', and return the</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- original value, or a monoidal summary of the original values.</span><span>
</span><span id="line-160"></span><span class="hs-comment">--</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- When you do not need the old value, ('.&amp;.~') is more flexible.</span><span>
</span><span id="line-162"></span><span class="hs-comment">--</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- &gt;&gt;&gt; _2 &lt;&lt;.&amp;.~ 7 $ (&quot;hello&quot;, 254)</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- (254,(&quot;hello&quot;,6))</span><span>
</span><span id="line-165"></span><span class="hs-comment">--</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- ('&lt;&lt;.&amp;.~') ::  'Bits' a            =&gt; t'Iso' s t a a       -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- ('&lt;&lt;.&amp;.~') ::  'Bits' a            =&gt; t'Lens' s t a a      -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- ('&lt;&lt;.&amp;.~') :: ('Bits' a, 'Data.Monoid.Monoid' a) =&gt; t'Traversal' s t a a -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-170"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-171"></span><span id="local-6989586621679390340"><span id="local-6989586621679390341"><span id="local-6989586621679390342"><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%26.~"><span class="hs-operator hs-type">(&lt;&lt;.&amp;.~)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390340"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390341"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span class="annot"><a href="#local-6989586621679390340"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390342"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390340"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390340"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390341"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390342"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679390340"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679390342"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-172"></span><span id="local-6989586621679390540"><span class="annot"><span class="annottext">Optical' (-&gt;) q ((,) a) s a
</span><a href="#local-6989586621679390540"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C%3C.%26.~"><span class="annot"><span class="annottext">&lt;&lt;.&amp;.~ :: forall a (q :: * -&gt; * -&gt; *) s.
Bits a =&gt;
Optical' (-&gt;) q ((,) a) s a -&gt; a -&gt; q s (a, s)
</span><a href="Data.Bits.Lens.html#%3C%3C.%26.~"><span class="hs-operator hs-var hs-var">&lt;&lt;.&amp;.~</span></a></span></span><span> </span><span id="local-6989586621679390541"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390541"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Optical' (-&gt;) q ((,) a) s a
</span><a href="#local-6989586621679390540"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Optical' (-&gt;) q ((,) a) s a -&gt; Optical' (-&gt;) q ((,) a) s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679390542"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390542"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390542"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390542"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390541"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;.&amp;.~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | Bitwise '.|.' the target(s) of a t'Lens' or t'Traversal', and return the</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- original value, or a monoidal summary of the original values.</span><span>
</span><span id="line-177"></span><span class="hs-comment">--</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- When you do not need the old value, ('.|.~') is more flexible.</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- &gt;&gt;&gt; _2 &lt;&lt;.|.~ 6 $ (&quot;hello&quot;, 3)</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- (3,(&quot;hello&quot;,7))</span><span>
</span><span id="line-182"></span><span class="hs-comment">--</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- ('&lt;&lt;.|.~') ::  'Bits' a            =&gt; t'Iso' s t a a       -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- ('&lt;&lt;.|.~') ::  'Bits' a            =&gt; t'Lens' s t a a      -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- ('&lt;&lt;.|.~') :: ('Bits' a, 'Data.Monoid.Monoid' a) =&gt; t'Traversal' s t a a -&gt; a -&gt; s -&gt; (a, t)</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-188"></span><span id="local-6989586621679390543"><span id="local-6989586621679390544"><span id="local-6989586621679390545"><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%7C.~"><span class="hs-operator hs-type">(&lt;&lt;.|.~)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390544"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span class="annot"><a href="#local-6989586621679390543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390545"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390544"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390545"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679390543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679390545"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-189"></span><span id="local-6989586621679390548"><span class="annot"><span class="annottext">Optical' (-&gt;) q ((,) a) s a
</span><a href="#local-6989586621679390548"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C%3C.%7C.~"><span class="annot"><span class="annottext">&lt;&lt;.|.~ :: forall a (q :: * -&gt; * -&gt; *) s.
Bits a =&gt;
Optical' (-&gt;) q ((,) a) s a -&gt; a -&gt; q s (a, s)
</span><a href="Data.Bits.Lens.html#%3C%3C.%7C.~"><span class="hs-operator hs-var hs-var">&lt;&lt;.|.~</span></a></span></span><span> </span><span id="local-6989586621679390549"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390549"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Optical' (-&gt;) q ((,) a) s a
</span><a href="#local-6989586621679390548"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Optical' (-&gt;) q ((,) a) s a -&gt; Optical' (-&gt;) q ((,) a) s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679390550"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390550"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390550"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390550"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390549"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;.|.~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- | Modify the target(s) of a 'Lens'', (or 'Traversal'') by computing its</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- bitwise '.&amp;.' with another value, returning the original value (or a</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- monoidal summary of all the original values).</span><span>
</span><span id="line-195"></span><span class="hs-comment">--</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- When you do not need the old value, ('.&amp;.=') is more flexible.</span><span>
</span><span id="line-197"></span><span class="hs-comment">--</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- &gt;&gt;&gt; runState (_1 &lt;&lt;.&amp;.= 15) (31,0)</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- (31,(15,0))</span><span>
</span><span id="line-200"></span><span class="hs-comment">--</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- ('&lt;&lt;.&amp;.=') :: ('MonadState' s m, 'Bits' a)           =&gt; 'Lens'' s a      -&gt; a -&gt; m a</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- ('&lt;&lt;.&amp;.=') :: ('MonadState' s m, 'Bits' a, 'Data.Monoid.Monoid' a) =&gt; 'Traversal'' s a -&gt; a -&gt; m a</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-205"></span><span id="local-6989586621679390551"><span id="local-6989586621679390552"><span id="local-6989586621679390553"><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%26.%3D"><span class="hs-operator hs-type">(&lt;&lt;.&amp;.=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679390551"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390552"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390553"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390553"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390551"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390553"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390553"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390552"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390553"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-206"></span><span id="local-6989586621679390558"><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390558"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C%3C.%26.%3D"><span class="annot"><span class="annottext">&lt;&lt;.&amp;.= :: forall s (m :: * -&gt; *) a.
(MonadState s m, Bits a) =&gt;
LensLike' ((,) a) s a -&gt; a -&gt; m a
</span><a href="Data.Bits.Lens.html#%3C%3C.%26.%3D"><span class="hs-operator hs-var hs-var">&lt;&lt;.&amp;.=</span></a></span></span><span> </span><span id="local-6989586621679390559"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390559"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390558"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a -&gt; (a -&gt; (a, a)) -&gt; m a
forall {k} s (m :: * -&gt; *) (p :: k -&gt; * -&gt; *) r (a :: k) b.
MonadState s m =&gt;
Over p ((,) r) s s a b -&gt; p a (r, b) -&gt; m r
</span><a href="Control.Lens.Lens.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679390561"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390561"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390561"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390561"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390559"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;.&amp;.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | Modify the target(s) of a 'Lens'', (or 'Traversal'') by computing its</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- bitwise '.|.' with another value, returning the original value (or a</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- monoidal summary of all the original values).</span><span>
</span><span id="line-212"></span><span class="hs-comment">--</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- When you do not need the old value, ('.|.=') is more flexible.</span><span>
</span><span id="line-214"></span><span class="hs-comment">--</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- &gt;&gt;&gt; runState (_1 &lt;&lt;.|.= 7) (28,0)</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- (28,(31,0))</span><span>
</span><span id="line-217"></span><span class="hs-comment">--</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- ('&lt;&lt;.|.=') :: ('MonadState' s m, 'Bits' a)           =&gt; 'Lens'' s a      -&gt; a -&gt; m a</span><span>
</span><span id="line-220"></span><span class="hs-comment">-- ('&lt;&lt;.|.=') :: ('MonadState' s m, 'Bits' a, 'Data.Monoid.Monoid' a) =&gt; 'Traversal'' s a -&gt; a -&gt; m a</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-222"></span><span id="local-6989586621679390562"><span id="local-6989586621679390563"><span id="local-6989586621679390564"><span class="annot"><a href="Data.Bits.Lens.html#%3C%3C.%7C.%3D"><span class="hs-operator hs-type">(&lt;&lt;.|.=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679390562"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390563"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390564"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390564"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679390562"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679390563"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679390564"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-223"></span><span id="local-6989586621679390569"><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390569"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="%3C%3C.%7C.%3D"><span class="annot"><span class="annottext">&lt;&lt;.|.= :: forall s (m :: * -&gt; *) a.
(MonadState s m, Bits a) =&gt;
LensLike' ((,) a) s a -&gt; a -&gt; m a
</span><a href="Data.Bits.Lens.html#%3C%3C.%7C.%3D"><span class="hs-operator hs-var hs-var">&lt;&lt;.|.=</span></a></span></span><span> </span><span id="local-6989586621679390570"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390570"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a
</span><a href="#local-6989586621679390569"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' ((,) a) s a -&gt; (a -&gt; (a, a)) -&gt; m a
forall {k} s (m :: * -&gt; *) (p :: k -&gt; * -&gt; *) r (a :: k) b.
MonadState s m =&gt;
Over p ((,) r) s s a b -&gt; p a (r, b) -&gt; m r
</span><a href="Control.Lens.Lens.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679390571"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390571"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390571"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390571"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390570"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;.|.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-comment">-- | This t'Lens' can be used to access the value of the nth bit in a number.</span><span>
</span><span id="line-227"></span><span class="hs-comment">--</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- @'bitAt' n@ is only a legal t'Lens' into @b@ if @0 '&lt;=' n '&lt;' 'bitSize' ('undefined' :: b)@.</span><span>
</span><span id="line-229"></span><span class="hs-comment">--</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- &gt;&gt;&gt; 16^.bitAt 4</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-232"></span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- &gt;&gt;&gt; 15^.bitAt 4</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-235"></span><span class="hs-comment">--</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- &gt;&gt;&gt; 15 &amp; bitAt 4 .~ True</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- 31</span><span>
</span><span id="line-238"></span><span class="hs-comment">--</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- &gt;&gt;&gt; 16 &amp; bitAt 4 .~ False</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- 0</span><span>
</span><span id="line-241"></span><span id="local-6989586621679390367"><span class="annot"><a href="Data.Bits.Lens.html#bitAt"><span class="hs-identifier hs-type">bitAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390367"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679390367"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-242"></span><span id="bitAt"><span class="annot"><span class="annottext">bitAt :: forall b. Bits b =&gt; Int -&gt; IndexedLens' Int b Bool
</span><a href="Data.Bits.Lens.html#bitAt"><span class="hs-identifier hs-var hs-var">bitAt</span></a></span></span><span> </span><span id="local-6989586621679390584"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390584"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679390585"><span class="annot"><span class="annottext">p Bool (f Bool)
</span><a href="#local-6989586621679390585"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679390586"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390586"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p Bool (f Bool) -&gt; Int -&gt; Bool -&gt; f Bool
forall a b. p a b -&gt; Int -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p Bool (f Bool)
</span><a href="#local-6989586621679390585"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390584"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390586"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390584"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f Bool -&gt; (Bool -&gt; b) -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679390590"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390590"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679390590"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">setBit</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390586"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390584"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">clearBit</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390586"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390584"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-243"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#bitAt"><span class="hs-pragma hs-type">bitAt</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-- | Get the nth byte, counting from the low end.</span><span>
</span><span id="line-246"></span><span class="hs-comment">--</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- @'byteAt' n@ is a legal t'Lens' into @b@ iff @0 '&lt;=' n '&lt;' 'div' ('bitSize' ('undefined' :: b)) 8@</span><span>
</span><span id="line-248"></span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- &gt;&gt;&gt; (0xff00 :: Word16)^.byteAt 0</span><span>
</span><span id="line-250"></span><span class="hs-comment">-- 0</span><span>
</span><span id="line-251"></span><span class="hs-comment">--</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- &gt;&gt;&gt; (0xff00 :: Word16)^.byteAt 1</span><span>
</span><span id="line-253"></span><span class="hs-comment">-- 255</span><span>
</span><span id="line-254"></span><span class="hs-comment">--</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- &gt;&gt;&gt; byteAt 1 .~ 0 $ 0xff00 :: Word16</span><span>
</span><span id="line-256"></span><span class="hs-comment">-- 0</span><span>
</span><span id="line-257"></span><span class="hs-comment">--</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- &gt;&gt;&gt; byteAt 0 .~ 0xff $ 0 :: Word16</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- 255</span><span>
</span><span id="line-260"></span><span id="local-6989586621679390380"><span class="annot"><a href="Data.Bits.Lens.html#byteAt"><span class="hs-identifier hs-type">byteAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679390380"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390380"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-type">IndexedLens'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679390380"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span></span><span>
</span><span id="line-261"></span><span id="byteAt"><span class="annot"><span class="annottext">byteAt :: forall b. (Integral b, Bits b) =&gt; Int -&gt; IndexedLens' Int b Word8
</span><a href="Data.Bits.Lens.html#byteAt"><span class="hs-identifier hs-var hs-var">byteAt</span></a></span></span><span> </span><span id="local-6989586621679390612"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390612"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679390613"><span class="annot"><span class="annottext">p Word8 (f Word8)
</span><a href="#local-6989586621679390613"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679390614"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390614"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; b
forall {a}. Integral a =&gt; a -&gt; b
</span><a href="#local-6989586621679390615"><span class="hs-identifier hs-var">back</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; b) -&gt; f Word8 -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">p Word8 (f Word8) -&gt; Int -&gt; Word8 -&gt; f Word8
forall a b. p a b -&gt; Int -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p Word8 (f Word8)
</span><a href="#local-6989586621679390613"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390612"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Word8
</span><a href="#local-6989586621679390617"><span class="hs-identifier hs-var">forward</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390614"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621679390615"><span class="annot"><span class="annottext">back :: a -&gt; b
</span><a href="#local-6989586621679390615"><span class="hs-identifier hs-var hs-var">back</span></a></span></span><span> </span><span id="local-6989586621679390644"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390644"><span class="hs-identifier hs-var">w8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390644"><span class="hs-identifier hs-var">w8</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390612"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; b
forall a. Bits a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">complement</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><span class="hs-number">255</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390612"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390614"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621679390617"><span class="annot"><span class="annottext">forward :: b -&gt; Word8
</span><a href="#local-6989586621679390617"><span class="hs-identifier hs-var hs-var">forward</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Word8) -&gt; (b -&gt; b) -&gt; b -&gt; Word8
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(.&amp;.)</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">0xff</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; (b -&gt; b) -&gt; b -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Int -&gt; b) -&gt; Int -&gt; b -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390612"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-comment">-- | Traverse over all bits in a numeric type.</span><span>
</span><span id="line-268"></span><span class="hs-comment">--</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- The bit position is available as the index.</span><span>
</span><span id="line-270"></span><span class="hs-comment">--</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- &gt;&gt;&gt; toListOf bits (5 :: Word8)</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- [True,False,True,False,False,False,False,False]</span><span>
</span><span id="line-273"></span><span class="hs-comment">--</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- If you supply this an 'Integer', the result will be an infinite t'Traversal', which</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- can be productively consumed, but not reassembled.</span><span>
</span><span id="line-276"></span><span id="local-6989586621679390400"><span class="annot"><a href="Data.Bits.Lens.html#bits"><span class="hs-identifier hs-type">bits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679390400"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390400"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal%27"><span class="hs-identifier hs-type">IndexedTraversal'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679390400"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-277"></span><span id="bits"><span class="annot"><span class="annottext">bits :: forall b. (Num b, Bits b) =&gt; IndexedTraversal' Int b Bool
</span><a href="Data.Bits.Lens.html#bits"><span class="hs-identifier hs-var hs-var">bits</span></a></span></span><span> </span><span id="local-6989586621679390728"><span class="annot"><span class="annottext">p Bool (f Bool)
</span><a href="#local-6989586621679390728"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679390729"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390729"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Bool) -&gt; b -&gt; b) -&gt; b -&gt; [(Int, Bool)] -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">(Int, Bool) -&gt; b -&gt; b
forall {a}. Bits a =&gt; (Int, Bool) -&gt; a -&gt; a
</span><a href="#local-6989586621679390731"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">([(Int, Bool)] -&gt; b) -&gt; f [(Int, Bool)] -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; f (Int, Bool)) -&gt; [Int] -&gt; f [(Int, Bool)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; f (Int, Bool)
</span><a href="#local-6989586621679390733"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679390734"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>  </span><span id="local-6989586621679390733"><span class="annot"><span class="annottext">g :: Int -&gt; f (Int, Bool)
</span><a href="#local-6989586621679390733"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679390783"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390783"><span class="hs-identifier hs-var">n</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390783"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; (Int, Bool)) -&gt; f Bool -&gt; f (Int, Bool)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">p Bool (f Bool) -&gt; Int -&gt; Bool -&gt; f Bool
forall a b. p a b -&gt; Int -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p Bool (f Bool)
</span><a href="#local-6989586621679390728"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390783"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390729"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390783"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621679390734"><span class="annot"><span class="annottext">bs :: [Int]
</span><a href="#local-6989586621679390734"><span class="hs-identifier hs-var hs-var">bs</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; [Int] -&gt; [Int]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool
</span><a href="#local-6989586621679390788"><span class="hs-identifier hs-var">hasBit</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-280"></span><span>  </span><span id="local-6989586621679390788"><span class="annot"><span class="annottext">hasBit :: Int -&gt; Bool
</span><a href="#local-6989586621679390788"><span class="hs-identifier hs-var hs-var">hasBit</span></a></span></span><span> </span><span id="local-6989586621679390792"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390792"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">complementBit</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390729"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390792"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390729"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-comment">-- test to make sure that complementing this bit actually changes the value</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679390731"><span class="annot"><span class="annottext">step :: (Int, Bool) -&gt; a -&gt; a
</span><a href="#local-6989586621679390731"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679390799"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390799"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679390800"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390800"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">setBit</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390800"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390799"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="#local-6989586621679390731"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, Bool)
</span><span class="hs-identifier">_</span></span><span>        </span><span id="local-6989586621679390801"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390801"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390801"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-283"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#bits"><span class="hs-pragma hs-type">bits</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-comment">-- | Traverse over all the bytes in an integral type, from the low end.</span><span>
</span><span id="line-286"></span><span class="hs-comment">--</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- The byte position is available as the index.</span><span>
</span><span id="line-288"></span><span class="hs-comment">--</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- &gt;&gt;&gt; toListOf bytewise (1312301580 :: Word32)</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- [12,34,56,78]</span><span>
</span><span id="line-291"></span><span class="hs-comment">--</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- If you supply this an 'Integer', the result will be an infinite t'Traversal',</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- which can be productively consumed, but not reassembled.</span><span>
</span><span id="line-294"></span><span class="hs-comment">--</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- Why isn't this function called @bytes@ to match 'bits'? Alas, there</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- is already a function by that name in &quot;Data.ByteString.Lens&quot;.</span><span>
</span><span id="line-297"></span><span id="local-6989586621679390446"><span class="annot"><a href="Data.Bits.Lens.html#bytewise"><span class="hs-identifier hs-type">bytewise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679390446"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621679390446"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal%27"><span class="hs-identifier hs-type">IndexedTraversal'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679390446"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span></span><span>
</span><span id="line-298"></span><span id="bytewise"><span class="annot"><span class="annottext">bytewise :: forall b. (Integral b, Bits b) =&gt; IndexedTraversal' Int b Word8
</span><a href="Data.Bits.Lens.html#bytewise"><span class="hs-identifier hs-var hs-var">bytewise</span></a></span></span><span> </span><span id="local-6989586621679390844"><span class="annot"><span class="annottext">p Word8 (f Word8)
</span><a href="#local-6989586621679390844"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679390845"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390845"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Word8) -&gt; b -&gt; b) -&gt; b -&gt; [(Int, Word8)] -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">(Int, Word8) -&gt; b -&gt; b
forall {a} {a}. (Bits a, Integral a, Num a) =&gt; (Int, a) -&gt; a -&gt; a
</span><a href="#local-6989586621679390846"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">([(Int, Word8)] -&gt; b) -&gt; f [(Int, Word8)] -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; f (Int, Word8)) -&gt; [Int] -&gt; f [(Int, Word8)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; f (Int, Word8)
</span><a href="#local-6989586621679390847"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679390848"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-299"></span><span>  </span><span id="local-6989586621679390847"><span class="annot"><span class="annottext">g :: Int -&gt; f (Int, Word8)
</span><a href="#local-6989586621679390847"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679390906"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390906"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390906"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; (Int, Word8)) -&gt; f Word8 -&gt; f (Int, Word8)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">p Word8 (f Word8) -&gt; Int -&gt; Word8 -&gt; f Word8
forall a b. p a b -&gt; Int -&gt; a -&gt; b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p Word8 (f Word8)
</span><a href="#local-6989586621679390844"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390906"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Word8) -&gt; b -&gt; Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390845"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftR`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390906"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>  </span><span id="local-6989586621679390848"><span class="annot"><span class="annottext">bs :: [Int]
</span><a href="#local-6989586621679390848"><span class="hs-identifier hs-var hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; [Int] -&gt; [Int]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool
</span><a href="#local-6989586621679390909"><span class="hs-identifier hs-var">hasByte</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621679390909"><span class="annot"><span class="annottext">hasByte :: Int -&gt; Bool
</span><a href="#local-6989586621679390909"><span class="hs-identifier hs-var hs-var">hasByte</span></a></span></span><span> </span><span id="local-6989586621679390915"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390915"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">complementBit</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390845"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390915"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679390845"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-302"></span><span>  </span><span id="local-6989586621679390846"><span class="annot"><span class="annottext">step :: (Int, a) -&gt; a -&gt; a
</span><a href="#local-6989586621679390846"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679390937"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390937"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679390938"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390938"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679390939"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390939"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390939"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679390938"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679390937"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Bits.Lens.html#bytewise"><span class="hs-pragma hs-type">bytewise</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-304"></span></pre></body></html>