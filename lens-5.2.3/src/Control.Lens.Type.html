<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span class="hs-cpp">

#if __GLASGOW_HASKELL__ &gt;= 806
</span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span class="hs-cpp">
#else
</span><span class="hs-pragma">{-# LANGUAGE TypeInType #-}</span><span class="hs-cpp">
#endif
</span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Module      :  Control.Lens.Type</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Copyright   :  (C) 2012-16 Edward Kmett</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- Stability   :  provisional</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- Portability :  Rank2Types</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- This module exports the majority of the types that need to appear in user</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- signatures or in documentation when talking about lenses. The remaining types</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- for consuming lenses are distributed across various modules in the hierarchy.</span><span>
</span><span id="line-27"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-28"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Lens.Type</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Other</span></span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Control.Lens.Type.html#Equality"><span class="hs-identifier">Equality</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Equality%27"><span class="hs-identifier">Equality'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#As"><span class="hs-identifier">As</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Iso"><span class="hs-identifier">Iso</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Iso%27"><span class="hs-identifier">Iso'</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Prism"><span class="hs-identifier">Prism</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Prism%27"><span class="hs-identifier">Prism'</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Review"><span class="hs-identifier">Review</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#AReview"><span class="hs-identifier">AReview</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Lenses, Folds and Traversals</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Lens"><span class="hs-identifier">Lens</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Lens%27"><span class="hs-identifier">Lens'</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Traversal"><span class="hs-identifier">Traversal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Traversal%27"><span class="hs-identifier">Traversal'</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Traversal1"><span class="hs-identifier">Traversal1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Traversal1%27"><span class="hs-identifier">Traversal1'</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Setter"><span class="hs-identifier">Setter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Setter%27"><span class="hs-identifier">Setter'</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Getter"><span class="hs-identifier">Getter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier">Fold</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold1"><span class="hs-identifier">Fold1</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed</span></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLens"><span class="hs-identifier">IndexedLens</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier">IndexedLens'</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal"><span class="hs-identifier">IndexedTraversal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal%27"><span class="hs-identifier">IndexedTraversal'</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal1"><span class="hs-identifier">IndexedTraversal1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal1%27"><span class="hs-identifier">IndexedTraversal1'</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedSetter"><span class="hs-identifier">IndexedSetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedSetter%27"><span class="hs-identifier">IndexedSetter'</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedGetter"><span class="hs-identifier">IndexedGetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier">IndexedFold</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold1"><span class="hs-identifier">IndexedFold1</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Index-Preserving</span></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingLens"><span class="hs-identifier">IndexPreservingLens</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingLens%27"><span class="hs-identifier">IndexPreservingLens'</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal"><span class="hs-identifier">IndexPreservingTraversal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal%27"><span class="hs-identifier">IndexPreservingTraversal'</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal1"><span class="hs-identifier">IndexPreservingTraversal1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal1%27"><span class="hs-identifier">IndexPreservingTraversal1'</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingSetter"><span class="hs-identifier">IndexPreservingSetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingSetter%27"><span class="hs-identifier">IndexPreservingSetter'</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingGetter"><span class="hs-identifier">IndexPreservingGetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingFold"><span class="hs-identifier">IndexPreservingFold</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingFold1"><span class="hs-identifier">IndexPreservingFold1</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Common</span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Simple"><span class="hs-identifier">Simple</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier">LensLike</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier">LensLike'</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier">Over</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over%27"><span class="hs-identifier">Over'</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike"><span class="hs-identifier">IndexedLensLike</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike%27"><span class="hs-identifier">IndexedLensLike'</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier">Optical</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier">Optical'</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optic"><span class="hs-identifier">Optic</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optic%27"><span class="hs-identifier">Optic'</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Prelude.html"><span class="hs-identifier">Control.Lens.Internal.Prelude</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Setter.html"><span class="hs-identifier">Control.Lens.Internal.Setter</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html"><span class="hs-identifier">Control.Lens.Internal.Indexed</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Apply</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Lens</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- &gt;&gt;&gt; import Debug.SimpleReflect.Expr</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- &gt;&gt;&gt; import Debug.SimpleReflect.Vars as Vars hiding (f,g,h)</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- &gt;&gt;&gt; let f :: Expr -&gt; Expr; f = Debug.SimpleReflect.Vars.f</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- &gt;&gt;&gt; let g :: Expr -&gt; Expr; g = Debug.SimpleReflect.Vars.g</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- &gt;&gt;&gt; let h :: Expr -&gt; Expr -&gt; Expr; h = Debug.SimpleReflect.Vars.h</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- &gt;&gt;&gt; let getter :: Expr -&gt; Expr; getter = fun &quot;getter&quot;</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- &gt;&gt;&gt; let setter :: Expr -&gt; Expr -&gt; Expr; setter = fun &quot;setter&quot;</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- &gt;&gt;&gt; import Numeric.Natural</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- &gt;&gt;&gt; let nat :: Prism' Integer Natural; nat = prism toInteger $ \i -&gt; if i &lt; 0 then Left i else Right (fromInteger i)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- Lenses</span><span>
</span><span id="line-89"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | A 'Lens' is actually a lens family as described in</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- &lt;http://comonad.com/reader/2012/mirrored-lenses/&gt;.</span><span>
</span><span id="line-93"></span><span class="hs-comment">--</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- With great power comes great responsibility and a 'Lens' is subject to the</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- three common sense 'Lens' laws:</span><span>
</span><span id="line-96"></span><span class="hs-comment">--</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- 1) You get back what you put in:</span><span>
</span><span id="line-98"></span><span class="hs-comment">--</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- 'Control.Lens.Getter.view' l ('Control.Lens.Setter.set' l v s)  &#8801; v</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-102"></span><span class="hs-comment">--</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- 2) Putting back what you got doesn't change anything:</span><span>
</span><span id="line-104"></span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- 'Control.Lens.Setter.set' l ('Control.Lens.Getter.view' l s) s  &#8801; s</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-108"></span><span class="hs-comment">--</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- 3) Setting twice is the same as setting once:</span><span>
</span><span id="line-110"></span><span class="hs-comment">--</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- 'Control.Lens.Setter.set' l v' ('Control.Lens.Setter.set' l v s) &#8801; 'Control.Lens.Setter.set' l v' s</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-114"></span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- These laws are strong enough that the 4 type parameters of a 'Lens' cannot</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- vary fully independently. For more on how they interact, read the \&quot;Why is</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- it a Lens Family?\&quot; section of</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- &lt;http://comonad.com/reader/2012/mirrored-lenses/&gt;.</span><span>
</span><span id="line-119"></span><span class="hs-comment">--</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- There are some emergent properties of these laws:</span><span>
</span><span id="line-121"></span><span class="hs-comment">--</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- 1) @'Control.Lens.Setter.set' l s@ must be injective for every @s@ This is a consequence of law #1</span><span>
</span><span id="line-123"></span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- 2) @'Control.Lens.Setter.set' l@ must be surjective, because of law #2, which indicates that it is possible to obtain any 'v' from some 's' such that @'Control.Lens.Setter.set' s v = s@</span><span>
</span><span id="line-125"></span><span class="hs-comment">--</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- 3) Given just the first two laws you can prove a weaker form of law #3 where the values @v@ that you are setting match:</span><span>
</span><span id="line-127"></span><span class="hs-comment">--</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- 'Control.Lens.Setter.set' l v ('Control.Lens.Setter.set' l v s) &#8801; 'Control.Lens.Setter.set' l v s</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- Every 'Lens' can be used directly as a 'Control.Lens.Setter.Setter' or 'Traversal'.</span><span>
</span><span id="line-133"></span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- You can also use a 'Lens' for 'Control.Lens.Getter.Getting' as if it were a</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- 'Fold' or 'Getter'.</span><span>
</span><span id="line-136"></span><span class="hs-comment">--</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- Since every 'Lens' is a valid 'Traversal', the</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- 'Traversal' laws are required of any 'Lens' you create:</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- l 'pure' &#8801; 'pure'</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- 'fmap' (l f) '.' l g &#8801; 'Data.Functor.Compose.getCompose' '.' l ('Data.Functor.Compose.Compose' '.' 'fmap' f '.' g)</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-144"></span><span class="hs-comment">--</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- type 'Lens' s t a b = forall f. 'Functor' f =&gt; 'LensLike' f s t a b</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-148"></span><span class="hs-keyword">type</span><span> </span><span id="Lens"><span class="annot"><a href="Control.Lens.Type.html#Lens"><span class="hs-identifier hs-var">Lens</span></a></span></span><span> </span><span id="local-6989586621679341296"><span class="annot"><a href="#local-6989586621679341296"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341297"><span class="annot"><a href="#local-6989586621679341297"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341298"><span class="annot"><a href="#local-6989586621679341298"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341299"><span class="annot"><a href="#local-6989586621679341299"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341300"><span class="annot"><a href="#local-6989586621679341300"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341300"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341298"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341300"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341299"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341296"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341300"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341297"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- type 'Lens'' = 'Simple' 'Lens'</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-153"></span><span class="hs-keyword">type</span><span> </span><span id="Lens%27"><span class="annot"><a href="Control.Lens.Type.html#Lens%27"><span class="hs-identifier hs-var">Lens'</span></a></span></span><span> </span><span id="local-6989586621679341301"><span class="annot"><a href="#local-6989586621679341301"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341302"><span class="annot"><a href="#local-6989586621679341302"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341301"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341301"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341302"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341302"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="annot"><span class="hs-comment">-- | Every 'IndexedLens' is a valid 'Lens' and a valid 'Control.Lens.Traversal.IndexedTraversal'.</span></span><span>
</span><span id="line-156"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedLens"><span class="annot"><a href="Control.Lens.Type.html#IndexedLens"><span class="hs-identifier hs-var">IndexedLens</span></a></span></span><span> </span><span id="local-6989586621679341303"><span class="annot"><a href="#local-6989586621679341303"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341304"><span class="annot"><a href="#local-6989586621679341304"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341305"><span class="annot"><a href="#local-6989586621679341305"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341306"><span class="annot"><a href="#local-6989586621679341306"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341307"><span class="annot"><a href="#local-6989586621679341307"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341308"><span class="annot"><a href="#local-6989586621679341308"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341309"><span class="annot"><a href="#local-6989586621679341309"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341303"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341309"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341308"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341309"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341306"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341308"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341307"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341304"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341308"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341305"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- type 'IndexedLens'' i = 'Simple' ('IndexedLens' i)</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-161"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedLens%27"><span class="annot"><a href="Control.Lens.Type.html#IndexedLens%27"><span class="hs-identifier hs-var">IndexedLens'</span></a></span></span><span> </span><span id="local-6989586621679341311"><span class="annot"><a href="#local-6989586621679341311"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341312"><span class="annot"><a href="#local-6989586621679341312"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341313"><span class="annot"><a href="#local-6989586621679341313"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLens"><span class="hs-identifier hs-type">IndexedLens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341311"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341312"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341312"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341313"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341313"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="annot"><span class="hs-comment">-- | An 'IndexPreservingLens' leaves any index it is composed with alone.</span></span><span>
</span><span id="line-164"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingLens"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingLens"><span class="hs-identifier hs-var">IndexPreservingLens</span></a></span></span><span> </span><span id="local-6989586621679341314"><span class="annot"><a href="#local-6989586621679341314"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341315"><span class="annot"><a href="#local-6989586621679341315"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341316"><span class="annot"><a href="#local-6989586621679341316"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341317"><span class="annot"><a href="#local-6989586621679341317"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341318"><span class="annot"><a href="#local-6989586621679341318"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341319"><span class="annot"><a href="#local-6989586621679341319"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341318"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341319"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341318"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341316"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341319"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341317"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341318"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341314"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341319"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341315"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- type 'IndexPreservingLens'' = 'Simple' 'IndexPreservingLens'</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-169"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingLens%27"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingLens%27"><span class="hs-identifier hs-var">IndexPreservingLens'</span></a></span></span><span> </span><span id="local-6989586621679341321"><span class="annot"><a href="#local-6989586621679341321"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341322"><span class="annot"><a href="#local-6989586621679341322"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingLens"><span class="hs-identifier hs-type">IndexPreservingLens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341321"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341321"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341322"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341322"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- Traversals</span><span>
</span><span id="line-173"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | A 'Traversal' can be used directly as a 'Control.Lens.Setter.Setter' or a 'Fold' (but not as a 'Lens') and provides</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- the ability to both read and update multiple fields, subject to some relatively weak 'Traversal' laws.</span><span>
</span><span id="line-177"></span><span class="hs-comment">--</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- These have also been known as multilenses, but they have the signature and spirit of</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- 'Data.Traversable.traverse' :: 'Data.Traversable.Traversable' f =&gt; 'Traversal' (f a) (f b) a b</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-183"></span><span class="hs-comment">--</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- and the more evocative name suggests their application.</span><span>
</span><span id="line-185"></span><span class="hs-comment">--</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- Most of the time the 'Traversal' you will want to use is just 'Data.Traversable.traverse', but you can also pass any</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- 'Lens' or 'Iso' as a 'Traversal', and composition of a 'Traversal' (or 'Lens' or 'Iso') with a 'Traversal' (or 'Lens' or 'Iso')</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- using ('.') forms a valid 'Traversal'.</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- The laws for a 'Traversal' @t@ follow from the laws for 'Data.Traversable.Traversable' as stated in \&quot;The Essence of the Iterator Pattern\&quot;.</span><span>
</span><span id="line-191"></span><span class="hs-comment">--</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- t 'pure' &#8801; 'pure'</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- 'fmap' (t f) '.' t g &#8801; 'Data.Functor.Compose.getCompose' '.' t ('Data.Functor.Compose.Compose' '.' 'fmap' f '.' g)</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-196"></span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- One consequence of this requirement is that a 'Traversal' needs to leave the same number of elements as a</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- candidate for subsequent 'Traversal' that it started with. Another testament to the strength of these laws</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- is that the caveat expressed in section 5.5 of the \&quot;Essence of the Iterator Pattern\&quot; about exotic</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- 'Data.Traversable.Traversable' instances that 'Data.Traversable.traverse' the same entry multiple times was actually already ruled out by the</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- second law in that same paper!</span><span>
</span><span id="line-202"></span><span class="hs-keyword">type</span><span> </span><span id="Traversal"><span class="annot"><a href="Control.Lens.Type.html#Traversal"><span class="hs-identifier hs-var">Traversal</span></a></span></span><span> </span><span id="local-6989586621679341323"><span class="annot"><a href="#local-6989586621679341323"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341324"><span class="annot"><a href="#local-6989586621679341324"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341325"><span class="annot"><a href="#local-6989586621679341325"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341326"><span class="annot"><a href="#local-6989586621679341326"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341327"><span class="annot"><a href="#local-6989586621679341327"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341327"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341325"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341327"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341326"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341323"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341327"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341324"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- type 'Traversal'' = 'Simple' 'Traversal'</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-207"></span><span class="hs-keyword">type</span><span> </span><span id="Traversal%27"><span class="annot"><a href="Control.Lens.Type.html#Traversal%27"><span class="hs-identifier hs-var">Traversal'</span></a></span></span><span> </span><span id="local-6989586621679341328"><span class="annot"><a href="#local-6989586621679341328"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341329"><span class="annot"><a href="#local-6989586621679341329"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Traversal"><span class="hs-identifier hs-type">Traversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341328"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341328"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341329"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341329"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | A 'Traversal' which targets at least one element.</span><span>
</span><span id="line-210"></span><span class="hs-comment">--</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- Note that since 'Apply' is not a superclass of 'Applicative', a 'Traversal1'</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- cannot always be used in place of a 'Traversal'. In such circumstances</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- 'Control.Lens.Traversal.cloneTraversal' will convert a 'Traversal1' into a 'Traversal'.</span><span>
</span><span id="line-214"></span><span class="hs-keyword">type</span><span> </span><span id="Traversal1"><span class="annot"><a href="Control.Lens.Type.html#Traversal1"><span class="hs-identifier hs-var">Traversal1</span></a></span></span><span> </span><span id="local-6989586621679341331"><span class="annot"><a href="#local-6989586621679341331"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341332"><span class="annot"><a href="#local-6989586621679341332"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341333"><span class="annot"><a href="#local-6989586621679341333"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341334"><span class="annot"><a href="#local-6989586621679341334"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341335"><span class="annot"><a href="#local-6989586621679341335"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679341335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341333"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341334"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341331"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341332"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-215"></span><span class="hs-keyword">type</span><span> </span><span id="Traversal1%27"><span class="annot"><a href="Control.Lens.Type.html#Traversal1%27"><span class="hs-identifier hs-var">Traversal1'</span></a></span></span><span> </span><span id="local-6989586621679341336"><span class="annot"><a href="#local-6989586621679341336"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341337"><span class="annot"><a href="#local-6989586621679341337"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Traversal1"><span class="hs-identifier hs-type">Traversal1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341336"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341336"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341337"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341337"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- | Every 'IndexedTraversal' is a valid 'Control.Lens.Traversal.Traversal' or</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- 'Control.Lens.Fold.IndexedFold'.</span><span>
</span><span id="line-219"></span><span class="hs-comment">--</span><span>
</span><span id="line-220"></span><span class="hs-comment">-- The 'Indexed' constraint is used to allow an 'IndexedTraversal' to be used</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- directly as a 'Control.Lens.Traversal.Traversal'.</span><span>
</span><span id="line-222"></span><span class="hs-comment">--</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- The 'Control.Lens.Traversal.Traversal' laws are still required to hold.</span><span>
</span><span id="line-224"></span><span class="hs-comment">--</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- In addition, the index @i@ should satisfy the requirement that it stays</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- unchanged even when modifying the value @a@, otherwise traversals like</span><span>
</span><span id="line-227"></span><span class="hs-comment">-- 'indices' break the 'Traversal' laws.</span><span>
</span><span id="line-228"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedTraversal"><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal"><span class="hs-identifier hs-var">IndexedTraversal</span></a></span></span><span> </span><span id="local-6989586621679341340"><span class="annot"><a href="#local-6989586621679341340"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341341"><span class="annot"><a href="#local-6989586621679341341"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341342"><span class="annot"><a href="#local-6989586621679341342"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341343"><span class="annot"><a href="#local-6989586621679341343"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341344"><span class="annot"><a href="#local-6989586621679341344"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341345"><span class="annot"><a href="#local-6989586621679341345"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341346"><span class="annot"><a href="#local-6989586621679341346"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341340"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341345"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341346"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341345"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341343"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341346"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341344"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341341"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341346"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341342"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- type 'IndexedTraversal'' i = 'Simple' ('IndexedTraversal' i)</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-233"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedTraversal%27"><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal%27"><span class="hs-identifier hs-var">IndexedTraversal'</span></a></span></span><span> </span><span id="local-6989586621679341347"><span class="annot"><a href="#local-6989586621679341347"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341348"><span class="annot"><a href="#local-6989586621679341348"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341349"><span class="annot"><a href="#local-6989586621679341349"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal"><span class="hs-identifier hs-type">IndexedTraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341347"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341348"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341348"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341349"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341349"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedTraversal1"><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal1"><span class="hs-identifier hs-var">IndexedTraversal1</span></a></span></span><span> </span><span id="local-6989586621679341350"><span class="annot"><a href="#local-6989586621679341350"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341351"><span class="annot"><a href="#local-6989586621679341351"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341352"><span class="annot"><a href="#local-6989586621679341352"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341353"><span class="annot"><a href="#local-6989586621679341353"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341354"><span class="annot"><a href="#local-6989586621679341354"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341355"><span class="annot"><a href="#local-6989586621679341355"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341356"><span class="annot"><a href="#local-6989586621679341356"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341350"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341355"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679341356"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341355"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341353"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341356"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341354"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341351"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341356"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341352"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-236"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedTraversal1%27"><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal1%27"><span class="hs-identifier hs-var">IndexedTraversal1'</span></a></span></span><span> </span><span id="local-6989586621679341357"><span class="annot"><a href="#local-6989586621679341357"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341358"><span class="annot"><a href="#local-6989586621679341358"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341359"><span class="annot"><a href="#local-6989586621679341359"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedTraversal1"><span class="hs-identifier hs-type">IndexedTraversal1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341357"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341358"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341358"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341359"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341359"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="annot"><span class="hs-comment">-- | An 'IndexPreservingTraversal' leaves any index it is composed with alone.</span></span><span>
</span><span id="line-239"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingTraversal"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal"><span class="hs-identifier hs-var">IndexPreservingTraversal</span></a></span></span><span> </span><span id="local-6989586621679341360"><span class="annot"><a href="#local-6989586621679341360"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341361"><span class="annot"><a href="#local-6989586621679341361"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341362"><span class="annot"><a href="#local-6989586621679341362"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341363"><span class="annot"><a href="#local-6989586621679341363"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341364"><span class="annot"><a href="#local-6989586621679341364"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341365"><span class="annot"><a href="#local-6989586621679341365"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341364"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341365"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341364"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341362"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341365"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341363"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341364"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341360"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341365"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341361"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- type 'IndexPreservingTraversal'' = 'Simple' 'IndexPreservingTraversal'</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-244"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingTraversal%27"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal%27"><span class="hs-identifier hs-var">IndexPreservingTraversal'</span></a></span></span><span> </span><span id="local-6989586621679341366"><span class="annot"><a href="#local-6989586621679341366"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341367"><span class="annot"><a href="#local-6989586621679341367"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal"><span class="hs-identifier hs-type">IndexPreservingTraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341366"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341366"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341367"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingTraversal1"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal1"><span class="hs-identifier hs-var">IndexPreservingTraversal1</span></a></span></span><span> </span><span id="local-6989586621679341368"><span class="annot"><a href="#local-6989586621679341368"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341369"><span class="annot"><a href="#local-6989586621679341369"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341370"><span class="annot"><a href="#local-6989586621679341370"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341371"><span class="annot"><a href="#local-6989586621679341371"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341372"><span class="annot"><a href="#local-6989586621679341372"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341373"><span class="annot"><a href="#local-6989586621679341373"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341372"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679341373"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341372"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341370"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341373"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341371"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341372"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341368"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341373"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341369"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingTraversal1%27"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal1%27"><span class="hs-identifier hs-var">IndexPreservingTraversal1'</span></a></span></span><span> </span><span id="local-6989586621679341374"><span class="annot"><a href="#local-6989586621679341374"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341375"><span class="annot"><a href="#local-6989586621679341375"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingTraversal1"><span class="hs-identifier hs-type">IndexPreservingTraversal1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341374"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341374"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341375"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341375"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-250"></span><span class="hs-comment">-- Setters</span><span>
</span><span id="line-251"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="hs-comment">-- | The only 'LensLike' law that can apply to a 'Setter' @l@ is that</span><span>
</span><span id="line-254"></span><span class="hs-comment">--</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-256"></span><span class="hs-comment">-- 'Control.Lens.Setter.set' l y ('Control.Lens.Setter.set' l x a) &#8801; 'Control.Lens.Setter.set' l y a</span><span>
</span><span id="line-257"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-258"></span><span class="hs-comment">--</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- You can't 'Control.Lens.Getter.view' a 'Setter' in general, so the other two laws are irrelevant.</span><span>
</span><span id="line-260"></span><span class="hs-comment">--</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- However, two 'Functor' laws apply to a 'Setter':</span><span>
</span><span id="line-262"></span><span class="hs-comment">--</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- 'Control.Lens.Setter.over' l 'id' &#8801; 'id'</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- 'Control.Lens.Setter.over' l f '.' 'Control.Lens.Setter.over' l g &#8801; 'Control.Lens.Setter.over' l (f '.' g)</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-267"></span><span class="hs-comment">--</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- These can be stated more directly:</span><span>
</span><span id="line-269"></span><span class="hs-comment">--</span><span>
</span><span id="line-270"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- l 'pure' &#8801; 'pure'</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- l f '.' 'untainted' '.' l g &#8801; l (f '.' 'untainted' '.' g)</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-274"></span><span class="hs-comment">--</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- You can compose a 'Setter' with a 'Lens' or a 'Traversal' using ('.') from the @Prelude@</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- and the result is always only a 'Setter' and nothing more.</span><span>
</span><span id="line-277"></span><span class="hs-comment">--</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- &gt;&gt;&gt; over traverse f [a,b,c,d]</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- [f a,f b,f c,f d]</span><span>
</span><span id="line-280"></span><span class="hs-comment">--</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- &gt;&gt;&gt; over _1 f (a,b)</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- (f a,b)</span><span>
</span><span id="line-283"></span><span class="hs-comment">--</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- &gt;&gt;&gt; over (traverse._1) f [(a,b),(c,d)]</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- [(f a,b),(f c,d)]</span><span>
</span><span id="line-286"></span><span class="hs-comment">--</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- &gt;&gt;&gt; over both f (a,b)</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- (f a,f b)</span><span>
</span><span id="line-289"></span><span class="hs-comment">--</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- &gt;&gt;&gt; over (traverse.both) f [(a,b),(c,d)]</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- [(f a,f b),(f c,f d)]</span><span>
</span><span id="line-292"></span><span class="hs-keyword">type</span><span> </span><span id="Setter"><span class="annot"><a href="Control.Lens.Type.html#Setter"><span class="hs-identifier hs-var">Setter</span></a></span></span><span> </span><span id="local-6989586621679341378"><span class="annot"><a href="#local-6989586621679341378"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341379"><span class="annot"><a href="#local-6989586621679341379"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341380"><span class="annot"><a href="#local-6989586621679341380"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341381"><span class="annot"><a href="#local-6989586621679341381"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341382"><span class="annot"><a href="#local-6989586621679341382"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Setter.html#Settable"><span class="hs-identifier hs-type">Settable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341382"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341382"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341381"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341378"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341382"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341379"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- | A 'Setter'' is just a 'Setter' that doesn't change the types.</span><span>
</span><span id="line-295"></span><span class="hs-comment">--</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- These are particularly common when talking about monomorphic containers. /e.g./</span><span>
</span><span id="line-297"></span><span class="hs-comment">--</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- 'sets' Data.Text.map :: 'Setter'' 'Data.Text.Internal.Text' 'Char'</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-301"></span><span class="hs-comment">--</span><span>
</span><span id="line-302"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-303"></span><span class="hs-comment">-- type 'Setter'' = 'Simple' 'Setter'</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-305"></span><span class="hs-keyword">type</span><span> </span><span id="Setter%27"><span class="annot"><a href="Control.Lens.Type.html#Setter%27"><span class="hs-identifier hs-var">Setter'</span></a></span></span><span> </span><span id="local-6989586621679341384"><span class="annot"><a href="#local-6989586621679341384"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341385"><span class="annot"><a href="#local-6989586621679341385"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Setter"><span class="hs-identifier hs-type">Setter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341384"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341384"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341385"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341385"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- | Every 'IndexedSetter' is a valid 'Setter'.</span><span>
</span><span id="line-308"></span><span class="hs-comment">--</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- The 'Setter' laws are still required to hold.</span><span>
</span><span id="line-310"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedSetter"><span class="annot"><a href="Control.Lens.Type.html#IndexedSetter"><span class="hs-identifier hs-var">IndexedSetter</span></a></span></span><span> </span><span id="local-6989586621679341386"><span class="annot"><a href="#local-6989586621679341386"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341387"><span class="annot"><a href="#local-6989586621679341387"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341388"><span class="annot"><a href="#local-6989586621679341388"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341389"><span class="annot"><a href="#local-6989586621679341389"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341390"><span class="annot"><a href="#local-6989586621679341390"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341391"><span class="annot"><a href="#local-6989586621679341391"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341392"><span class="annot"><a href="#local-6989586621679341392"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341386"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341392"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Setter.html#Settable"><span class="hs-identifier hs-type">Settable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341391"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341392"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341391"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341390"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341387"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341391"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341388"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- type 'IndexedSetter'' i = 'Simple' ('IndexedSetter' i)</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-316"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedSetter%27"><span class="annot"><a href="Control.Lens.Type.html#IndexedSetter%27"><span class="hs-identifier hs-var">IndexedSetter'</span></a></span></span><span> </span><span id="local-6989586621679341393"><span class="annot"><a href="#local-6989586621679341393"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341394"><span class="annot"><a href="#local-6989586621679341394"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341395"><span class="annot"><a href="#local-6989586621679341395"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedSetter"><span class="hs-identifier hs-type">IndexedSetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341393"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341394"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341394"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341395"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341395"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">-- | An 'IndexPreservingSetter' can be composed with a 'IndexedSetter', 'IndexedTraversal' or 'IndexedLens'</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- and leaves the index intact, yielding an 'IndexedSetter'.</span><span>
</span><span id="line-320"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingSetter"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingSetter"><span class="hs-identifier hs-var">IndexPreservingSetter</span></a></span></span><span> </span><span id="local-6989586621679341396"><span class="annot"><a href="#local-6989586621679341396"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341397"><span class="annot"><a href="#local-6989586621679341397"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341398"><span class="annot"><a href="#local-6989586621679341398"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341399"><span class="annot"><a href="#local-6989586621679341399"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341400"><span class="annot"><a href="#local-6989586621679341400"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341401"><span class="annot"><a href="#local-6989586621679341401"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341400"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Setter.html#Settable"><span class="hs-identifier hs-type">Settable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341401"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341400"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341398"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341401"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341399"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341400"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341396"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341401"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341397"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- type 'IndexedPreservingSetter'' i = 'Simple' 'IndexedPreservingSetter'</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-325"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingSetter%27"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingSetter%27"><span class="hs-identifier hs-var">IndexPreservingSetter'</span></a></span></span><span> </span><span id="local-6989586621679341402"><span class="annot"><a href="#local-6989586621679341402"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341403"><span class="annot"><a href="#local-6989586621679341403"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingSetter"><span class="hs-identifier hs-type">IndexPreservingSetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341402"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341402"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341403"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341403"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- Isomorphisms</span><span>
</span><span id="line-329"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | Isomorphism families can be composed with another 'Lens' using ('.') and 'id'.</span><span>
</span><span id="line-332"></span><span class="hs-comment">--</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- Since every 'Iso' is both a valid 'Lens' and a valid 'Prism', the laws for those types</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- imply the following laws for an 'Iso' 'f':</span><span>
</span><span id="line-335"></span><span class="hs-comment">--</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- f '.' 'Control.Lens.Iso.from' f &#8801; 'id'</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- 'Control.Lens.Iso.from' f '.' f &#8801; 'id'</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-340"></span><span class="hs-comment">--</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- Note: Composition with an 'Iso' is index- and measure- preserving.</span><span>
</span><span id="line-342"></span><span class="hs-keyword">type</span><span> </span><span id="Iso"><span class="annot"><a href="Control.Lens.Type.html#Iso"><span class="hs-identifier hs-var">Iso</span></a></span></span><span> </span><span id="local-6989586621679341404"><span class="annot"><a href="#local-6989586621679341404"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341405"><span class="annot"><a href="#local-6989586621679341405"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341406"><span class="annot"><a href="#local-6989586621679341406"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341407"><span class="annot"><a href="#local-6989586621679341407"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341408"><span class="annot"><a href="#local-6989586621679341408"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341409"><span class="annot"><a href="#local-6989586621679341409"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341408"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341409"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341408"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341406"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341409"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341407"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341408"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341404"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341409"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341405"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- type 'Iso'' = 'Control.Lens.Type.Simple' 'Iso'</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-347"></span><span class="hs-keyword">type</span><span> </span><span id="Iso%27"><span class="annot"><a href="Control.Lens.Type.html#Iso%27"><span class="hs-identifier hs-var">Iso'</span></a></span></span><span> </span><span id="local-6989586621679341411"><span class="annot"><a href="#local-6989586621679341411"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341412"><span class="annot"><a href="#local-6989586621679341412"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341411"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341411"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341412"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341412"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- Review Internals</span><span>
</span><span id="line-351"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- | This is a limited form of a 'Prism' that can only be used for 're' operations.</span><span>
</span><span id="line-354"></span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- Like with a 'Getter', there are no laws to state for a 'Review'.</span><span>
</span><span id="line-356"></span><span class="hs-comment">--</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- You can generate a 'Review' by using 'unto'. You can also use any 'Prism' or 'Iso'</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- directly as a 'Review'.</span><span>
</span><span id="line-359"></span><span class="hs-keyword">type</span><span> </span><span id="Review"><span class="annot"><a href="Control.Lens.Type.html#Review"><span class="hs-identifier hs-var">Review</span></a></span></span><span> </span><span id="local-6989586621679341413"><span class="annot"><a href="#local-6989586621679341413"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341414"><span class="annot"><a href="#local-6989586621679341414"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341415"><span class="annot"><a href="#local-6989586621679341415"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341416"><span class="annot"><a href="#local-6989586621679341416"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Choice</span></span><span> </span><span class="annot"><a href="#local-6989586621679341415"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bifunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341415"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Setter.html#Settable"><span class="hs-identifier hs-type">Settable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341416"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optic%27"><span class="hs-identifier hs-type">Optic'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341415"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341416"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341413"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341414"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="hs-comment">-- | If you see this in a signature for a function, the function is expecting a 'Review'</span><span>
</span><span id="line-362"></span><span class="hs-comment">-- (in practice, this usually means a 'Prism').</span><span>
</span><span id="line-363"></span><span class="hs-keyword">type</span><span> </span><span id="AReview"><span class="annot"><a href="Control.Lens.Type.html#AReview"><span class="hs-identifier hs-var">AReview</span></a></span></span><span> </span><span id="local-6989586621679341419"><span class="annot"><a href="#local-6989586621679341419"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341420"><span class="annot"><a href="#local-6989586621679341420"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optic%27"><span class="hs-identifier hs-type">Optic'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679341419"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341420"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- Prism Internals</span><span>
</span><span id="line-367"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="hs-comment">-- | A 'Prism' @l@ is a 'Traversal' that can also be turned</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- around with 'Control.Lens.Review.re' to obtain a 'Getter' in the</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- opposite direction.</span><span>
</span><span id="line-372"></span><span class="hs-comment">--</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- There are three laws that a 'Prism' should satisfy:</span><span>
</span><span id="line-374"></span><span class="hs-comment">--</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- First, if I 'Control.Lens.Review.re' or 'Control.Lens.Review.review' a value with a 'Prism' and then 'Control.Lens.Fold.preview' or use ('Control.Lens.Fold.^?'), I will get it back:</span><span>
</span><span id="line-376"></span><span class="hs-comment">--</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- 'Control.Lens.Fold.preview' l ('Control.Lens.Review.review' l b) &#8801; 'Just' b</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-380"></span><span class="hs-comment">--</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- Second, if you can extract a value @a@ using a 'Prism' @l@ from a value @s@, then the value @s@ is completely described by @l@ and @a@:</span><span>
</span><span id="line-382"></span><span class="hs-comment">--</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- 'Control.Lens.Fold.preview' l s &#8801; 'Just' a &#10233; 'Control.Lens.Review.review' l a &#8801; s</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-386"></span><span class="hs-comment">--</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- Third, if you get non-match @t@, you can convert it result back to @s@:</span><span>
</span><span id="line-388"></span><span class="hs-comment">--</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- 'Control.Lens.Combinators.matching' l s &#8801; 'Left' t &#10233; 'Control.Lens.Combinators.matching' l t &#8801; 'Left' s</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-392"></span><span class="hs-comment">--</span><span>
</span><span id="line-393"></span><span class="hs-comment">-- The first two laws imply that the 'Traversal' laws hold for every 'Prism' and that we 'Data.Traversable.traverse' at most 1 element:</span><span>
</span><span id="line-394"></span><span class="hs-comment">--</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- 'Control.Lens.Fold.lengthOf' l x '&lt;=' 1</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-398"></span><span class="hs-comment">--</span><span>
</span><span id="line-399"></span><span class="hs-comment">-- It may help to think of this as an 'Iso' that can be partial in one direction.</span><span>
</span><span id="line-400"></span><span class="hs-comment">--</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- Every 'Prism' is a valid 'Traversal'.</span><span>
</span><span id="line-402"></span><span class="hs-comment">--</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- Every 'Iso' is a valid 'Prism'.</span><span>
</span><span id="line-404"></span><span class="hs-comment">--</span><span>
</span><span id="line-405"></span><span class="hs-comment">-- For example, you might have a @'Prism'' 'Integer' 'Numeric.Natural.Natural'@ allows you to always</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- go from a 'Numeric.Natural.Natural' to an 'Integer', and provide you with tools to check if an 'Integer' is</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- a 'Numeric.Natural.Natural' and/or to edit one if it is.</span><span>
</span><span id="line-408"></span><span class="hs-comment">--</span><span>
</span><span id="line-409"></span><span class="hs-comment">--</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- 'nat' :: 'Prism'' 'Integer' 'Numeric.Natural.Natural'</span><span>
</span><span id="line-412"></span><span class="hs-comment">-- 'nat' = 'Control.Lens.Prism.prism' 'toInteger' '$' \\ i -&gt;</span><span>
</span><span id="line-413"></span><span class="hs-comment">--    if i '&lt;' 0</span><span>
</span><span id="line-414"></span><span class="hs-comment">--    then 'Left' i</span><span>
</span><span id="line-415"></span><span class="hs-comment">--    else 'Right' ('fromInteger' i)</span><span>
</span><span id="line-416"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-417"></span><span class="hs-comment">--</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- Now we can ask if an 'Integer' is a 'Numeric.Natural.Natural'.</span><span>
</span><span id="line-419"></span><span class="hs-comment">--</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- &gt;&gt;&gt; 5^?nat</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- Just 5</span><span>
</span><span id="line-422"></span><span class="hs-comment">--</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- &gt;&gt;&gt; (-5)^?nat</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-425"></span><span class="hs-comment">--</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- We can update the ones that are:</span><span>
</span><span id="line-427"></span><span class="hs-comment">--</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- &gt;&gt;&gt; (-3,4) &amp; both.nat *~ 2</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- (-3,8)</span><span>
</span><span id="line-430"></span><span class="hs-comment">--</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- And we can then convert from a 'Numeric.Natural.Natural' to an 'Integer'.</span><span>
</span><span id="line-432"></span><span class="hs-comment">--</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- &gt;&gt;&gt; 5 ^. re nat -- :: Natural</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- 5</span><span>
</span><span id="line-435"></span><span class="hs-comment">--</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Similarly we can use a 'Prism' to 'Data.Traversable.traverse' the 'Left' half of an 'Either':</span><span>
</span><span id="line-437"></span><span class="hs-comment">--</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- &gt;&gt;&gt; Left &quot;hello&quot; &amp; _Left %~ length</span><span>
</span><span id="line-439"></span><span class="hs-comment">-- Left 5</span><span>
</span><span id="line-440"></span><span class="hs-comment">--</span><span>
</span><span id="line-441"></span><span class="hs-comment">-- or to construct an 'Either':</span><span>
</span><span id="line-442"></span><span class="hs-comment">--</span><span>
</span><span id="line-443"></span><span class="hs-comment">-- &gt;&gt;&gt; 5^.re _Left</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- Left 5</span><span>
</span><span id="line-445"></span><span class="hs-comment">--</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- such that if you query it with the 'Prism', you will get your original input back.</span><span>
</span><span id="line-447"></span><span class="hs-comment">--</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- &gt;&gt;&gt; 5^.re _Left ^? _Left</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- Just 5</span><span>
</span><span id="line-450"></span><span class="hs-comment">--</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- Another interesting way to think of a 'Prism' is as the categorical dual of a 'Lens'</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- -- a co-'Lens', so to speak. This is what permits the construction of 'Control.Lens.Prism.outside'.</span><span>
</span><span id="line-453"></span><span class="hs-comment">--</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- Note: Composition with a 'Prism' is index-preserving.</span><span>
</span><span id="line-455"></span><span class="hs-keyword">type</span><span> </span><span id="Prism"><span class="annot"><a href="Control.Lens.Type.html#Prism"><span class="hs-identifier hs-var">Prism</span></a></span></span><span> </span><span id="local-6989586621679341425"><span class="annot"><a href="#local-6989586621679341425"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341426"><span class="annot"><a href="#local-6989586621679341426"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341427"><span class="annot"><a href="#local-6989586621679341427"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341428"><span class="annot"><a href="#local-6989586621679341428"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341429"><span class="annot"><a href="#local-6989586621679341429"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341430"><span class="annot"><a href="#local-6989586621679341430"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Choice</span></span><span> </span><span class="annot"><a href="#local-6989586621679341429"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341430"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341429"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341427"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341430"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341428"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341429"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341425"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341430"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341426"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="annot"><span class="hs-comment">-- | A 'Simple' 'Prism'.</span></span><span>
</span><span id="line-458"></span><span class="hs-keyword">type</span><span> </span><span id="Prism%27"><span class="annot"><a href="Control.Lens.Type.html#Prism%27"><span class="hs-identifier hs-var">Prism'</span></a></span></span><span> </span><span id="local-6989586621679341431"><span class="annot"><a href="#local-6989586621679341431"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341432"><span class="annot"><a href="#local-6989586621679341432"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341431"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341431"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341432"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341432"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- Equality</span><span>
</span><span id="line-462"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- | A witness that @(a ~ s, b ~ t)@.</span><span>
</span><span id="line-465"></span><span class="hs-comment">--</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- Note: Composition with an 'Equality' is index-preserving.</span><span>
</span><span id="line-467"></span><span class="hs-keyword">type</span><span> </span><span id="Equality"><span class="annot"><a href="Control.Lens.Type.html#Equality"><span class="hs-identifier hs-var">Equality</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679341433"><span class="annot"><a href="#local-6989586621679341433"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679341434"><span class="hs-identifier hs-type">k1</span></a></span><span class="hs-special">)</span><span id="local-6989586621679341434"><span id="local-6989586621679341435"><span> </span><span class="hs-special">(</span><span id="local-6989586621679341436"><span class="annot"><a href="#local-6989586621679341436"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679341435"><span class="hs-identifier hs-type">k2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679341437"><span class="annot"><a href="#local-6989586621679341437"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679341434"><span class="hs-identifier hs-type">k1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">k2</span></span></span><span id="local-6989586621679341434"><span id="local-6989586621679341435"></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341438"><span class="annot"><a href="#local-6989586621679341438"><span class="hs-identifier hs-type">k3</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679341439"><span class="annot"><a href="#local-6989586621679341439"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679341434"><span class="hs-identifier hs-type">k1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341438"><span class="hs-identifier hs-type">k3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679341440"><span class="annot"><a href="#local-6989586621679341440"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679341435"><span class="hs-identifier hs-type">k2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341438"><span class="hs-identifier hs-type">k3</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-operator">.</span><span>
</span><span id="line-468"></span><span>    </span><span class="annot"><a href="#local-6989586621679341439"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341437"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341440"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341439"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341433"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341440"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341436"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span class="annot"><span class="hs-comment">-- | A 'Simple' 'Equality'.</span></span><span>
</span><span id="line-471"></span><span class="hs-keyword">type</span><span> </span><span id="Equality%27"><span class="annot"><a href="Control.Lens.Type.html#Equality%27"><span class="hs-identifier hs-var">Equality'</span></a></span></span><span> </span><span id="local-6989586621679341442"><span class="annot"><a href="#local-6989586621679341442"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341443"><span class="annot"><a href="#local-6989586621679341443"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Equality"><span class="hs-identifier hs-type">Equality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341442"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341442"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341443"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- | Composable `asTypeOf`. Useful for constraining excess</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- polymorphism, @foo . (id :: As Int) . bar@.</span><span>
</span><span id="line-475"></span><span class="hs-keyword">type</span><span> </span><span id="As"><span class="annot"><a href="Control.Lens.Type.html#As"><span class="hs-identifier hs-var">As</span></a></span></span><span> </span><span id="local-6989586621679341445"><span class="annot"><a href="#local-6989586621679341445"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Equality%27"><span class="hs-identifier hs-type">Equality'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341445"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341445"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- Getters</span><span>
</span><span id="line-479"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span class="hs-comment">-- | A 'Getter' describes how to retrieve a single value in a way that can be</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- composed with other 'LensLike' constructions.</span><span>
</span><span id="line-483"></span><span class="hs-comment">--</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- Unlike a 'Lens' a 'Getter' is read-only. Since a 'Getter'</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- cannot be used to write back there are no 'Lens' laws that can be applied to</span><span>
</span><span id="line-486"></span><span class="hs-comment">-- it. In fact, it is isomorphic to an arbitrary function from @(s -&gt; a)@.</span><span>
</span><span id="line-487"></span><span class="hs-comment">--</span><span>
</span><span id="line-488"></span><span class="hs-comment">-- Moreover, a 'Getter' can be used directly as a 'Control.Lens.Fold.Fold',</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- since it just ignores the 'Applicative'.</span><span>
</span><span id="line-490"></span><span class="hs-keyword">type</span><span> </span><span id="Getter"><span class="annot"><a href="Control.Lens.Type.html#Getter"><span class="hs-identifier hs-var">Getter</span></a></span></span><span> </span><span id="local-6989586621679341446"><span class="annot"><a href="#local-6989586621679341446"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341447"><span class="annot"><a href="#local-6989586621679341447"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341448"><span class="annot"><a href="#local-6989586621679341448"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341448"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341448"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341447"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341448"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341447"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341446"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341448"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341446"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="annot"><span class="hs-comment">-- | Every 'IndexedGetter' is a valid 'Control.Lens.Fold.IndexedFold' and can be used for 'Control.Lens.Getter.Getting' like a 'Getter'.</span></span><span>
</span><span id="line-493"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedGetter"><span class="annot"><a href="Control.Lens.Type.html#IndexedGetter"><span class="hs-identifier hs-var">IndexedGetter</span></a></span></span><span> </span><span id="local-6989586621679341450"><span class="annot"><a href="#local-6989586621679341450"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341451"><span class="annot"><a href="#local-6989586621679341451"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341452"><span class="annot"><a href="#local-6989586621679341452"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341453"><span class="annot"><a href="#local-6989586621679341453"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341454"><span class="annot"><a href="#local-6989586621679341454"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341450"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341453"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341454"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341454"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341453"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341452"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341454"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341452"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341451"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341454"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341451"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | An 'IndexPreservingGetter' can be used as a 'Getter', but when composed with an 'IndexedTraversal',</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- 'IndexedFold', or 'IndexedLens' yields an 'IndexedFold', 'IndexedFold' or 'IndexedGetter' respectively.</span><span>
</span><span id="line-497"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingGetter"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingGetter"><span class="hs-identifier hs-var">IndexPreservingGetter</span></a></span></span><span> </span><span id="local-6989586621679341455"><span class="annot"><a href="#local-6989586621679341455"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341456"><span class="annot"><a href="#local-6989586621679341456"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341457"><span class="annot"><a href="#local-6989586621679341457"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341458"><span class="annot"><a href="#local-6989586621679341458"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341457"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341458"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679341458"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341457"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341456"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341458"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341456"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341457"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341455"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341458"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341455"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- Folds</span><span>
</span><span id="line-501"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-comment">-- | A 'Fold' describes how to retrieve multiple values in a way that can be composed</span><span>
</span><span id="line-504"></span><span class="hs-comment">-- with other 'LensLike' constructions.</span><span>
</span><span id="line-505"></span><span class="hs-comment">--</span><span>
</span><span id="line-506"></span><span class="hs-comment">-- A @'Fold' s a@ provides a structure with operations very similar to those of the 'Data.Foldable.Foldable'</span><span>
</span><span id="line-507"></span><span class="hs-comment">-- typeclass, see 'Control.Lens.Fold.foldMapOf' and the other 'Fold' combinators.</span><span>
</span><span id="line-508"></span><span class="hs-comment">--</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- By convention, if there exists a 'foo' method that expects a @'Data.Foldable.Foldable' (f a)@, then there should be a</span><span>
</span><span id="line-510"></span><span class="hs-comment">-- @fooOf@ method that takes a @'Fold' s a@ and a value of type @s@.</span><span>
</span><span id="line-511"></span><span class="hs-comment">--</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- A 'Getter' is a legal 'Fold' that just ignores the supplied 'Data.Monoid.Monoid'.</span><span>
</span><span id="line-513"></span><span class="hs-comment">--</span><span>
</span><span id="line-514"></span><span class="hs-comment">-- Unlike a 'Control.Lens.Traversal.Traversal' a 'Fold' is read-only. Since a 'Fold' cannot be used to write back</span><span>
</span><span id="line-515"></span><span class="hs-comment">-- there are no 'Lens' laws that apply.</span><span>
</span><span id="line-516"></span><span class="hs-keyword">type</span><span> </span><span id="Fold"><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier hs-var">Fold</span></a></span></span><span> </span><span id="local-6989586621679341459"><span class="annot"><a href="#local-6989586621679341459"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341460"><span class="annot"><a href="#local-6989586621679341460"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341461"><span class="annot"><a href="#local-6989586621679341461"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341461"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341461"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341460"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341461"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341460"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341459"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341461"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341459"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="annot"><span class="hs-comment">-- | Every 'IndexedFold' is a valid 'Control.Lens.Fold.Fold' and can be used for 'Control.Lens.Getter.Getting'.</span></span><span>
</span><span id="line-519"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedFold"><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier hs-var">IndexedFold</span></a></span></span><span> </span><span id="local-6989586621679341462"><span class="annot"><a href="#local-6989586621679341462"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341463"><span class="annot"><a href="#local-6989586621679341463"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341464"><span class="annot"><a href="#local-6989586621679341464"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341465"><span class="annot"><a href="#local-6989586621679341465"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341466"><span class="annot"><a href="#local-6989586621679341466"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341462"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341465"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341466"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341466"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341465"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341464"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341466"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341464"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341463"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341466"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341463"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-comment">-- | An 'IndexPreservingFold' can be used as a 'Fold', but when composed with an 'IndexedTraversal',</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- 'IndexedFold', or 'IndexedLens' yields an 'IndexedFold' respectively.</span><span>
</span><span id="line-523"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingFold"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingFold"><span class="hs-identifier hs-var">IndexPreservingFold</span></a></span></span><span> </span><span id="local-6989586621679341467"><span class="annot"><a href="#local-6989586621679341467"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341468"><span class="annot"><a href="#local-6989586621679341468"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341469"><span class="annot"><a href="#local-6989586621679341469"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341470"><span class="annot"><a href="#local-6989586621679341470"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341469"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341470"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679341470"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341469"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341468"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341470"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341468"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341469"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341467"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341470"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341467"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="annot"><span class="hs-comment">-- | A relevant Fold (aka 'Fold1') has one or more targets.</span></span><span>
</span><span id="line-526"></span><span class="hs-keyword">type</span><span> </span><span id="Fold1"><span class="annot"><a href="Control.Lens.Type.html#Fold1"><span class="hs-identifier hs-var">Fold1</span></a></span></span><span> </span><span id="local-6989586621679341471"><span class="annot"><a href="#local-6989586621679341471"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341472"><span class="annot"><a href="#local-6989586621679341472"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341473"><span class="annot"><a href="#local-6989586621679341473"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341473"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679341473"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341473"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341472"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341471"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341473"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341471"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-527"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedFold1"><span class="annot"><a href="Control.Lens.Type.html#IndexedFold1"><span class="hs-identifier hs-var">IndexedFold1</span></a></span></span><span> </span><span id="local-6989586621679341474"><span class="annot"><a href="#local-6989586621679341474"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341475"><span class="annot"><a href="#local-6989586621679341475"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341476"><span class="annot"><a href="#local-6989586621679341476"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341477"><span class="annot"><a href="#local-6989586621679341477"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341478"><span class="annot"><a href="#local-6989586621679341478"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341474"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341477"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341478"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679341478"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341477"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341476"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341478"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341476"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341475"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341478"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341475"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-528"></span><span class="hs-keyword">type</span><span> </span><span id="IndexPreservingFold1"><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingFold1"><span class="hs-identifier hs-var">IndexPreservingFold1</span></a></span></span><span> </span><span id="local-6989586621679341479"><span class="annot"><a href="#local-6989586621679341479"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341480"><span class="annot"><a href="#local-6989586621679341480"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341481"><span class="annot"><a href="#local-6989586621679341481"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341482"><span class="annot"><a href="#local-6989586621679341482"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341481"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679341482"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679341482"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341481"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341480"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341482"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341480"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341481"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341479"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341482"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341479"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- Simple Overloading</span><span>
</span><span id="line-532"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span class="hs-comment">-- | A 'Simple' 'Lens', 'Simple' 'Traversal', ... can</span><span>
</span><span id="line-535"></span><span class="hs-comment">-- be used instead of a 'Lens','Traversal', ...</span><span>
</span><span id="line-536"></span><span class="hs-comment">-- whenever the type variables don't change upon setting a value.</span><span>
</span><span id="line-537"></span><span class="hs-comment">--</span><span>
</span><span id="line-538"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- 'Data.Complex.Lens._imagPart' :: 'Simple' 'Lens' ('Data.Complex.Complex' a) a</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- 'Control.Lens.Traversal.traversed' :: 'Simple' ('IndexedTraversal' 'Int') [a] a</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-542"></span><span class="hs-comment">--</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- Note: To use this alias in your own code with @'LensLike' f@ or</span><span>
</span><span id="line-544"></span><span class="hs-comment">-- 'Setter', you may have to turn on @LiberalTypeSynonyms@.</span><span>
</span><span id="line-545"></span><span class="hs-comment">--</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- This is commonly abbreviated as a \&quot;prime\&quot; marker, /e.g./ 'Lens'' = 'Simple' 'Lens'.</span><span>
</span><span id="line-547"></span><span class="hs-keyword">type</span><span> </span><span id="Simple"><span class="annot"><a href="Control.Lens.Type.html#Simple"><span class="hs-identifier hs-var">Simple</span></a></span></span><span> </span><span id="local-6989586621679341483"><span class="annot"><a href="#local-6989586621679341483"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341484"><span class="annot"><a href="#local-6989586621679341484"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341485"><span class="annot"><a href="#local-6989586621679341485"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679341483"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341484"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341484"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341485"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341485"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-550"></span><span class="hs-comment">-- Optics</span><span>
</span><span id="line-551"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-552"></span><span>
</span><span id="line-553"></span><span class="hs-comment">-- | A valid 'Optic' @l@ should satisfy the laws:</span><span>
</span><span id="line-554"></span><span class="hs-comment">--</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-556"></span><span class="hs-comment">-- l 'pure' &#8801; 'pure'</span><span>
</span><span id="line-557"></span><span class="hs-comment">-- l ('Procompose' f g) = 'Procompose' (l f) (l g)</span><span>
</span><span id="line-558"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-559"></span><span class="hs-comment">--</span><span>
</span><span id="line-560"></span><span class="hs-comment">-- This gives rise to the laws for 'Equality', 'Iso', 'Prism', 'Lens',</span><span>
</span><span id="line-561"></span><span class="hs-comment">-- 'Traversal', 'Traversal1', 'Setter', 'Fold', 'Fold1', and 'Getter' as well</span><span>
</span><span id="line-562"></span><span class="hs-comment">-- along with their index-preserving variants.</span><span>
</span><span id="line-563"></span><span class="hs-comment">--</span><span>
</span><span id="line-564"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-565"></span><span class="hs-comment">-- type 'LensLike' f s t a b = 'Optic' (-&gt;) f s t a b</span><span>
</span><span id="line-566"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-567"></span><span class="hs-keyword">type</span><span> </span><span id="Optic"><span class="annot"><a href="Control.Lens.Type.html#Optic"><span class="hs-identifier hs-var">Optic</span></a></span></span><span> </span><span id="local-6989586621679341486"><span class="annot"><a href="#local-6989586621679341486"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341487"><span class="annot"><a href="#local-6989586621679341487"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341488"><span class="annot"><a href="#local-6989586621679341488"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341489"><span class="annot"><a href="#local-6989586621679341489"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341490"><span class="annot"><a href="#local-6989586621679341490"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341491"><span class="annot"><a href="#local-6989586621679341491"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679341486"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341487"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341491"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341486"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341488"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341487"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341489"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- type 'Optic'' p f s a = 'Simple' ('Optic' p f) s a</span><span>
</span><span id="line-571"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-572"></span><span class="hs-keyword">type</span><span> </span><span id="Optic%27"><span class="annot"><a href="Control.Lens.Type.html#Optic%27"><span class="hs-identifier hs-var">Optic'</span></a></span></span><span> </span><span id="local-6989586621679341492"><span class="annot"><a href="#local-6989586621679341492"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341493"><span class="annot"><a href="#local-6989586621679341493"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341494"><span class="annot"><a href="#local-6989586621679341494"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341495"><span class="annot"><a href="#local-6989586621679341495"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optic"><span class="hs-identifier hs-type">Optic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341492"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341493"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341494"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341494"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341495"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341495"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- type 'LensLike' f s t a b = 'Optical' (-&gt;) (-&gt;) f s t a b</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-577"></span><span class="hs-comment">--</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-579"></span><span class="hs-comment">-- type 'Over' p f s t a b = 'Optical' p (-&gt;) f s t a b</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-581"></span><span class="hs-comment">--</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- type 'Optic' p f s t a b = 'Optical' p p f s t a b</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-585"></span><span class="hs-keyword">type</span><span> </span><span id="Optical"><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-var">Optical</span></a></span></span><span> </span><span id="local-6989586621679341496"><span class="annot"><a href="#local-6989586621679341496"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341497"><span class="annot"><a href="#local-6989586621679341497"><span class="hs-identifier hs-type">q</span></a></span></span><span> </span><span id="local-6989586621679341498"><span class="annot"><a href="#local-6989586621679341498"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341499"><span class="annot"><a href="#local-6989586621679341499"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341500"><span class="annot"><a href="#local-6989586621679341500"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341501"><span class="annot"><a href="#local-6989586621679341501"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341502"><span class="annot"><a href="#local-6989586621679341502"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679341496"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341501"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341498"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341502"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341497"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341499"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341498"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341500"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>
</span><span id="line-587"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-588"></span><span class="hs-comment">-- type 'Optical'' p q f s a = 'Simple' ('Optical' p q f) s a</span><span>
</span><span id="line-589"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-590"></span><span class="hs-keyword">type</span><span> </span><span id="Optical%27"><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-var">Optical'</span></a></span></span><span> </span><span id="local-6989586621679341503"><span class="annot"><a href="#local-6989586621679341503"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341504"><span class="annot"><a href="#local-6989586621679341504"><span class="hs-identifier hs-type">q</span></a></span></span><span> </span><span id="local-6989586621679341505"><span class="annot"><a href="#local-6989586621679341505"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341506"><span class="annot"><a href="#local-6989586621679341506"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341507"><span class="annot"><a href="#local-6989586621679341507"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341503"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341504"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341505"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341506"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341506"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341507"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341507"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span class="hs-comment">-- | Many combinators that accept a 'Lens' can also accept a</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- 'Traversal' in limited situations.</span><span>
</span><span id="line-595"></span><span class="hs-comment">--</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- They do so by specializing the type of 'Functor' that they require of the</span><span>
</span><span id="line-597"></span><span class="hs-comment">-- caller.</span><span>
</span><span id="line-598"></span><span class="hs-comment">--</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- If a function accepts a @'LensLike' f s t a b@ for some 'Functor' @f@,</span><span>
</span><span id="line-600"></span><span class="hs-comment">-- then they may be passed a 'Lens'.</span><span>
</span><span id="line-601"></span><span class="hs-comment">--</span><span>
</span><span id="line-602"></span><span class="hs-comment">-- Further, if @f@ is an 'Applicative', they may also be passed a</span><span>
</span><span id="line-603"></span><span class="hs-comment">-- 'Traversal'.</span><span>
</span><span id="line-604"></span><span class="hs-keyword">type</span><span> </span><span id="LensLike"><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-var">LensLike</span></a></span></span><span> </span><span id="local-6989586621679341508"><span class="annot"><a href="#local-6989586621679341508"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341509"><span class="annot"><a href="#local-6989586621679341509"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341510"><span class="annot"><a href="#local-6989586621679341510"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341511"><span class="annot"><a href="#local-6989586621679341511"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341512"><span class="annot"><a href="#local-6989586621679341512"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341511"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341512"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341509"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341508"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341510"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span class="hs-comment">-- | @</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- type 'LensLike'' f = 'Simple' ('LensLike' f)</span><span>
</span><span id="line-608"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-609"></span><span class="hs-keyword">type</span><span> </span><span id="LensLike%27"><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-var">LensLike'</span></a></span></span><span> </span><span id="local-6989586621679341513"><span class="annot"><a href="#local-6989586621679341513"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341514"><span class="annot"><a href="#local-6989586621679341514"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341515"><span class="annot"><a href="#local-6989586621679341515"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341513"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341514"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341514"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341515"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341515"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-610"></span><span>
</span><span id="line-611"></span><span class="annot"><span class="hs-comment">-- | Convenient alias for constructing indexed lenses and their ilk.</span></span><span>
</span><span id="line-612"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedLensLike"><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike"><span class="hs-identifier hs-var">IndexedLensLike</span></a></span></span><span> </span><span id="local-6989586621679341516"><span class="annot"><a href="#local-6989586621679341516"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341517"><span class="annot"><a href="#local-6989586621679341517"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341518"><span class="annot"><a href="#local-6989586621679341518"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341519"><span class="annot"><a href="#local-6989586621679341519"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341520"><span class="annot"><a href="#local-6989586621679341520"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341521"><span class="annot"><a href="#local-6989586621679341521"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679341522"><span class="annot"><a href="#local-6989586621679341522"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341516"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341522"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341522"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341520"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341517"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341521"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341518"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341517"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341519"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span class="annot"><span class="hs-comment">-- | Convenient alias for constructing simple indexed lenses and their ilk.</span></span><span>
</span><span id="line-615"></span><span class="hs-keyword">type</span><span> </span><span id="IndexedLensLike%27"><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike%27"><span class="hs-identifier hs-var">IndexedLensLike'</span></a></span></span><span> </span><span id="local-6989586621679341523"><span class="annot"><a href="#local-6989586621679341523"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679341524"><span class="annot"><a href="#local-6989586621679341524"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341525"><span class="annot"><a href="#local-6989586621679341525"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341526"><span class="annot"><a href="#local-6989586621679341526"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike"><span class="hs-identifier hs-type">IndexedLensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341523"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341524"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341525"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341525"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341526"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341526"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="annot"><span class="hs-comment">-- | This is a convenient alias for use when you need to consume either indexed or non-indexed lens-likes based on context.</span></span><span>
</span><span id="line-618"></span><span class="hs-keyword">type</span><span> </span><span id="Over"><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier hs-var">Over</span></a></span></span><span> </span><span id="local-6989586621679341527"><span class="annot"><a href="#local-6989586621679341527"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341528"><span class="annot"><a href="#local-6989586621679341528"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341529"><span class="annot"><a href="#local-6989586621679341529"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341530"><span class="annot"><a href="#local-6989586621679341530"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679341531"><span class="annot"><a href="#local-6989586621679341531"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679341532"><span class="annot"><a href="#local-6989586621679341532"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679341527"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341531"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679341528"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341532"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341529"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679341528"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341530"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span class="hs-comment">-- | This is a convenient alias for use when you need to consume either indexed or non-indexed lens-likes based on context.</span><span>
</span><span id="line-621"></span><span class="hs-comment">--</span><span>
</span><span id="line-622"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-623"></span><span class="hs-comment">-- type 'Over'' p f = 'Simple' ('Over' p f)</span><span>
</span><span id="line-624"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-625"></span><span class="hs-keyword">type</span><span> </span><span id="Over%27"><span class="annot"><a href="Control.Lens.Type.html#Over%27"><span class="hs-identifier hs-var">Over'</span></a></span></span><span> </span><span id="local-6989586621679341533"><span class="annot"><a href="#local-6989586621679341533"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679341534"><span class="annot"><a href="#local-6989586621679341534"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679341535"><span class="annot"><a href="#local-6989586621679341535"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679341536"><span class="annot"><a href="#local-6989586621679341536"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier hs-type">Over</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341533"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341534"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341535"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341535"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341536"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679341536"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-626"></span></pre></body></html>